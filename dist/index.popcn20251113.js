/*! For license information please see index.popcn20251113.js.LICENSE.txt */
(()=>{var e={522:function(e,t,n){e.exports=(()=>{var e={"./node_modules/.pnpm/cropperjs@1.6.2/node_modules/cropperjs/dist/cropper.js":function(e){e.exports=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?e(Object(a),!0).forEach(function(e){var r,i;r=e,i=a[e],(r=n(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function n(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n(a.key),a)}}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s="undefined"!=typeof window&&void 0!==window.document,l=s?window:{},u=!!s&&!!l.document.documentElement&&"ontouchstart"in l.document.documentElement,c=!!s&&"PointerEvent"in l,d="cropper",h="crop",p="move",f="zoom",m="".concat(d,"-crop"),g="".concat(d,"-disabled"),y="".concat(d,"-hidden"),_="".concat(d,"-hide"),b="".concat(d,"-invisible"),A="".concat(d,"-modal"),w="".concat(d,"-move"),x="".concat(d,"Action"),C="".concat(d,"Preview"),S="crop",k="move",E="none",T="crop",O="cropend",P="cropmove",I="cropstart",M="dblclick",L=c?"pointerdown":u?"touchstart":"mousedown",D=c?"pointermove":u?"touchmove":"mousemove",R=c?"pointerup pointercancel":u?"touchend touchcancel":"mouseup",N="ready",j="resize",F="wheel",B="zoom",U="image/jpeg",V=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,W=/^data:/,z=/^data:image\/jpeg;base64,/,H=/^img|canvas$/i,$={viewMode:0,dragMode:S,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},K=Number.isNaN||l.isNaN;function q(e){return"number"==typeof e&&!K(e)}var G=function(e){return e>0&&e<1/0};function Y(e){return void 0===e}function X(e){return"object"===r(e)&&null!==e}var J=Object.prototype.hasOwnProperty;function Z(e){if(!X(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&J.call(n,"isPrototypeOf")}catch(e){return!1}}function Q(e){return"function"==typeof e}var ee=Array.prototype.slice;function et(e){return Array.from?Array.from(e):ee.call(e)}function en(e,t){return e&&Q(t)&&(Array.isArray(e)||q(e.length)?et(e).forEach(function(n,r){t.call(e,n,r,e)}):X(e)&&Object.keys(e).forEach(function(n){t.call(e,e[n],n,e)})),e}var er=Object.assign||function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return X(e)&&n.length>0&&n.forEach(function(t){X(t)&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e},ea=/\.\d*(?:0|9){12}\d*$/;function ei(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return ea.test(e)?Math.round(e*t)/t:e}var eo=/^width|height|left|top|marginLeft|marginTop$/;function es(e,t){var n=e.style;en(t,function(e,t){eo.test(t)&&q(e)&&(e="".concat(e,"px")),n[t]=e})}function el(e,t){if(t){if(q(e.length))return void en(e,function(e){el(e,t)});if(e.classList)return void e.classList.add(t);var n=e.className.trim();n?0>n.indexOf(t)&&(e.className="".concat(n," ").concat(t)):e.className=t}}function eu(e,t){if(t){if(q(e.length))return void en(e,function(e){eu(e,t)});if(e.classList)return void e.classList.remove(t);e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function ec(e,t,n){if(t){if(q(e.length))return void en(e,function(e){ec(e,t,n)});n?el(e,t):eu(e,t)}}var ed=/([a-z\d])([A-Z])/g;function eh(e){return e.replace(ed,"$1-$2").toLowerCase()}function ep(e,t){return X(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(eh(t)))}function ef(e,t,n){X(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(eh(t)),n)}var em=/\s\s*/,eg=function(){var e=!1;if(s){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});l.addEventListener("test",n,r),l.removeEventListener("test",n,r)}return e}();function ev(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n;t.trim().split(em).forEach(function(t){if(!eg){var i=e.listeners;i&&i[t]&&i[t][n]&&(a=i[t][n],delete i[t][n],0===Object.keys(i[t]).length&&delete i[t],0===Object.keys(i).length&&delete e.listeners)}e.removeEventListener(t,a,r)})}function ey(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n;t.trim().split(em).forEach(function(t){if(r.once&&!eg){var i=e.listeners,o=void 0===i?{}:i;a=function(){delete o[t][n],e.removeEventListener(t,a,r);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];n.apply(e,s)},o[t]||(o[t]={}),o[t][n]&&e.removeEventListener(t,o[t][n],r),o[t][n]=a,e.listeners=o}e.addEventListener(t,a,r)})}function e_(e,t,n){var r;return Q(Event)&&Q(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)}function eb(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var eA=l.location,ew=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ex(e){var t=e.match(ew);return null!==t&&(t[1]!==eA.protocol||t[2]!==eA.hostname||t[3]!==eA.port)}function eC(e){var t="timestamp=".concat(new Date().getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function eS(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,a=e.translateX,i=e.translateY,o=[];q(a)&&0!==a&&o.push("translateX(".concat(a,"px)")),q(i)&&0!==i&&o.push("translateY(".concat(i,"px)")),q(t)&&0!==t&&o.push("rotate(".concat(t,"deg)")),q(n)&&1!==n&&o.push("scaleX(".concat(n,")")),q(r)&&1!==r&&o.push("scaleY(".concat(r,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function ek(e,n){var r=e.pageX,a=e.pageY,i={endX:r,endY:a};return n?i:t({startX:r,startY:a},i)}function eE(e){var t=e.aspectRatio,n=e.height,r=e.width,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",i=G(r),o=G(n);if(i&&o){var s=n*t;"contain"===a&&s>r||"cover"===a&&s<r?n=r/t:r=n*t}else i?n=r/t:o&&(r=n*t);return{width:r,height:n}}var eT=String.fromCharCode,eO=/^data:.*,/,eP=l.Cropper,eI=function(){var e,t;function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof n))throw TypeError("Cannot call a class as a function");if(!e||!H.test(e.tagName))throw Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=er({},$,Z(t)&&t),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return e=[{key:"init",value:function(){var e,t=this.element,n=t.tagName.toLowerCase();if(!t[d]){if(t[d]=this,"img"===n){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var n,r,a,i=this.element,o=this.options;if(o.rotatable||o.scalable||(o.checkOrientation=!1),!o.checkOrientation||!window.ArrayBuffer)return void this.clone();if(W.test(e))return void(z.test(e)?this.read((en(a=new Uint8Array(r=new ArrayBuffer((n=atob(e.replace(eO,""))).length)),function(e,t){a[t]=n.charCodeAt(t)}),r)):this.clone());var s=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=l,s.onerror=l,s.ontimeout=l,s.onprogress=function(){s.getResponseHeader("content-type")!==U&&s.abort()},s.onload=function(){t.read(s.response)},s.onloadend=function(){t.reloading=!1,t.xhr=null},o.checkCrossOrigin&&ex(e)&&i.crossOrigin&&(e=eC(e)),s.open("GET",e,!0),s.responseType="arraybuffer",s.withCredentials="use-credentials"===i.crossOrigin,s.send()}}},{key:"read",value:function(e){var t=this.options,n=this.imageData,r=function(e){var t=new DataView(e);try{if(255===t.getUint8(0)&&216===t.getUint8(1))for(var n=t.byteLength,r=2;r+1<n;){if(255===t.getUint8(r)&&225===t.getUint8(r+1)){c=r;break}r+=1}if(c){var a=c+4,i=c+10;if("Exif"===function(e,t,n){var r="";n+=t;for(var a=t;a<n;a+=1)r+=eT(e.getUint8(a));return r}(t,a,4)){var o=t.getUint16(i);if(((u=18761===o)||19789===o)&&42===t.getUint16(i+2,u)){var s=t.getUint32(i+4,u);s>=8&&(d=i+s)}}}if(d){var l,u,c,d,h,p,f=t.getUint16(d,u);for(p=0;p<f;p+=1)if(h=d+12*p+2,274===t.getUint16(h,u)){h+=8,l=t.getUint16(h,u),t.setUint16(h,1,u);break}}}catch(e){l=1}return l}(e),a=0,i=1,o=1;if(r>1){this.url=function(e,t){for(var n=[],r=new Uint8Array(e);r.length>0;)n.push(eT.apply(null,et(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}(e,U);var s=function(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:r}}(r);a=s.rotate,i=s.scaleX,o=s.scaleY}t.rotatable&&(n.rotate=a),t.scalable&&(n.scaleX=i,n.scaleY=o),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,n=e.crossOrigin,r=t;this.options.checkCrossOrigin&&ex(t)&&(n||(n="anonymous"),r=eC(t)),this.crossOrigin=n,this.crossOriginUrl=r;var a=document.createElement("img");n&&(a.crossOrigin=n),a.src=r||t,a.alt=e.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),el(a,_),e.parentNode.insertBefore(a,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var n=l.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(l.navigator.userAgent),r=function(t,n){er(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.initialImageData=er({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(t.naturalWidth&&!n)return void r(t.naturalWidth,t.naturalHeight);var a=document.createElement("img"),i=document.body||document.documentElement;this.sizingImage=a,a.onload=function(){r(a.width,a.height),n||i.removeChild(a)},a.src=t.src,n||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(a))}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,n=this.image,r=e.parentNode,a=document.createElement("div");a.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var i=a.querySelector(".".concat(d,"-container")),o=i.querySelector(".".concat(d,"-canvas")),s=i.querySelector(".".concat(d,"-drag-box")),l=i.querySelector(".".concat(d,"-crop-box")),u=l.querySelector(".".concat(d,"-face"));this.container=r,this.cropper=i,this.canvas=o,this.dragBox=s,this.cropBox=l,this.viewBox=i.querySelector(".".concat(d,"-view-box")),this.face=u,o.appendChild(n),el(e,y),r.insertBefore(i,e.nextSibling),eu(n,_),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,el(l,y),t.guides||el(l.getElementsByClassName("".concat(d,"-dashed")),y),t.center||el(l.getElementsByClassName("".concat(d,"-center")),y),t.background&&el(i,"".concat(d,"-bg")),t.highlight||el(u,b),t.cropBoxMovable&&(el(u,w),ef(u,x,"all")),t.cropBoxResizable||(el(l.getElementsByClassName("".concat(d,"-line")),y),el(l.getElementsByClassName("".concat(d,"-point")),y)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),Q(t.ready)&&ey(e,N,t.ready,{once:!0}),e_(e,N)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var e=this.cropper.parentNode;e&&e.removeChild(this.cropper),eu(this.element,y)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],t=[{key:"noConflict",value:function(){return window.Cropper=eP,n}},{key:"setDefaults",value:function(e){er($,Z(e)&&e)}}],e&&a(n.prototype,e),t&&a(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();return er(eI.prototype,{render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,n=this.container,r=this.cropper,a=Number(t.minContainerWidth),i=Number(t.minContainerHeight);el(r,y),eu(e,y);var o={width:Math.max(n.offsetWidth,a>=0?a:200),height:Math.max(n.offsetHeight,i>=0?i:100)};this.containerData=o,es(r,{width:o.width,height:o.height}),el(e,y),eu(r,y)},initCanvas:function(){var e=this.containerData,t=this.imageData,n=this.options.viewMode,r=Math.abs(t.rotate)%180==90,a=r?t.naturalHeight:t.naturalWidth,i=r?t.naturalWidth:t.naturalHeight,o=a/i,s=e.width,l=e.height;e.height*o>e.width?3===n?s=e.height*o:l=e.width/o:3===n?l=e.width/o:s=e.height*o;var u={aspectRatio:o,naturalWidth:a,naturalHeight:i,width:s,height:l};this.canvasData=u,this.limited=1===n||2===n,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(e.width-u.width)/2,u.top=(e.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=er({},u)},limitCanvas:function(e,t){var n=this.options,r=this.containerData,a=this.canvasData,i=this.cropBoxData,o=n.viewMode,s=a.aspectRatio,l=this.cropped&&i;if(e){var u=Number(n.minCanvasWidth)||0,c=Number(n.minCanvasHeight)||0;o>1?(u=Math.max(u,r.width),c=Math.max(c,r.height),3===o&&(c*s>u?u=c*s:c=u/s)):o>0&&(u?u=Math.max(u,l?i.width:0):c?c=Math.max(c,l?i.height:0):l&&(u=i.width,(c=i.height)*s>u?u=c*s:c=u/s));var d=eE({aspectRatio:s,width:u,height:c});u=d.width,c=d.height,a.minWidth=u,a.minHeight=c,a.maxWidth=1/0,a.maxHeight=1/0}if(t)if(o>+!l){var h=r.width-a.width,p=r.height-a.height;a.minLeft=Math.min(0,h),a.minTop=Math.min(0,p),a.maxLeft=Math.max(0,h),a.maxTop=Math.max(0,p),l&&this.limited&&(a.minLeft=Math.min(i.left,i.left+(i.width-a.width)),a.minTop=Math.min(i.top,i.top+(i.height-a.height)),a.maxLeft=i.left,a.maxTop=i.top,2===o&&(a.width>=r.width&&(a.minLeft=Math.min(0,h),a.maxLeft=Math.max(0,h)),a.height>=r.height&&(a.minTop=Math.min(0,p),a.maxTop=Math.max(0,p))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=r.width,a.maxTop=r.height},renderCanvas:function(e,t){var n=this.canvasData,r=this.imageData;if(t){var a=function(e){var t=e.width,n=e.height,r=e.degree;if(90==(r=Math.abs(r)%180))return{width:n,height:t};var a=r%90*Math.PI/180,i=Math.sin(a),o=Math.cos(a),s=t*o+n*i,l=t*i+n*o;return r>90?{width:l,height:s}:{width:s,height:l}}({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),i=a.width,o=a.height,s=n.width*(i/n.naturalWidth),l=n.height*(o/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(l-n.height)/2,n.width=s,n.height=l,n.aspectRatio=i/o,n.naturalWidth=i,n.naturalHeight=o,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,es(this.canvas,er({width:n.width,height:n.height},eS({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,n=this.imageData,r=n.naturalWidth*(t.width/t.naturalWidth),a=n.naturalHeight*(t.height/t.naturalHeight);er(n,{width:r,height:a,left:(t.width-r)/2,top:(t.height-a)/2}),es(this.image,er({width:n.width,height:n.height},eS(er({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,r=Number(e.autoCropArea)||.8,a={width:t.width,height:t.height};n&&(t.height*n>t.width?a.height=a.width/n:a.width=a.height*n),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*r),a.height=Math.max(a.minHeight,a.height*r),a.left=t.left+(t.width-a.width)/2,a.top=t.top+(t.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=er({},a)},limitCropBox:function(e,t){var n=this.options,r=this.containerData,a=this.canvasData,i=this.cropBoxData,o=this.limited,s=n.aspectRatio;if(e){var l=Number(n.minCropBoxWidth)||0,u=Number(n.minCropBoxHeight)||0,c=o?Math.min(r.width,a.width,a.width+a.left,r.width-a.left):r.width,d=o?Math.min(r.height,a.height,a.height+a.top,r.height-a.top):r.height;l=Math.min(l,r.width),u=Math.min(u,r.height),s&&(l&&u?u*s>l?u=l/s:l=u*s:l?u=l/s:u&&(l=u*s),d*s>c?d=c/s:c=d*s),i.minWidth=Math.min(l,c),i.minHeight=Math.min(u,d),i.maxWidth=c,i.maxHeight=d}t&&(o?(i.minLeft=Math.max(0,a.left),i.minTop=Math.max(0,a.top),i.maxLeft=Math.min(r.width,a.left+a.width)-i.width,i.maxTop=Math.min(r.height,a.top+a.height)-i.height):(i.minLeft=0,i.minTop=0,i.maxLeft=r.width-i.width,i.maxTop=r.height-i.height))},renderCropBox:function(){var e=this.options,t=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&ef(this.face,x,n.width>=t.width&&n.height>=t.height?p:"all"),es(this.cropBox,er({width:n.width,height:n.height},eS({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),e_(this.element,T,this.getData())}},{initPreview:function(){var e=this.element,t=this.crossOrigin,n=this.options.preview,r=t?this.crossOriginUrl:this.url,a=e.alt||"The image to preview",i=document.createElement("img");if(t&&(i.crossOrigin=t),i.src=r,i.alt=a,this.viewBox.appendChild(i),this.viewBoxImage=i,n){var o=n;"string"==typeof n?o=e.ownerDocument.querySelectorAll(n):n.querySelector&&(o=[n]),this.previews=o,en(o,function(e){var n=document.createElement("img");ef(e,C,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=r,n.alt=a,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)})}},resetPreview:function(){en(this.previews,function(e){var t=ep(e,C);if(es(e,{width:t.width,height:t.height}),e.innerHTML=t.html,X(e[C]))try{delete e[C]}catch(t){e[C]=void 0}else if(e.dataset)try{delete e.dataset[C]}catch(t){e.dataset[C]=void 0}else e.removeAttribute("data-".concat(eh(C)))})},preview:function(){var e=this.imageData,t=this.canvasData,n=this.cropBoxData,r=n.width,a=n.height,i=e.width,o=e.height,s=n.left-t.left-e.left,l=n.top-t.top-e.top;this.cropped&&!this.disabled&&(es(this.viewBoxImage,er({width:i,height:o},eS(er({translateX:-s,translateY:-l},e)))),en(this.previews,function(t){var n=ep(t,C),u=n.width,c=n.height,d=u,h=c,p=1;r&&(h=a*(p=u/r)),a&&h>c&&(d=r*(p=c/a),h=c),es(t,{width:d,height:h}),es(t.getElementsByTagName("img")[0],er({width:i*p,height:o*p},eS(er({translateX:-s*p,translateY:-l*p},e))))}))}},{bind:function(){var e=this.element,t=this.options,n=this.cropper;Q(t.cropstart)&&ey(e,I,t.cropstart),Q(t.cropmove)&&ey(e,P,t.cropmove),Q(t.cropend)&&ey(e,O,t.cropend),Q(t.crop)&&ey(e,T,t.crop),Q(t.zoom)&&ey(e,B,t.zoom),ey(n,L,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&ey(n,F,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ey(n,M,this.onDblclick=this.dblclick.bind(this)),ey(e.ownerDocument,D,this.onCropMove=this.cropMove.bind(this)),ey(e.ownerDocument,R,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&ey(window,j,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.cropper;Q(t.cropstart)&&ev(e,I,t.cropstart),Q(t.cropmove)&&ev(e,P,t.cropmove),Q(t.cropend)&&ev(e,O,t.cropend),Q(t.crop)&&ev(e,T,t.crop),Q(t.zoom)&&ev(e,B,t.zoom),ev(n,L,this.onCropStart),t.zoomable&&t.zoomOnWheel&&ev(n,F,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ev(n,M,this.onDblclick),ev(e.ownerDocument,D,this.onCropMove),ev(e.ownerDocument,R,this.onCropEnd),t.responsive&&ev(window,j,this.onResize)}},{resize:function(){if(!this.disabled){var e,t,n=this.options,r=this.container,a=this.containerData,i=r.offsetWidth/a.width,o=r.offsetHeight/a.height,s=Math.abs(i-1)>Math.abs(o-1)?i:o;1!==s&&(n.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(en(e,function(t,n){e[n]=t*s})),this.setCropBoxData(en(t,function(e,n){t[n]=e*s}))))}},dblclick:function(){if(!this.disabled&&this.options.dragMode!==E){var e;this.setDragMode(((e=this.dragBox).classList?e.classList.contains(m):e.className.indexOf(m)>-1)?k:S)}},wheel:function(e){var t=this,n=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),e.deltaY?r=e.deltaY>0?1:-1:e.wheelDelta?r=-e.wheelDelta/120:e.detail&&(r=e.detail>0?1:-1),this.zoom(-r*n,e)))},cropStart:function(e){var t,n=e.buttons,r=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(q(n)&&1!==n||q(r)&&0!==r||e.ctrlKey))){var a=this.options,i=this.pointers;e.changedTouches?en(e.changedTouches,function(e){i[e.identifier]=ek(e)}):i[e.pointerId||0]=ek(e),t=Object.keys(i).length>1&&a.zoomable&&a.zoomOnTouch?f:ep(e.target,x),V.test(t)&&!1!==e_(this.element,I,{originalEvent:e,action:t})&&(e.preventDefault(),this.action=t,this.cropping=!1,t===h&&(this.cropping=!0,el(this.dragBox,A)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var n=this.pointers;e.preventDefault(),!1!==e_(this.element,P,{originalEvent:e,action:t})&&(e.changedTouches?en(e.changedTouches,function(e){er(n[e.identifier]||{},ek(e,!0))}):er(n[e.pointerId||0]||{},ek(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,n=this.pointers;e.changedTouches?en(e.changedTouches,function(e){delete n[e.identifier]}):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,ec(this.dragBox,A,this.cropped&&this.options.modal)),e_(this.element,O,{originalEvent:e,action:t}))}}},{change:function(e){var n,r,a,i=this.options,o=this.canvasData,s=this.containerData,l=this.cropBoxData,u=this.pointers,c=this.action,d=i.aspectRatio,m=l.left,g=l.top,_=l.width,b=l.height,A=m+_,w=g+b,x=0,C=0,S=s.width,k=s.height,E=!0;!d&&e.shiftKey&&(d=_&&b?_/b:1),this.limited&&(x=l.minLeft,C=l.minTop,S=x+Math.min(s.width,o.width,o.left+o.width),k=C+Math.min(s.height,o.height,o.top+o.height));var T=u[Object.keys(u)[0]],O={x:T.endX-T.startX,y:T.endY-T.startY},P=function(e){switch(e){case"e":A+O.x>S&&(O.x=S-A);break;case"w":m+O.x<x&&(O.x=x-m);break;case"n":g+O.y<C&&(O.y=C-g);break;case"s":w+O.y>k&&(O.y=k-w)}};switch(c){case"all":m+=O.x,g+=O.y;break;case"e":if(O.x>=0&&(A>=S||d&&(g<=C||w>=k))){E=!1;break}P("e"),(_+=O.x)<0&&(c="w",m-=_=-_),d&&(b=_/d,g+=(l.height-b)/2);break;case"n":if(O.y<=0&&(g<=C||d&&(m<=x||A>=S))){E=!1;break}P("n"),b-=O.y,g+=O.y,b<0&&(c="s",g-=b=-b),d&&(_=b*d,m+=(l.width-_)/2);break;case"w":if(O.x<=0&&(m<=x||d&&(g<=C||w>=k))){E=!1;break}P("w"),_-=O.x,m+=O.x,_<0&&(c="e",m-=_=-_),d&&(b=_/d,g+=(l.height-b)/2);break;case"s":if(O.y>=0&&(w>=k||d&&(m<=x||A>=S))){E=!1;break}P("s"),(b+=O.y)<0&&(c="n",g-=b=-b),d&&(_=b*d,m+=(l.width-_)/2);break;case"ne":if(d){if(O.y<=0&&(g<=C||A>=S)){E=!1;break}P("n"),b-=O.y,g+=O.y,_=b*d}else P("n"),P("e"),O.x>=0?A<S?_+=O.x:O.y<=0&&g<=C&&(E=!1):_+=O.x,O.y<=0?g>C&&(b-=O.y,g+=O.y):(b-=O.y,g+=O.y);_<0&&b<0?(c="sw",_=-_,g-=b=-b,m-=_):_<0?(c="nw",m-=_=-_):b<0&&(c="se",g-=b=-b);break;case"nw":if(d){if(O.y<=0&&(g<=C||m<=x)){E=!1;break}P("n"),b-=O.y,g+=O.y,_=b*d,m+=l.width-_}else P("n"),P("w"),O.x<=0?m>x?(_-=O.x,m+=O.x):O.y<=0&&g<=C&&(E=!1):(_-=O.x,m+=O.x),O.y<=0?g>C&&(b-=O.y,g+=O.y):(b-=O.y,g+=O.y);_<0&&b<0?(c="se",_=-_,g-=b=-b,m-=_):_<0?(c="ne",m-=_=-_):b<0&&(c="sw",g-=b=-b);break;case"sw":if(d){if(O.x<=0&&(m<=x||w>=k)){E=!1;break}P("w"),_-=O.x,m+=O.x,b=_/d}else P("s"),P("w"),O.x<=0?m>x?(_-=O.x,m+=O.x):O.y>=0&&w>=k&&(E=!1):(_-=O.x,m+=O.x),O.y>=0?w<k&&(b+=O.y):b+=O.y;_<0&&b<0?(c="ne",_=-_,g-=b=-b,m-=_):_<0?(c="se",m-=_=-_):b<0&&(c="nw",g-=b=-b);break;case"se":if(d){if(O.x>=0&&(A>=S||w>=k)){E=!1;break}P("e"),_+=O.x,b=_/d}else P("s"),P("e"),O.x>=0?A<S?_+=O.x:O.y>=0&&w>=k&&(E=!1):_+=O.x,O.y>=0?w<k&&(b+=O.y):b+=O.y;_<0&&b<0?(c="nw",_=-_,g-=b=-b,m-=_):_<0?(c="sw",m-=_=-_):b<0&&(c="ne",g-=b=-b);break;case p:this.move(O.x,O.y),E=!1;break;case f:this.zoom((n=t({},u),r=0,en(u,function(e,t){delete n[t],en(n,function(t){var n=Math.abs(e.startX-t.startX),a=Math.abs(e.startY-t.startY),i=Math.abs(e.endX-t.endX),o=Math.abs(e.endY-t.endY),s=Math.sqrt(n*n+a*a),l=(Math.sqrt(i*i+o*o)-s)/s;Math.abs(l)>Math.abs(r)&&(r=l)})}),r),e),E=!1;break;case h:if(!O.x||!O.y){E=!1;break}a=eb(this.cropper),m=T.startX-a.left,g=T.startY-a.top,_=l.minWidth,b=l.minHeight,O.x>0?c=O.y>0?"se":"ne":O.x<0&&(m-=_,c=O.y>0?"sw":"nw"),O.y<0&&(g-=b),!this.cropped&&(eu(this.cropBox,y),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}E&&(l.width=_,l.height=b,l.left=m,l.top=g,this.action=c,this.renderCropBox()),en(u,function(e){e.startX=e.endX,e.startY=e.endY})}},{crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&el(this.dragBox,A),eu(this.cropBox,y),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=er({},this.initialImageData),this.canvasData=er({},this.initialCanvasData),this.cropBoxData=er({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(er(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),eu(this.dragBox,A),el(this.cropBox,y)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,en(this.previews,function(t){t.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,eu(this.cropper,g)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,el(this.cropper,g)),this},destroy:function(){var e=this.element;return e[d]&&(e[d]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate()),this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,r=n.left,a=n.top;return this.moveTo(Y(e)?e:r+Number(e),Y(t)?t:a+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(q(e)&&(n.left=e,r=!0),q(t)&&(n.top=t,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,null,t)},zoomTo:function(e,t,n){var r=this.options,a=this.canvasData,i=a.width,o=a.height,s=a.naturalWidth,l=a.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&r.zoomable){var u=s*e,c=l*e;if(!1===e_(this.element,B,{ratio:e,oldRatio:i/s,originalEvent:n}))return this;if(n){var d,h,p,f=this.pointers,m=eb(this.cropper),g=f&&Object.keys(f).length?(d=0,h=0,p=0,en(f,function(e){var t=e.startX,n=e.startY;d+=t,h+=n,p+=1}),d/=p,h/=p,{pageX:d,pageY:h}):{pageX:n.pageX,pageY:n.pageY};a.left-=(u-i)*((g.pageX-m.left-a.left)/i),a.top-=(c-o)*((g.pageY-m.top-a.top)/o)}else Z(t)&&q(t.x)&&q(t.y)?(a.left-=(u-i)*((t.x-a.left)/i),a.top-=(c-o)*((t.y-a.top)/o)):(a.left-=(u-i)/2,a.top-=(c-o)/2);a.width=u,a.height=c,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return q(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,q(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(q(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.imageData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(q(e)&&(n.scaleX=e,r=!0),q(t)&&(n.scaleY=t,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,r=this.imageData,a=this.canvasData,i=this.cropBoxData;if(this.ready&&this.cropped){e={x:i.left-a.left,y:i.top-a.top,width:i.width,height:i.height};var o=r.width/r.naturalWidth;if(en(e,function(t,n){e[n]=t/o}),t){var s=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return n.rotatable&&(e.rotate=r.rotate||0),n.scalable&&(e.scaleX=r.scaleX||1,e.scaleY=r.scaleY||1),e},setData:function(e){var t=this.options,n=this.imageData,r=this.canvasData,a={};if(this.ready&&!this.disabled&&Z(e)){var i=!1;t.rotatable&&q(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,i=!0),t.scalable&&(q(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,i=!0),q(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,i=!0)),i&&this.renderCanvas(!0,!0);var o=n.width/n.naturalWidth;q(e.x)&&(a.left=e.x*o+r.left),q(e.y)&&(a.top=e.y*o+r.top),q(e.width)&&(a.width=e.width*o),q(e.height)&&(a.height=e.height*o),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?er({},this.containerData):{}},getImageData:function(){return this.sized?er({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&en(["left","top","width","height","naturalWidth","naturalHeight"],function(n){t[n]=e[n]}),t},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return this.ready&&!this.disabled&&Z(e)&&(q(e.left)&&(t.left=e.left),q(e.top)&&(t.top=e.top),q(e.width)?(t.width=e.width,t.height=e.width/n):q(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,n,r=this.cropBoxData,a=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&Z(e)&&(q(e.left)&&(r.left=e.left),q(e.top)&&(r.top=e.top),q(e.width)&&e.width!==r.width&&(t=!0,r.width=e.width),q(e.height)&&e.height!==r.height&&(n=!0,r.height=e.height),a&&(t?r.height=r.width/a:n&&(r.width=r.height*a)),this.renderCropBox()),this},getCroppedCanvas:function(){var e,t,n,r,a,o,s,l,u,c,d,h,p,f,m,g,y,_,b,A,w,x,C,S,k,E,T,O,P,I,M,L,D,R,N,j,F,B,U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var V=this.canvasData,W=(e=this.image,n=(t=this.imageData).aspectRatio,r=t.naturalWidth,a=t.naturalHeight,o=t.rotate,s=t.scaleX,l=t.scaleY,u=V.aspectRatio,c=V.naturalWidth,d=V.naturalHeight,h=U.fillColor,p=U.imageSmoothingEnabled,f=U.imageSmoothingQuality,g=void 0===(m=U.maxWidth)?1/0:m,_=void 0===(y=U.maxHeight)?1/0:y,A=void 0===(b=U.minWidth)?0:b,x=void 0===(w=U.minHeight)?0:w,S=(C=document.createElement("canvas")).getContext("2d"),k=eE({aspectRatio:u,width:g,height:_}),E=eE({aspectRatio:u,width:A,height:x},"cover"),T=Math.min(k.width,Math.max(E.width,c)),O=Math.min(k.height,Math.max(E.height,d)),P=eE({aspectRatio:n,width:g,height:_}),I=eE({aspectRatio:n,width:A,height:x},"cover"),M=Math.min(P.width,Math.max(I.width,r)),L=Math.min(P.height,Math.max(I.height,a)),C.width=ei(T),C.height=ei(O),S.fillStyle=void 0===h?"transparent":h,S.fillRect(0,0,T,O),S.save(),S.translate(T/2,O/2),S.rotate((void 0===o?0:o)*Math.PI/180),S.scale(void 0===s?1:s,void 0===l?1:l),S.imageSmoothingEnabled=void 0===p||p,S.imageSmoothingQuality=void 0===f?"low":f,S.drawImage.apply(S,[e].concat(i([-M/2,-L/2,M,L].map(function(e){return Math.floor(ei(e))})))),S.restore(),C);if(!this.cropped)return W;var z=this.getData(U.rounded),H=z.x,$=z.y,K=z.width,q=z.height,G=W.width/Math.floor(V.naturalWidth);1!==G&&(H*=G,$*=G,K*=G,q*=G);var Y=K/q,X=eE({aspectRatio:Y,width:U.maxWidth||1/0,height:U.maxHeight||1/0}),J=eE({aspectRatio:Y,width:U.minWidth||0,height:U.minHeight||0},"cover"),Z=eE({aspectRatio:Y,width:U.width||(1!==G?W.width:K),height:U.height||(1!==G?W.height:q)}),Q=Z.width,ee=Z.height;Q=Math.min(X.width,Math.max(J.width,Q)),ee=Math.min(X.height,Math.max(J.height,ee));var et=document.createElement("canvas"),en=et.getContext("2d");et.width=ei(Q),et.height=ei(ee),en.fillStyle=U.fillColor||"transparent",en.fillRect(0,0,Q,ee);var er=U.imageSmoothingEnabled,ea=U.imageSmoothingQuality;en.imageSmoothingEnabled=void 0===er||er,ea&&(en.imageSmoothingQuality=ea);var eo=W.width,es=W.height,el=H,eu=$;el<=-K||el>eo?(el=0,D=0,N=0,F=0):el<=0?(N=-el,F=D=Math.min(eo,K+(el=0))):el<=eo&&(N=0,F=D=Math.min(K,eo-el)),D<=0||eu<=-q||eu>es?(eu=0,R=0,j=0,B=0):eu<=0?(j=-eu,B=R=Math.min(es,q+(eu=0))):eu<=es&&(j=0,B=R=Math.min(q,es-eu));var ec=[el,eu,D,R];if(F>0&&B>0){var ed=Q/K;ec.push(N*ed,j*ed,F*ed,B*ed)}return en.drawImage.apply(en,[W].concat(i(ec.map(function(e){return Math.floor(ei(e))})))),et},setAspectRatio:function(e){var t=this.options;return!this.disabled&&!Y(e)&&(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,n=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var a=e===S,i=t.movable&&e===k;t.dragMode=e=a||i?e:E,ef(n,x,e),ec(n,m,a),ec(n,w,i),t.cropBoxMovable||(ef(r,x,e),ec(r,m,a),ec(r,w,i))}return this}}),eI}()}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{"use strict";let e,t,i,o,s,l,u,c,d,h,p,f,m,g,y,_,b,A;function w(e){let t=Object.create(null);for(let n of e.split(","))t[n]=1;return e=>e in t}r.r(a),r.d(a,{default:()=>dw});let x={},C=[],S=()=>{},k=()=>!1,E=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||97>e.charCodeAt(2)),T=e=>e.startsWith("onUpdate:"),O=Object.assign,P=(e,t)=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)},I=Object.prototype.hasOwnProperty,M=(e,t)=>I.call(e,t),L=Array.isArray,D=e=>"function"==typeof e,R=e=>"string"==typeof e,N=e=>"symbol"==typeof e,j=e=>null!==e&&"object"==typeof e,F=e=>(j(e)||D(e))&&D(e.then)&&D(e.catch),B=Object.prototype.toString,U=e=>R(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,V=w(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),W=e=>{let t=Object.create(null);return n=>t[n]||(t[n]=e(n))},z=/-(\w)/g,H=W(e=>e.replace(z,(e,t)=>t?t.toUpperCase():"")),$=/\B([A-Z])/g,K=W(e=>e.replace($,"-$1").toLowerCase()),q=W(e=>e.charAt(0).toUpperCase()+e.slice(1)),G=W(e=>e?`on${q(e)}`:""),Y=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},X=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},J=e=>{let t=parseFloat(e);return isNaN(t)?e:t},Z=()=>e||(e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:{});function Q(e){if(L(e)){let t={};for(let n=0;n<e.length;n++){let r=e[n],a=R(r)?function(e){let t={};return e.replace(en,"").split(ee).forEach(e=>{if(e){let n=e.split(et);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}(r):Q(r);if(a)for(let e in a)t[e]=a[e]}return t}if(R(e)||j(e))return e}let ee=/;(?![^(]*\))/g,et=/:([^]+)/,en=/\/\*[^]*?\*\//g;function er(e){let t="";if(R(e))t=e;else if(L(e))for(let n=0;n<e.length;n++){let r=er(e[n]);r&&(t+=r+" ")}else if(j(e))for(let n in e)e[n]&&(t+=n+" ");return t.trim()}let ea=w("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function ei(e,t){if(e===t)return!0;let n="[object Date]"===B.call(e),r="[object Date]"===B.call(t);if(n||r)return!!n&&!!r&&e.getTime()===t.getTime();if(n=N(e),r=N(t),n||r)return e===t;if(n=L(e),r=L(t),n||r)return!!n&&!!r&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=ei(e[r],t[r]);return n}(e,t);if(n=j(e),r=j(t),n||r){if(!n||!r||Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e){let r=e.hasOwnProperty(n),a=t.hasOwnProperty(n);if(r&&!a||!r&&a||!ei(e[n],t[n]))return!1}}return String(e)===String(t)}function eo(e,t){return e.findIndex(e=>ei(e,t))}let es=e=>!!(e&&!0===e.__v_isRef),el=e=>R(e)?e:null==e?"":L(e)||j(e)&&(e.toString===B||!D(e.toString))?es(e)?el(e.value):JSON.stringify(e,eu,2):String(e),eu=(e,t)=>es(t)?eu(e,t.value):"[object Map]"===B.call(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],r)=>(e[ec(t,r)+" =>"]=n,e),{})}:"[object Set]"===B.call(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>ec(e))}:N(t)?ec(t):j(t)&&!L(t)&&"[object Object]"!==B.call(t)?String(t):t,ec=(e,t="")=>{var n;return N(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};class ed{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=t,!e&&t&&(this.index=(t.scopes||(t.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){let n=t;try{return t=this,e()}finally{t=n}}}on(){t=this}off(){t=this.parent}stop(e){if(this._active){let t,n;for(t=0,this._active=!1,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,this.effects.length=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){let e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}let eh=new WeakSet;class ep{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,t&&t.active&&t.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,eh.has(this)&&(eh.delete(this),this.trigger()))}notify(){(!(2&this.flags)||32&this.flags)&&(8&this.flags||em(this))}run(){if(!(1&this.flags))return this.fn();this.flags|=2,ek(this),ev(this);let e=i,t=ew;i=this,ew=!0;try{return this.fn()}finally{ey(this),i=e,ew=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)eA(e);this.deps=this.depsTail=void 0,ek(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?eh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){e_(this)&&this.run()}get dirty(){return e_(this)}}let ef=0;function em(e,t=!1){if(e.flags|=8,t){e.next=s,s=e;return}e.next=o,o=e}function eg(){let e;if(!(--ef>0)){if(s){let e=s;for(s=void 0;e;){let t=e.next;e.next=void 0,e.flags&=-9,e=t}}for(;o;){let t=o;for(o=void 0;t;){let n=t.next;if(t.next=void 0,t.flags&=-9,1&t.flags)try{t.trigger()}catch(t){e||(e=t)}t=n}}if(e)throw e}}function ev(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ey(e){let t,n=e.depsTail,r=n;for(;r;){let e=r.prevDep;-1===r.version?(r===n&&(n=e),eA(r),function(e){let{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function e_(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(eb(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function eb(e){if(4&e.flags&&!(16&e.flags)||(e.flags&=-17,e.globalVersion===eE))return;e.globalVersion=eE;let t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!e_(e)){e.flags&=-3;return}let n=i,r=ew;i=e,ew=!0;try{let n;ev(e);let r=e.fn(e._value);(0===t.version||(n=e._value,!Object.is(r,n)))&&(e._value=r,t.version++)}catch(e){throw t.version++,e}finally{i=n,ew=r,ey(e),e.flags&=-3}}function eA(e,t=!1){let{dep:n,prevSub:r,nextSub:a}=e;if(r&&(r.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)eA(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}let ew=!0,ex=[];function eC(){ex.push(ew),ew=!1}function eS(){let e=ex.pop();ew=void 0===e||e}function ek(e){let{cleanup:t}=e;if(e.cleanup=void 0,t){let e=i;i=void 0;try{t()}finally{i=e}}}let eE=0;class eT{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class eO{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!i||!ew||i===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==i)t=this.activeLink=new eT(i,this),i.deps?(t.prevDep=i.depsTail,i.depsTail.nextDep=t,i.depsTail=t):i.deps=i.depsTail=t,function e(t){if(t.dep.sc++,4&t.sub.flags){let n=t.dep.computed;if(n&&!t.dep.subs){n.flags|=20;for(let t=n.deps;t;t=t.nextDep)e(t)}let r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){let e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=i.depsTail,t.nextDep=void 0,i.depsTail.nextDep=t,i.depsTail=t,i.deps===t&&(i.deps=e)}return t}trigger(e){this.version++,eE++,this.notify(e)}notify(e){ef++;try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{eg()}}}let eP=new WeakMap,eI=Symbol(""),eM=Symbol(""),eL=Symbol("");function eD(e,t,n){if(ew&&i){let t=eP.get(e);t||eP.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new eO),r.map=t,r.key=n),r.track()}}function eR(e,t,n,r,a,i){let o=eP.get(e);if(!o)return void eE++;let s=e=>{e&&e.trigger()};if(ef++,"clear"===t)o.forEach(s);else{let a=L(e),i=a&&U(n);if(a&&"length"===n){let e=Number(r);o.forEach((t,n)=>{("length"===n||n===eL||!N(n)&&n>=e)&&s(t)})}else switch((void 0!==n||o.has(void 0))&&s(o.get(n)),i&&s(o.get(eL)),t){case"add":a?i&&s(o.get("length")):(s(o.get(eI)),"[object Map]"===B.call(e)&&s(o.get(eM)));break;case"delete":a||(s(o.get(eI)),"[object Map]"===B.call(e)&&s(o.get(eM)));break;case"set":"[object Map]"===B.call(e)&&s(o.get(eI))}}eg()}function eN(e){let t=to(e);return t===e?t:(eD(t,"iterate",eL),ta(e)?t:t.map(ts))}function ej(e){return eD(e=to(e),"iterate",eL),e}let eF={__proto__:null,[Symbol.iterator](){return eB(this,Symbol.iterator,ts)},concat(...e){return eN(this).concat(...e.map(e=>L(e)?eN(e):e))},entries(){return eB(this,"entries",e=>(e[1]=ts(e[1]),e))},every(e,t){return eV(this,"every",e,t,void 0,arguments)},filter(e,t){return eV(this,"filter",e,t,e=>e.map(ts),arguments)},find(e,t){return eV(this,"find",e,t,ts,arguments)},findIndex(e,t){return eV(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return eV(this,"findLast",e,t,ts,arguments)},findLastIndex(e,t){return eV(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return eV(this,"forEach",e,t,void 0,arguments)},includes(...e){return ez(this,"includes",e)},indexOf(...e){return ez(this,"indexOf",e)},join(e){return eN(this).join(e)},lastIndexOf(...e){return ez(this,"lastIndexOf",e)},map(e,t){return eV(this,"map",e,t,void 0,arguments)},pop(){return eH(this,"pop")},push(...e){return eH(this,"push",e)},reduce(e,...t){return eW(this,"reduce",e,t)},reduceRight(e,...t){return eW(this,"reduceRight",e,t)},shift(){return eH(this,"shift")},some(e,t){return eV(this,"some",e,t,void 0,arguments)},splice(...e){return eH(this,"splice",e)},toReversed(){return eN(this).toReversed()},toSorted(e){return eN(this).toSorted(e)},toSpliced(...e){return eN(this).toSpliced(...e)},unshift(...e){return eH(this,"unshift",e)},values(){return eB(this,"values",ts)}};function eB(e,t,n){let r=ej(e),a=r[t]();return r===e||ta(e)||(a._next=a.next,a.next=()=>{let e=a._next();return e.value&&(e.value=n(e.value)),e}),a}let eU=Array.prototype;function eV(e,t,n,r,a,i){let o=ej(e),s=o!==e&&!ta(e),l=o[t];if(l!==eU[t]){let t=l.apply(e,i);return s?ts(t):t}let u=n;o!==e&&(s?u=function(t,r){return n.call(this,ts(t),r,e)}:n.length>2&&(u=function(t,r){return n.call(this,t,r,e)}));let c=l.call(o,u,r);return s&&a?a(c):c}function eW(e,t,n,r){let a=ej(e),i=n;return a!==e&&(ta(e)?n.length>3&&(i=function(t,r,a){return n.call(this,t,r,a,e)}):i=function(t,r,a){return n.call(this,t,ts(r),a,e)}),a[t](i,...r)}function ez(e,t,n){let r=to(e);eD(r,"iterate",eL);let a=r[t](...n);return(-1===a||!1===a)&&ti(n[0])?(n[0]=to(n[0]),r[t](...n)):a}function eH(e,t,n=[]){eC(),ef++;let r=to(e)[t].apply(e,n);return eg(),eS(),r}let e$=w("__proto__,__v_isRef,__isVue"),eK=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(N));function eq(e){N(e)||(e=String(e));let t=to(this);return eD(t,"has",e),t.hasOwnProperty(e)}class eG{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;let r=this._isReadonly,a=this._isShallow;if("__v_isReactive"===t)return!r;if("__v_isReadonly"===t)return r;if("__v_isShallow"===t)return a;if("__v_raw"===t)return n===(r?a?e7:e8:a?e6:e4).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;let i=L(e);if(!r){let e;if(i&&(e=eF[t]))return e;if("hasOwnProperty"===t)return eq}let o=Reflect.get(e,t,tu(e)?e:n);return(N(t)?eK.has(t):e$(t))||(r||eD(e,"get",t),a)?o:tu(o)?i&&U(t)?o:o.value:j(o)?r?te(o):e9(o):o}}class eY extends eG{constructor(e=!1){super(!1,e)}set(e,t,n,r){let a=e[t];if(!this._isShallow){let t=tr(a);if(ta(n)||tr(n)||(a=to(a),n=to(n)),!L(e)&&tu(a)&&!tu(n))if(t)return!1;else return a.value=n,!0}let i=L(e)&&U(t)?Number(t)<e.length:M(e,t),o=Reflect.set(e,t,n,tu(e)?e:r);return e===to(r)&&(i?Object.is(n,a)||eR(e,"set",t,n,a):eR(e,"add",t,n)),o}deleteProperty(e,t){let n=M(e,t),r=e[t],a=Reflect.deleteProperty(e,t);return a&&n&&eR(e,"delete",t,void 0,r),a}has(e,t){let n=Reflect.has(e,t);return N(t)&&eK.has(t)||eD(e,"has",t),n}ownKeys(e){return eD(e,"iterate",L(e)?"length":eI),Reflect.ownKeys(e)}}let eX=new eY,eJ=new class extends eG{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}},eZ=new eY(!0),eQ=e=>e;function e0(e){return function(){return"delete"!==e&&("clear"===e?void 0:this)}}function e1(e,t){let n,r=(O(n={get(n){let r=this.__v_raw,a=to(r),i=to(n);e||(Object.is(n,i)||eD(a,"get",n),eD(a,"get",i));let{has:o}=Reflect.getPrototypeOf(a),s=t?eQ:e?tl:ts;return o.call(a,n)?s(r.get(n)):o.call(a,i)?s(r.get(i)):void(r!==a&&r.get(n))},get size(){let t=this.__v_raw;return e||eD(to(t),"iterate",eI),Reflect.get(t,"size",t)},has(t){let n=this.__v_raw,r=to(n),a=to(t);return e||(Object.is(t,a)||eD(r,"has",t),eD(r,"has",a)),t===a?n.has(t):n.has(t)||n.has(a)},forEach(n,r){let a=this,i=a.__v_raw,o=to(i),s=t?eQ:e?tl:ts;return e||eD(o,"iterate",eI),i.forEach((e,t)=>n.call(r,s(e),s(t),a))}},e?{add:e0("add"),set:e0("set"),delete:e0("delete"),clear:e0("clear")}:{add(e){t||ta(e)||tr(e)||(e=to(e));let n=to(this);return Reflect.getPrototypeOf(n).has.call(n,e)||(n.add(e),eR(n,"add",e,e)),this},set(e,n){t||ta(n)||tr(n)||(n=to(n));let r=to(this),{has:a,get:i}=Reflect.getPrototypeOf(r),o=a.call(r,e);o||(e=to(e),o=a.call(r,e));let s=i.call(r,e);return(r.set(e,n),o)?Object.is(n,s)||eR(r,"set",e,n,s):eR(r,"add",e,n),this},delete(e){let t=to(this),{has:n,get:r}=Reflect.getPrototypeOf(t),a=n.call(t,e);a||(e=to(e),a=n.call(t,e));let i=r?r.call(t,e):void 0,o=t.delete(e);return a&&eR(t,"delete",e,void 0,i),o},clear(){let e=to(this),t=0!==e.size,n=e.clear();return t&&eR(e,"clear",void 0,void 0,void 0),n}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=function(...n){let a=this.__v_raw,i=to(a),o="[object Map]"===B.call(i),s="entries"===r||r===Symbol.iterator&&o,l=a[r](...n),u=t?eQ:e?tl:ts;return e||eD(i,"iterate","keys"===r&&o?eM:eI),{next(){let{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:s?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}),n);return(t,n,a)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(M(r,n)&&n in t?r:t,n,a)}let e2={get:e1(!1,!1)},e5={get:e1(!1,!0)},e3={get:e1(!0,!1)},e4=new WeakMap,e6=new WeakMap,e8=new WeakMap,e7=new WeakMap;function e9(e){return tr(e)?e:tt(e,!1,eX,e2,e4)}function te(e){return tt(e,!0,eJ,e3,e8)}function tt(e,t,n,r,a){if(!j(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;let i=a.get(e);if(i)return i;let o=e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(B.call(e).slice(8,-1));if(0===o)return e;let s=new Proxy(e,2===o?r:n);return a.set(e,s),s}function tn(e){return tr(e)?tn(e.__v_raw):!!(e&&e.__v_isReactive)}function tr(e){return!!(e&&e.__v_isReadonly)}function ta(e){return!!(e&&e.__v_isShallow)}function ti(e){return!!e&&!!e.__v_raw}function to(e){let t=e&&e.__v_raw;return t?to(t):e}let ts=e=>j(e)?e9(e):e,tl=e=>j(e)?te(e):e;function tu(e){return!!e&&!0===e.__v_isRef}function tc(e){return th(e,!1)}function td(e){return th(e,!0)}function th(e,t){return tu(e)?e:new tp(e,t)}class tp{constructor(e,t){this.dep=new eO,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:to(e),this._value=t?e:ts(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){let t=this._rawValue,n=this.__v_isShallow||ta(e)||tr(e);Object.is(e=n?e:to(e),t)||(this._rawValue=e,this._value=n?e:ts(e),this.dep.trigger())}}function tf(e){return tu(e)?e.value:e}let tm={get:(e,t,n)=>"__v_raw"===t?e:tf(Reflect.get(e,t,n)),set:(e,t,n,r)=>{let a=e[t];return tu(a)&&!tu(n)?(a.value=n,!0):Reflect.set(e,t,n,r)}};function tg(e){return tn(e)?e:new Proxy(e,tm)}class tv{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){let e=this._object[this._key];return this._value=void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){var e,t;let n;return e=to(this._object),t=this._key,(n=eP.get(e))&&n.get(t)}}class ty{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function t_(e,t,n){if(tu(e))return e;if(D(e))return new ty(e);if(!j(e)||!(arguments.length>1))return tc(e);{let r;return tu(r=e[t])?r:new tv(e,t,n)}}class tb{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new eO(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=eE-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&i!==this)return em(this,!0),!0}get value(){let e=this.dep.track();return eb(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}let tA={},tw=new WeakMap;function tx(e,t=1/0,n){if(t<=0||!j(e)||e.__v_skip||(n=n||new Set).has(e))return e;if(n.add(e),t--,tu(e))tx(e.value,t,n);else if(L(e))for(let r=0;r<e.length;r++)tx(e[r],t,n);else if("[object Set]"===B.call(e)||"[object Map]"===B.call(e))e.forEach(e=>{tx(e,t,n)});else if("[object Object]"===B.call(e)){for(let r in e)tx(e[r],t,n);for(let r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&tx(e[r],t,n)}return e}function tC(e,t,n,r){try{return r?e(...r):e()}catch(e){tk(e,t,n)}}function tS(e,t,n,r){if(D(e)){let a=tC(e,t,n,r);return a&&F(a)&&a.catch(e=>{tk(e,t,n)}),a}if(L(e)){let a=[];for(let i=0;i<e.length;i++)a.push(tS(e[i],t,n,r));return a}}function tk(e,t,n,r=!0){t&&t.vnode;let{errorHandler:a,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||x;if(t){let r=t.parent,i=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){let t=r.ec;if(t){for(let n=0;n<t.length;n++)if(!1===t[n](e,i,o))return}r=r.parent}if(a){eC(),tC(a,null,10,[e,i,o]),eS();return}}!function(e,t,n,r=!0,a=!1){if(a)throw e;console.error(e)}(e,0,0,r,i)}let tE=[],tT=-1,tO=[],tP=null,tI=0,tM=Promise.resolve(),tL=null;function tD(e){let t=tL||tM;return e?t.then(this?e.bind(this):e):t}function tR(e){if(!(1&e.flags)){let t=tB(e),n=tE[tE.length-1];!n||!(2&e.flags)&&t>=tB(n)?tE.push(e):tE.splice(function(e){let t=tT+1,n=tE.length;for(;t<n;){let r=t+n>>>1,a=tE[r],i=tB(a);i<e||i===e&&2&a.flags?t=r+1:n=r}return t}(t),0,e),e.flags|=1,tN()}}function tN(){tL||(tL=tM.then(function e(t){try{for(tT=0;tT<tE.length;tT++){let e=tE[tT];e&&!(8&e.flags)&&(4&e.flags&&(e.flags&=-2),tC(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;tT<tE.length;tT++){let e=tE[tT];e&&(e.flags&=-2)}tT=-1,tE.length=0,tF(t),tL=null,(tE.length||tO.length)&&e(t)}}))}function tj(e,t,n=tT+1){for(;n<tE.length;n++){let t=tE[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;tE.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function tF(e){if(tO.length){let e=[...new Set(tO)].sort((e,t)=>tB(e)-tB(t));if(tO.length=0,tP)return void tP.push(...e);for(tI=0,tP=e;tI<tP.length;tI++){let e=tP[tI];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}tP=null,tI=0}}let tB=e=>null==e.id?2&e.flags?-1:1/0:e.id,tU=null,tV=null;function tW(e){let t=tU;return tU=e,tV=e&&e.type.__scopeId||null,t}function tz(e,t){if(null===tU)return e;let n=rT(tU),r=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[a,i,o,s=x]=t[e];a&&(D(a)&&(a={mounted:a,updated:a}),a.deep&&tx(i),r.push({dir:a,instance:n,value:i,oldValue:void 0,arg:o,modifiers:s}))}return e}function tH(e,t,n,r){let a=e.dirs,i=t&&t.dirs;for(let o=0;o<a.length;o++){let s=a[o];i&&(s.oldValue=i[o].value);let l=s.dir[r];l&&(eC(),tS(l,n,8,[e.el,s,e,t]),eS())}}let t$=Symbol("_vte");function tK(e,t){6&e.shapeFlag&&e.component?(e.transition=t,tK(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function tq(e,t){return D(e)?O({name:e.name},t,{setup:e}):e}function tG(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function tY(e,t,n,r,a=!1){if(L(e))return void e.forEach((e,i)=>tY(e,t&&(L(t)?t[i]:t),n,r,a));if(tX(r)&&!a){512&r.shapeFlag&&r.type.__asyncResolved&&r.component.subTree.component&&tY(e,t,n,r.component.subTree);return}let i=4&r.shapeFlag?rT(r.component):r.el,o=a?null:i,{i:s,r:l}=e,u=t&&t.r,c=s.refs===x?s.refs={}:s.refs,d=s.setupState,h=to(d),p=d===x?()=>!1:e=>M(h,e);if(null!=u&&u!==l&&(R(u)?(c[u]=null,p(u)&&(d[u]=null)):tu(u)&&(u.value=null)),D(l))tC(l,s,12,[o,c]);else{let t=R(l),r=tu(l);if(t||r){let s=()=>{if(e.f){let n=t?p(l)?d[l]:c[l]:l.value;a?L(n)&&P(n,i):L(n)?n.includes(i)||n.push(i):t?(c[l]=[i],p(l)&&(d[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else t?(c[l]=o,p(l)&&(d[l]=o)):r&&(l.value=o,e.k&&(c[e.k]=o))};o?(s.id=-1,nU(s,n)):s()}}}Symbol("_leaveCb"),Symbol("_enterCb"),Z().requestIdleCallback||(e=>setTimeout(e,1)),Z().cancelIdleCallback||(e=>clearTimeout(e));let tX=e=>!!e.type.__asyncLoader,tJ=e=>e.type.__isKeepAlive,tZ={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){let n=rb(),r=n.ctx;if(!r.renderer)return()=>{let e=t.default&&t.default();return e&&1===e.length?e[0]:e};let a=new Map,i=new Set,o=null,s=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,h=d("div");function p(e){t5(e),c(e,n,s,!0)}function f(e){a.forEach((t,n)=>{let r=rO(t.type);r&&!e(r)&&m(n)})}function m(e){let t=a.get(e);!t||o&&ra(t,o)?o&&t5(o):p(t),a.delete(e),i.delete(e)}r.activate=(e,t,n,r,a)=>{let i=e.component;u(e,t,n,0,s),l(i.vnode,e,t,n,i,s,r,e.slotScopeIds,a),nU(()=>{i.isDeactivated=!1,i.a&&Y(i.a);let t=e.props&&e.props.onVnodeMounted;t&&rg(t,i.parent,e)},s)},r.deactivate=e=>{let t=e.component;nz(t.m),nz(t.a),u(e,h,null,1,s),nU(()=>{t.da&&Y(t.da);let n=e.props&&e.props.onVnodeUnmounted;n&&rg(n,t.parent,e),t.isDeactivated=!0},s)},n$(()=>[e.include,e.exclude],([e,t])=>{e&&f(t=>tQ(e,t)),t&&f(e=>!tQ(t,e))},{flush:"post",deep:!0});let g=null,y=()=>{null!=g&&(n0(n.subTree.type)?nU(()=>{a.set(g,t3(n.subTree))},n.subTree.suspense):a.set(g,t3(n.subTree)))};return t7(y),ne(y),nt(()=>{a.forEach(e=>{let{subTree:t,suspense:r}=n,a=t3(t);if(e.type===a.type&&e.key===a.key){t5(a);let e=a.component.da;e&&nU(e,r);return}p(e)})}),()=>{if(g=null,!t.default)return o=null;let n=t.default(),r=n[0];if(n.length>1)return o=null,n;if(!rr(r)||!(4&r.shapeFlag)&&!(128&r.shapeFlag))return o=null,r;let s=t3(r);if(s.type===n5)return o=null,s;let l=s.type,u=rO(tX(s)?s.type.__asyncResolved||{}:l),{include:c,exclude:d,max:h}=e;if(c&&(!u||!tQ(c,u))||d&&u&&tQ(d,u))return s.shapeFlag&=-257,o=s,r;let p=null==s.key?l:s.key,f=a.get(p);return s.el&&(s=ru(s),128&r.shapeFlag&&(r.ssContent=s)),g=p,f?(s.el=f.el,s.component=f.component,s.transition&&tK(s,s.transition),s.shapeFlag|=512,i.delete(p),i.add(p)):(i.add(p),h&&i.size>parseInt(h,10)&&m(i.values().next().value)),s.shapeFlag|=256,o=s,n0(r.type)?r:s}}};function tQ(e,t){return L(e)?e.some(e=>tQ(e,t)):R(e)?e.split(",").includes(t):"[object RegExp]"===B.call(e)&&(e.lastIndex=0,e.test(t))}function t0(e,t){t2(e,"a",t)}function t1(e,t){t2(e,"da",t)}function t2(e,t,n=r_){let r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(t4(t,r,n),n){let e=n.parent;for(;e&&e.parent;)tJ(e.parent.vnode)&&function(e,t,n,r){let a=t4(t,e,r,!0);nn(()=>{P(r[t],a)},n)}(r,t,n,e),e=e.parent}}function t5(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function t3(e){return 128&e.shapeFlag?e.ssContent:e}function t4(e,t,n=r_,r=!1){if(n){let a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{eC();let a=rA(n),i=tS(t,n,e,r);return a(),eS(),i});return r?a.unshift(i):a.push(i),i}}let t6=e=>(t,n=r_)=>{rC&&"sp"!==e||t4(e,(...e)=>t(...e),n)},t8=t6("bm"),t7=t6("m"),t9=t6("bu"),ne=t6("u"),nt=t6("bum"),nn=t6("um"),nr=t6("sp"),na=t6("rtg"),ni=t6("rtc");function no(e,t=r_){t4("ec",e,t)}let ns=Symbol.for("v-ndc"),nl=e=>e?rx(e)?rT(e):nl(e.parent):null,nu=O(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>nl(e.parent),$root:e=>nl(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>nm(e),$forceUpdate:e=>e.f||(e.f=()=>{tR(e.update)}),$nextTick:e=>e.n||(e.n=tD.bind(e.proxy)),$watch:e=>nK.bind(e)}),nc=(e,t)=>e!==x&&!e.__isScriptSetup&&M(e,t),nd={get({_:e},t){let n,r,a;if("__v_skip"===t)return!0;let{ctx:i,setupState:o,data:s,props:l,accessCache:u,type:c,appContext:d}=e;if("$"!==t[0]){let r=u[t];if(void 0!==r)switch(r){case 1:return o[t];case 2:return s[t];case 4:return i[t];case 3:return l[t]}else{if(nc(o,t))return u[t]=1,o[t];if(s!==x&&M(s,t))return u[t]=2,s[t];if((n=e.propsOptions[0])&&M(n,t))return u[t]=3,l[t];if(i!==x&&M(i,t))return u[t]=4,i[t];np&&(u[t]=0)}}let h=nu[t];return h?("$attrs"===t&&eD(e.attrs,"get",""),h(e)):(r=c.__cssModules)&&(r=r[t])?r:i!==x&&M(i,t)?(u[t]=4,i[t]):M(a=d.config.globalProperties,t)?a[t]:void 0},set({_:e},t,n){let{data:r,setupState:a,ctx:i}=e;return nc(a,t)?(a[t]=n,!0):r!==x&&M(r,t)?(r[t]=n,!0):!M(e.props,t)&&!("$"===t[0]&&t.slice(1)in e)&&(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:i}},o){let s;return!!n[o]||e!==x&&M(e,o)||nc(t,o)||(s=i[0])&&M(s,o)||M(r,o)||M(nu,o)||M(a.config.globalProperties,o)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:M(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function nh(e){return L(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}let np=!0;function nf(e,t,n){tS(L(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function nm(e){let t,n=e.type,{mixins:r,extends:a}=n,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,l=o.get(n);return l?t=l:i.length||r||a?(t={},i.length&&i.forEach(e=>ng(t,e,s,!0)),ng(t,n,s)):t=n,j(n)&&o.set(n,t),t}function ng(e,t,n,r=!1){let{mixins:a,extends:i}=t;for(let o in i&&ng(e,i,n,!0),a&&a.forEach(t=>ng(e,t,n,!0)),t)if(r&&"expose"===o);else{let r=nv[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}let nv={data:ny,props:nw,emits:nw,methods:nA,computed:nA,beforeCreate:nb,created:nb,beforeMount:nb,mounted:nb,beforeUpdate:nb,updated:nb,beforeDestroy:nb,beforeUnmount:nb,destroyed:nb,unmounted:nb,activated:nb,deactivated:nb,errorCaptured:nb,serverPrefetch:nb,components:nA,directives:nA,watch:function(e,t){if(!e)return t;if(!t)return e;let n=O(Object.create(null),e);for(let r in t)n[r]=nb(e[r],t[r]);return n},provide:ny,inject:function(e,t){return nA(n_(e),n_(t))}};function ny(e,t){return t?e?function(){return O(D(e)?e.call(this,this):e,D(t)?t.call(this,this):t)}:t:e}function n_(e){if(L(e)){let t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function nb(e,t){return e?[...new Set([].concat(e,t))]:t}function nA(e,t){return e?O(Object.create(null),e,t):t}function nw(e,t){return e?L(e)&&L(t)?[...new Set([...e,...t])]:O(Object.create(null),nh(e),nh(null!=t?t:{})):t}function nx(){return{app:null,config:{isNativeTag:k,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nC=0,nS=null;function nk(e,t){if(r_){let n=r_.provides,r=r_.parent&&r_.parent.provides;r===n&&(n=r_.provides=Object.create(r)),n[e]=t}}function nE(e,t,n=!1){let r=r_||tU;if(r||nS){let a=nS?nS._context.provides:r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&D(t)?t.call(r&&r.proxy):t}}let nT={},nO=e=>Object.getPrototypeOf(e)===nT;function nP(e,t,n,r){let a,[i,o]=e.propsOptions,s=!1;if(t)for(let l in t){let u;if(V(l))continue;let c=t[l];i&&M(i,u=H(l))?o&&o.includes(u)?(a||(a={}))[u]=c:n[u]=c:nY(e.emitsOptions,l)||l in r&&c===r[l]||(r[l]=c,s=!0)}if(o){let t=to(n),r=a||x;for(let a=0;a<o.length;a++){let s=o[a];n[s]=nI(i,t,s,r[s],e,!M(r,s))}}return s}function nI(e,t,n,r,a,i){let o=e[n];if(null!=o){let e=M(o,"default");if(e&&void 0===r){let e=o.default;if(o.type!==Function&&!o.skipFactory&&D(e)){let{propsDefaults:i}=a;if(n in i)r=i[n];else{let o=rA(a);r=i[n]=e.call(null,t),o()}}else r=e;a.ce&&a.ce._setProp(n,r)}o[0]&&(i&&!e?r=!1:o[1]&&(""===r||r===K(n))&&(r=!0))}return r}let nM=new WeakMap;function nL(e){return!("$"===e[0]||V(e))}let nD=e=>"_"===e[0]||"$stable"===e,nR=e=>L(e)?e.map(rp):[rp(e)],nN=(e,t,n)=>{if(t._n)return t;let r=function(e,t=tU,n){if(!t||e._n)return e;let r=(...n)=>{let a;r._d&&n9(-1);let i=tW(t);try{a=e(...n)}finally{tW(i),r._d&&n9(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}((...e)=>nR(t(...e)),n);return r._c=!1,r},nj=(e,t,n)=>{let r=e._ctx;for(let n in e){if(nD(n))continue;let a=e[n];if(D(a))t[n]=nN(n,a,r);else if(null!=a){let e=nR(a);t[n]=()=>e}}},nF=(e,t)=>{let n=nR(t);e.slots.default=()=>n},nB=(e,t,n)=>{for(let r in t)(n||"_"!==r)&&(e[r]=t[r])},nU=function(e,t){t&&t.pendingBranch?L(e)?t.effects.push(...e):t.effects.push(e):(L(e)?tO.push(...e):tP&&-1===e.id?tP.splice(tI+1,0,e):1&e.flags||(tO.push(e),e.flags|=1),tN())};function nV({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function nW({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function nz(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}let nH=Symbol.for("v-scx");function n$(e,n,r=x){let a,{immediate:i,deep:o,flush:s,once:l}=r,u=O({},r),c=n&&i||!n&&"post"!==s;if(rC){if("sync"===s){let e=nE(nH);a=e.__watcherHandles||(e.__watcherHandles=[])}else if(!c){let e=()=>{};return e.stop=S,e.resume=S,e.pause=S,e}}let d=r_;u.call=(e,t,n)=>tS(e,d,t,n);let h=!1;"post"===s?u.scheduler=e=>{nU(e,d&&d.suspense)}:"sync"!==s&&(h=!0,u.scheduler=(e,t)=>{t?e():tR(e)}),u.augmentJob=e=>{n&&(e.flags|=4),h&&(e.flags|=2,d&&(e.id=d.uid,e.i=d))};let p=function(e,n,r=x){let a,i,o,s,{immediate:l,deep:u,once:c,scheduler:d,augmentJob:h,call:p}=r,f=e=>u?e:ta(e)||!1===u||0===u?tx(e,1):tx(e),m=!1,g=!1;if(tu(e)?(i=()=>e.value,m=ta(e)):tn(e)?(i=()=>f(e),m=!0):L(e)?(g=!0,m=e.some(e=>tn(e)||ta(e)),i=()=>e.map(e=>tu(e)?e.value:tn(e)?f(e):D(e)?p?p(e,2):e():void 0)):i=D(e)?n?p?()=>p(e,2):e:()=>{if(o){eC();try{o()}finally{eS()}}let t=b;b=a;try{return p?p(e,3,[s]):e(s)}finally{b=t}}:S,n&&u){let e=i,t=!0===u?1/0:u;i=()=>tx(e(),t)}let y=t,_=()=>{a.stop(),y&&y.active&&P(y.effects,a)};if(c&&n){let e=n;n=(...t)=>{e(...t),_()}}let A=g?Array(e.length).fill(tA):tA,w=e=>{if(1&a.flags&&(a.dirty||e))if(n){let e=a.run();if(u||m||(g?e.some((e,t)=>!Object.is(e,A[t])):!Object.is(e,A))){o&&o();let t=b;b=a;try{let t=[e,A===tA?void 0:g&&A[0]===tA?[]:A,s];p?p(n,3,t):n(...t),A=e}finally{b=t}}}else a.run()};return h&&h(w),(a=new ep(i)).scheduler=d?()=>d(w,!1):w,s=e=>(function(e,t=!1,n=b){if(n){let t=tw.get(n);t||tw.set(n,t=[]),t.push(e)}})(e,!1,a),o=a.onStop=()=>{let e=tw.get(a);if(e){if(p)p(e,4);else for(let t of e)t();tw.delete(a)}},n?l?w(!0):A=a.run():d?d(w.bind(null,!0),!0):a.run(),_.pause=a.pause.bind(a),_.resume=a.resume.bind(a),_.stop=_,_}(e,n,u);return rC&&(a?a.push(p):c&&p()),p}function nK(e,t,n){let r,a=this.proxy,i=R(e)?e.includes(".")?nq(a,e):()=>a[e]:e.bind(a,a);D(t)?r=t:(r=t.handler,n=t);let o=rA(this),s=n$(i,r.bind(a),n);return o(),s}function nq(e,t){let n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function nG(e,t,...n){let r,a;if(e.isUnmounted)return;let i=e.vnode.props||x,o=n,s=t.startsWith("update:"),l=s&&("modelValue"===(a=t.slice(7))||"model-value"===a?i.modelModifiers:i[`${a}Modifiers`]||i[`${H(a)}Modifiers`]||i[`${K(a)}Modifiers`]);l&&(l.trim&&(o=n.map(e=>R(e)?e.trim():e)),l.number&&(o=n.map(J)));let u=i[r=G(t)]||i[r=G(H(t))];!u&&s&&(u=i[r=G(K(t))]),u&&tS(u,e,6,o);let c=i[r+"Once"];if(c){if(e.emitted){if(e.emitted[r])return}else e.emitted={};e.emitted[r]=!0,tS(c,e,6,o)}}function nY(e,t){return!!e&&!!E(t)&&(M(e,(t=t.slice(2).replace(/Once$/,""))[0].toLowerCase()+t.slice(1))||M(e,K(t))||M(e,t))}function nX(e){let t,n,{type:r,vnode:a,proxy:i,withProxy:o,propsOptions:[s],slots:l,attrs:u,emit:c,render:d,renderCache:h,props:p,data:f,setupState:m,ctx:g,inheritAttrs:y}=e,_=tW(e);try{if(4&a.shapeFlag){let e=o||i;t=rp(d.call(e,e,h,p,m,f,g)),n=u}else t=rp(r.length>1?r(p,{attrs:u,slots:l,emit:c}):r(p,null)),n=r.props?u:nJ(u)}catch(n){n4.length=0,tk(n,e,1),t=rl(n5)}let b=t;if(n&&!1!==y){let e=Object.keys(n),{shapeFlag:t}=b;e.length&&7&t&&(s&&e.some(T)&&(n=nZ(n,s)),b=ru(b,n,!1,!0))}return a.dirs&&((b=ru(b,null,!1,!0)).dirs=b.dirs?b.dirs.concat(a.dirs):a.dirs),a.transition&&tK(b,a.transition),t=b,tW(_),t}let nJ=e=>{let t;for(let n in e)("class"===n||"style"===n||E(n))&&((t||(t={}))[n]=e[n]);return t},nZ=(e,t)=>{let n={};for(let r in e)T(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function nQ(e,t,n){let r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let a=0;a<r.length;a++){let i=r[a];if(t[i]!==e[i]&&!nY(n,i))return!0}return!1}let n0=e=>e.__isSuspense,n1=Symbol.for("v-fgt"),n2=Symbol.for("v-txt"),n5=Symbol.for("v-cmt"),n3=Symbol.for("v-stc"),n4=[],n6=null;function n8(e=!1){n4.push(n6=e?null:[])}let n7=1;function n9(e,t=!1){n7+=e,e<0&&n6&&t&&(n6.hasOnce=!0)}function re(e){return e.dynamicChildren=n7>0?n6||C:null,n4.pop(),n6=n4[n4.length-1]||null,n7>0&&n6&&n6.push(e),e}function rt(e,t,n,r,a,i){return re(rs(e,t,n,r,a,i,!0))}function rn(e,t,n,r,a){return re(rl(e,t,n,r,a,!0))}function rr(e){return!!e&&!0===e.__v_isVNode}function ra(e,t){return e.type===t.type&&e.key===t.key}let ri=({key:e})=>null!=e?e:null,ro=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?R(e)||tu(e)||D(e)?{i:tU,r:e,k:t,f:!!n}:e:null);function rs(e,t=null,n=null,r=0,a=null,i=+(e!==n1),o=!1,s=!1){let l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ri(t),ref:t&&ro(t),scopeId:tV,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:tU};return s?(rm(l,n),128&i&&e.normalize(l)):n&&(l.shapeFlag|=R(n)?8:16),n7>0&&!o&&n6&&(l.patchFlag>0||6&i)&&32!==l.patchFlag&&n6.push(l),l}let rl=function(e,t=null,n=null,r=0,a=null,i=!1){var o,s;if(e&&e!==ns||(e=n5),rr(e)){let r=ru(e,t,!0);return n&&rm(r,n),n7>0&&!i&&n6&&(6&r.shapeFlag?n6[n6.indexOf(e)]=r:n6.push(r)),r.patchFlag=-2,r}if(D(o=e)&&"__vccOpts"in o&&(e=e.__vccOpts),t){let{class:e,style:n}=t=(s=t)?ti(s)||nO(s)?O({},s):s:null;e&&!R(e)&&(t.class=er(e)),j(n)&&(ti(n)&&!L(n)&&(n=O({},n)),t.style=Q(n))}let l=R(e)?1:n0(e)?128:e.__isTeleport?64:j(e)?4:2*!!D(e);return rs(e,t,n,r,a,l,i,!0)};function ru(e,t,n=!1,r=!1){let{props:a,ref:i,patchFlag:o,children:s,transition:l}=e,u=t?function(...e){let t={};for(let n=0;n<e.length;n++){let r=e[n];for(let e in r)if("class"===e)t.class!==r.class&&(t.class=er([t.class,r.class]));else if("style"===e)t.style=Q([t.style,r.style]);else if(E(e)){let n=t[e],a=r[e];a&&n!==a&&!(L(n)&&n.includes(a))&&(t[e]=n?[].concat(n,a):a)}else""!==e&&(t[e]=r[e])}return t}(a||{},t):a,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&ri(u),ref:t&&t.ref?n&&i?L(i)?i.concat(ro(t)):[i,ro(t)]:ro(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==n1?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ru(e.ssContent),ssFallback:e.ssFallback&&ru(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&tK(c,l.clone(c)),c}function rc(e=" ",t=0){return rl(n2,null,e,t)}function rd(e,t){let n=rl(n3,null,e);return n.staticCount=t,n}function rh(e="",t=!1){return t?(n8(),rn(n5,null,e)):rl(n5,null,e)}function rp(e){return null==e||"boolean"==typeof e?rl(n5):L(e)?rl(n1,null,e.slice()):rr(e)?rf(e):rl(n2,null,String(e))}function rf(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:ru(e)}function rm(e,t){let n=0,{shapeFlag:r}=e;if(null==t)t=null;else if(L(t))n=16;else if("object"==typeof t)if(65&r){let n=t.default;n&&(n._c&&(n._d=!1),rm(e,n()),n._c&&(n._d=!0));return}else{n=32;let r=t._;r||nO(t)?3===r&&tU&&(1===tU.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=tU}else D(t)?(t={default:t,_ctx:tU},n=32):(t=String(t),64&r?(n=16,t=[rc(t)]):n=8);e.children=t,e.shapeFlag|=n}function rg(e,t,n,r=null){tS(e,t,7,[n,r])}let rv=nx(),ry=0,r_=null,rb=()=>r_||tU;{let e=Z(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach(t=>t(e)):r[0](e)}};l=t("__VUE_INSTANCE_SETTERS__",e=>r_=e),u=t("__VUE_SSR_SETTERS__",e=>rC=e)}let rA=e=>{let t=r_;return l(e),e.scope.on(),()=>{e.scope.off(),l(t)}},rw=()=>{r_&&r_.scope.off(),l(null)};function rx(e){return 4&e.vnode.shapeFlag}let rC=!1;function rS(e,t,n){D(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:j(t)&&(e.setupState=tg(t)),rk(e,n)}function rk(e,t,n){let r=e.type;if(!e.render){if(!t&&c&&!r.render){let t=r.template||nm(e).template;if(t){let{isCustomElement:n,compilerOptions:a}=e.appContext.config,{delimiters:i,compilerOptions:o}=r;r.render=c(t,O(O({isCustomElement:n,delimiters:i},a),o))}}e.render=r.render||S,d&&d(e)}{let t=rA(e);eC();try{!function(e){let t=nm(e),n=e.proxy,r=e.ctx;np=!1,t.beforeCreate&&nf(t.beforeCreate,e,"bc");let{data:a,computed:i,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:p,updated:f,activated:m,deactivated:g,beforeDestroy:y,beforeUnmount:_,destroyed:b,unmounted:A,render:w,renderTracked:x,renderTriggered:C,errorCaptured:k,serverPrefetch:E,expose:T,inheritAttrs:O,components:P,directives:I,filters:M}=t;if(u&&function(e,t,n=S){for(let n in L(e)&&(e=n_(e)),e){let r,a=e[n];tu(r=j(a)?"default"in a?nE(a.from||n,a.default,!0):nE(a.from||n):nE(a))?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e}):t[n]=r}}(u,r,null),o)for(let e in o){let t=o[e];D(t)&&(r[e]=t.bind(n))}if(a){let t=a.call(n,n);j(t)&&(e.data=e9(t))}if(np=!0,i)for(let e in i){let t=i[e],a=D(t)?t.bind(n,n):D(t.get)?t.get.bind(n,n):S,o=rP({get:a,set:!D(t)&&D(t.set)?t.set.bind(n):S});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e})}if(s)for(let e in s)!function e(t,n,r,a){var i;let o=a.includes(".")?nq(r,a):()=>r[a];if(R(t)){let e=n[t];D(e)&&n$(o,e,void 0)}else if(D(t))i=t.bind(r),n$(o,i,void 0);else if(j(t))if(L(t))t.forEach(t=>e(t,n,r,a));else{let e=D(t.handler)?t.handler.bind(r):n[t.handler];D(e)&&n$(o,e,t)}}(s[e],r,n,e);if(l){let e=D(l)?l.call(n):l;Reflect.ownKeys(e).forEach(t=>{nk(t,e[t])})}function N(e,t){L(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(c&&nf(c,e,"c"),N(t8,d),N(t7,h),N(t9,p),N(ne,f),N(t0,m),N(t1,g),N(no,k),N(ni,x),N(na,C),N(nt,_),N(nn,A),N(nr,E),L(T))if(T.length){let t=e.exposed||(e.exposed={});T.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})})}else e.exposed||(e.exposed={});w&&e.render===S&&(e.render=w),null!=O&&(e.inheritAttrs=O),P&&(e.components=P),I&&(e.directives=I),E&&tG(e)}(e)}finally{eS(),t()}}}let rE={get:(e,t)=>(eD(e,"get",""),e[t])};function rT(e){var t;return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(tg((!M(t=e.exposed,"__v_skip")&&Object.isExtensible(t)&&X(t,"__v_skip",!0),t)),{get:(t,n)=>n in t?t[n]:n in nu?nu[n](e):void 0,has:(e,t)=>t in e||t in nu})):e.proxy}function rO(e,t=!0){return D(e)?e.displayName||e.name:e.name||t&&e.__name}let rP=(e,t)=>(function(e,t,n=!1){let r,a;return D(e)?r=e:(r=e.get,a=e.set),new tb(r,a,n)})(e,0,rC);function rI(e,t,n){let r=arguments.length;return 2!==r?(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&rr(n)&&(n=[n]),rl(e,t,n)):!j(t)||L(t)?rl(e,null,t):rr(t)?rl(e,null,[t]):rl(e,t)}let rM="undefined"!=typeof window&&window.trustedTypes;if(rM)try{A=rM.createPolicy("vue",{createHTML:e=>e})}catch(e){}let rL=A?e=>A.createHTML(e):e=>e,rD="undefined"!=typeof document?document:null,rR=rD&&rD.createElement("template"),rN=Symbol("_vtc"),rj=Symbol("_vod"),rF=Symbol("_vsh"),rB={beforeMount(e,{value:t},{transition:n}){e[rj]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):rU(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),rU(e,!0),r.enter(e)):r.leave(e,()=>{rU(e,!1)}):rU(e,t))},beforeUnmount(e,{value:t}){rU(e,t)}};function rU(e,t){e.style.display=t?e[rj]:"none",e[rF]=!t}let rV=Symbol(""),rW=/(^|;)\s*display\s*:/,rz=/\s*!important$/;function rH(e,t,n){if(L(n))n.forEach(n=>rH(e,t,n));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{let r=function(e,t){let n=rK[t];if(n)return n;let r=H(t);if("filter"!==r&&r in e)return rK[t]=r;r=q(r);for(let n=0;n<r$.length;n++){let a=r$[n]+r;if(a in e)return rK[t]=a}return t}(e,t);rz.test(n)?e.setProperty(K(r),n.replace(rz,""),"important"):e[r]=n}}let r$=["Webkit","Moz","ms"],rK={},rq="http://www.w3.org/1999/xlink";function rG(e,t,n,r,a,i=ea(t)){r&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(rq,t.slice(6,t.length)):e.setAttributeNS(rq,t,n):null==n||i&&!(n||""===n)?e.removeAttribute(t):e.setAttribute(t,i?"":N(n)?String(n):n)}function rY(e,t,n,r,a){if("innerHTML"===t||"textContent"===t){null!=n&&(e[t]="innerHTML"===t?rL(n):n);return}let i=e.tagName;if("value"===t&&"PROGRESS"!==i&&!i.includes("-")){let r="OPTION"===i?e.getAttribute("value")||"":e.value,a=null==n?"checkbox"===e.type?"on":"":String(n);r===a&&"_value"in e||(e.value=a),null==n&&e.removeAttribute(t),e._value=n;return}let o=!1;if(""===n||null==n){let r=typeof e[t];if("boolean"===r){var s;n=!!(s=n)||""===s}else null==n&&"string"===r?(n="",o=!0):"number"===r&&(n=0,o=!0)}try{e[t]=n}catch(e){}o&&e.removeAttribute(a||t)}function rX(e,t,n,r){e.addEventListener(t,n,r)}let rJ=Symbol("_vei"),rZ=/(?:Once|Passive|Capture)$/,rQ=0,r0=Promise.resolve(),r1=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&123>e.charCodeAt(2);"undefined"!=typeof HTMLElement&&HTMLElement,Symbol("_moveCb"),Symbol("_enterCb");let r2=e=>{let t=e.props["onUpdate:modelValue"]||!1;return L(t)?e=>Y(t,e):t};function r5(e){e.target.composing=!0}function r3(e){let t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}let r4=Symbol("_assign"),r6={created(e,{modifiers:{lazy:t,trim:n,number:r}},a){e[r4]=r2(a);let i=r||a.props&&"number"===a.props.type;rX(e,t?"change":"input",t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),i&&(r=J(r)),e[r4](r)}),n&&rX(e,"change",()=>{e.value=e.value.trim()}),t||(rX(e,"compositionstart",r5),rX(e,"compositionend",r3),rX(e,"change",r3))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:a,number:i}},o){if(e[r4]=r2(o),e.composing)return;let s=(i||"number"===e.type)&&!/^0\d/.test(e.value)?J(e.value):e.value,l=null==t?"":t;if(s!==l){if(document.activeElement===e&&"range"!==e.type&&(r&&t===n||a&&e.value.trim()===l))return;e.value=l}}},r8={deep:!0,created(e,t,n){e[r4]=r2(n),rX(e,"change",()=>{let t=e._modelValue,n="_value"in e?e._value:e.value,r=e.checked,a=e[r4];if(L(t)){let e=eo(t,n),i=-1!==e;if(r&&!i)a(t.concat(n));else if(!r&&i){let n=[...t];n.splice(e,1),a(n)}}else if("[object Set]"===B.call(t)){let e=new Set(t);r?e.add(n):e.delete(n),a(e)}else a(r9(e,r))})},mounted:r7,beforeUpdate(e,t,n){e[r4]=r2(n),r7(e,t,n)}};function r7(e,{value:t,oldValue:n},r){let a;if(e._modelValue=t,L(t))a=eo(t,r.props.value)>-1;else if("[object Set]"===B.call(t))a=t.has(r.props.value);else{if(t===n)return;a=ei(t,r9(e,!0))}e.checked!==a&&(e.checked=a)}function r9(e,t){let n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}let ae=O({patchProp:(e,t,n,r,a,i)=>{let o="svg"===a;if("class"===t){var s;let t;s=r,(t=e[rN])&&(s=(s?[s,...t]:[...t]).join(" ")),null==s?e.removeAttribute("class"):o?e.setAttribute("class",s):e.className=s}else"style"===t?function(e,t,n){let r=e.style,a=R(n),i=!1;if(n&&!a){if(t)if(R(t))for(let e of t.split(";")){let t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&rH(r,t,"")}else for(let e in t)null==n[e]&&rH(r,e,"");for(let e in n)"display"===e&&(i=!0),rH(r,e,n[e])}else if(a){if(t!==n){let e=r[rV];e&&(n+=";"+e),r.cssText=n,i=rW.test(n)}}else t&&e.removeAttribute("style");rj in e&&(e[rj]=i?r.display:"",e[rF]&&(r.display="none"))}(e,n,r):E(t)?T(t)||function(e,t,n,r,a=null){let i=e[rJ]||(e[rJ]={}),o=i[t];if(r&&o)o.value=r;else{let[n,s]=function(e){let t;if(rZ.test(e)){let n;for(t={};n=e.match(rZ);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):K(e.slice(2)),t]}(t);if(r){let o;rX(e,n,i[t]=((o=e=>{if(e._vts){if(e._vts<=o.attached)return}else e._vts=Date.now();tS(function(e,t){if(!L(t))return t;{let n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}}(e,o.value),a,5,[e])}).value=r,o.attached=rQ||(r0.then(()=>rQ=0),rQ=Date.now()),o),s)}else o&&(e.removeEventListener(n,o,s),i[t]=void 0)}}(e,t,0,r,i):("."===t[0]?(t=t.slice(1),0):"^"===t[0]?(t=t.slice(1),1):!function(e,t,n,r){if(r)return!!("innerHTML"===t||"textContent"===t||t in e&&r1(t)&&D(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"form"===t||"list"===t&&"INPUT"===e.tagName||"type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){let t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return!(r1(t)&&R(n))&&t in e}(e,t,r,o))?e._isVueCE&&(/[A-Z]/.test(t)||!R(r))?rY(e,H(t),r,i,t):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),rG(e,t,r,o)):(rY(e,t,r),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||rG(e,t,r,o,i,"value"!==t))}},{insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{let t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{let a="svg"===t?rD.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?rD.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?rD.createElement(e,{is:n}):rD.createElement(e);return"select"===e&&r&&null!=r.multiple&&a.setAttribute("multiple",r.multiple),a},createText:e=>rD.createTextNode(e),createComment:e=>rD.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>rD.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,a,i){let o=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),a!==i&&(a=a.nextSibling););else{rR.innerHTML=rL("svg"===r?`<svg>${e}</svg>`:"mathml"===r?`<math>${e}</math>`:e);let a=rR.content;if("svg"===r||"mathml"===r){let e=a.firstChild;for(;e.firstChild;)a.appendChild(e.firstChild);a.removeChild(e)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}}),at="undefined"!=typeof window,an=(e,t=!1)=>t?Symbol.for(e):Symbol(e),ar=e=>"number"==typeof e&&isFinite(e),aa=e=>ag(e)&&0===Object.keys(e).length,ai=Object.assign,ao=()=>p||(p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{});function as(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}let al=Object.prototype.hasOwnProperty;function au(e,t){return al.call(e,t)}let ac=Array.isArray,ad=e=>"function"==typeof e,ah=e=>"string"==typeof e,ap=e=>"boolean"==typeof e,af=e=>null!==e&&"object"==typeof e,am=Object.prototype.toString,ag=e=>{if(!af(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t.constructor===Object};function av(e){let t=e;return()=>++t}function ay(e,t){"undefined"!=typeof console&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}let a_=e=>!af(e)||ac(e);function ab(e,t){if(a_(e)||a_(t))throw Error("Invalid value");let n=[{src:e,des:t}];for(;n.length;){let{src:e,des:t}=n.pop();Object.keys(e).forEach(r=>{a_(e[r])||a_(t[r])?t[r]=e[r]:n.push({src:e[r],des:t[r]})})}}function aA(e,t,n){let r={start:e,end:t};return null!=n&&(r.source=n),r}let aw=/\{([0-9a-zA-Z]+)\}/g;function ax(e,...t){return 1===t.length&&aS(t[0])&&(t=t[0]),t&&t.hasOwnProperty||(t={}),e.replace(aw,(e,n)=>t.hasOwnProperty(n)?t[n]:"")}let aC=Object.assign,aS=e=>null!==e&&"object"==typeof e;function ak(e,t=""){return e.reduce((e,n,r)=>0===r?e+n:e+t+n,"")}let aE={1:"Use modulo before '{{0}}'."},aT={1:"Expected token: '{0}'",2:"Invalid token in placeholder: '{0}'",3:"Unterminated single quote in placeholder",4:"Unknown escape sequence: \\{0}",5:"Invalid unicode escape sequence: {0}",6:"Unbalanced closing brace",7:"Unterminated closing brace",8:"Empty placeholder",9:"Not allowed nest placeholder",10:"Invalid linked format",11:"Plural must have messages",12:"Unexpected empty linked modifier",13:"Unexpected empty linked key",14:"Unexpected lexical analysis in token: '{0}'",15:"unhandled codegen node type: '{0}'",16:"unhandled mimifier node type: '{0}'"};function aO(e,t,n={}){let{domain:r,messages:a,args:i}=n,o=SyntaxError(String(ax((a||aT)[e]||"",...i||[])));return o.code=e,t&&(o.location=t),o.domain=r,o}function aP(e){throw e}let aI=String.fromCharCode(8232),aM=String.fromCharCode(8233),aL,aD=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function aR(e,t,n){switch(e){case"\\\\":return"\\";case"\\\\'":return"'";default:{let e=parseInt(t||n,16);if(e<=55295||e>=57344)return String.fromCodePoint(e);return""}}}function aN(e){if(14===e.type)return"EOF";let t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function aj(e,t){for(let n=0;n<e.length;n++)aF(e[n],t)}function aF(e,t){switch(e.type){case 1:aj(e.cases,t),t.helper("plural");break;case 2:aj(e.items,t);break;case 6:aF(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named")}}function aB(e){if(1===e.items.length){let t=e.items[0];(3===t.type||9===t.type)&&(e.static=t.value,delete t.value)}else{let t=[];for(let n=0;n<e.items.length;n++){let r=e.items[n];if(3!==r.type&&9!==r.type||null==r.value)break;t.push(r.value)}if(t.length===e.items.length){e.static=ak(t);for(let t=0;t<e.items.length;t++){let n=e.items[t];(3===n.type||9===n.type)&&delete n.value}}}}let aU=[];aU[0]={w:[0],i:[3,0],"[":[4],o:[7]},aU[1]={w:[1],".":[2],"[":[4],o:[7]},aU[2]={w:[2],i:[3,0],0:[3,0]},aU[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},aU[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},aU[5]={"'":[4,0],o:8,l:[5,0]},aU[6]={'"':[4,0],o:8,l:[6,0]};let aV=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/,aW=new Map;function az(e,t){return af(e)?e[t]:null}let aH=e=>"",a$=e=>0===e.length?"":function(e,t=""){return e.reduce((e,n,r)=>0===r?e+n:e+t+n,"")}(e),aK=e=>null==e?"":ac(e)||ag(e)&&e.toString===am?JSON.stringify(e,null,2):String(e);function aq(e,t){return(e=Math.abs(e),2===t)?e?+(e>1):1:e?Math.min(e,2):0}let aG=null,aY=av(2),aX={NOT_FOUND_KEY:2,FALLBACK_TO_TRANSLATE:aY(),CANNOT_FORMAT_NUMBER:aY(),FALLBACK_TO_NUMBER_FORMAT:aY(),CANNOT_FORMAT_DATE:aY(),FALLBACK_TO_DATE_FORMAT:aY(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:aY(),__EXTEND_POINT__:aY()};aX.NOT_FOUND_KEY,aX.FALLBACK_TO_TRANSLATE,aX.CANNOT_FORMAT_NUMBER,aX.FALLBACK_TO_NUMBER_FORMAT,aX.CANNOT_FORMAT_DATE,aX.FALLBACK_TO_DATE_FORMAT,aX.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER;let aJ=av(17),aZ={INVALID_ARGUMENT:17,INVALID_DATE_ARGUMENT:aJ(),INVALID_ISO_DATE_ARGUMENT:aJ(),NOT_SUPPORT_NON_STRING_MESSAGE:aJ(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:aJ(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:aJ(),NOT_SUPPORT_LOCALE_TYPE:aJ(),__EXTEND_POINT__:aJ()};function aQ(e){return aO(e,null,void 0)}function a0(e,t){return null!=t.locale?a1(t.locale):a1(e.locale)}function a1(e){if(ah(e))return e;if(ad(e))if(e.resolvedOnce&&null!=f)return f;else if("Function"===e.constructor.name){let t=e();if(af(t)&&ad(t.then)&&ad(t.catch))throw aQ(aZ.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return f=t}else throw aQ(aZ.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION);throw aQ(aZ.NOT_SUPPORT_LOCALE_TYPE)}function a2(e,t,n){return[...new Set([n,...ac(t)?t:af(t)?Object.keys(t):ah(t)?[t]:[n]])]}function a5(e,t,n){let r=ah(n)?n:a4;e.__localeChainCache||(e.__localeChainCache=new Map);let a=e.__localeChainCache.get(r);if(!a){a=[];let i=[n];for(;ac(i);)i=a3(a,i,t);let o=ac(t)||!ag(t)?t:t.default?t.default:null;ac(i=ah(o)?[o]:o)&&a3(a,i,!1),e.__localeChainCache.set(r,a)}return a}function a3(e,t,n){let r=!0;for(let a=0;a<t.length&&ap(r);a++)ah(t[a])&&(r=function(e,t,n){let r,a=t.split("-");do r=function(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];let a=t.replace(/!/g,"");e.push(a),(ac(n)||ag(n))&&n[a]&&(r=n[a])}return r}(e,a.join("-"),n),a.splice(-1,1);while(a.length&&!0===r);return r}(e,t[a],n));return r}aZ.INVALID_ARGUMENT,aZ.INVALID_DATE_ARGUMENT,aZ.INVALID_ISO_DATE_ARGUMENT,aZ.NOT_SUPPORT_NON_STRING_MESSAGE,aZ.NOT_SUPPORT_LOCALE_PROMISE_VALUE,aZ.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION,aZ.NOT_SUPPORT_LOCALE_TYPE;let a4="en-US",a6=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`,a8=null,a7=e=>{a8=e},a9=0;function ie(e,t,n,r,a){let{missing:i,onWarn:o}=e;if(null===i)return t;{let r=i(e,n,t,a);return ah(r)?r:t}}function it(e,t,n){e.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function ir(e){return t=>(function(e,t){let n=t.b||t.body;if(1!==(n.t||n.type))return ia(e,n);{let t=n.c||n.cases;return e.plural(t.reduce((t,n)=>[...t,ia(e,n)],[]))}})(t,e)}function ia(e,t){let n=t.s||t.static;if(n)return"text"===e.type?n:e.normalize([n]);{let n=(t.i||t.items).reduce((t,n)=>[...t,function e(t,n){let r=n.t||n.type;switch(r){case 3:case 9:case 7:case 8:return n.v||n.value;case 4:return t.interpolate(t.named(n.k||n.key));case 5:return t.interpolate(t.list(null!=n.i?n.i:n.index));case 6:{let r=n.m||n.modifier;return t.linked(e(t,n.k||n.key),r?e(t,r):void 0,t.type)}default:throw Error(`unhandled node type on format message part: ${r}`)}}(e,n)],[]);return e.normalize(n)}}let ii=Object.create(null),io=e=>af(e)&&(0===e.t||0===e.type)&&("b"in e||"body"in e);function is(e,t={}){let n=!1,r=t.onError||aP;return t.onError=e=>{n=!0,r(e)},{...function(e,t={}){let n=aC({},t),r=!!n.jit,a=!!n.minify,i=null==n.optimize||n.optimize,o=(function(e={}){let t=!1!==e.location,{onError:n,onWarn:r}=e;function a(e,r,i,o,...s){let l=e.currentPosition();l.offset+=o,l.column+=o,n&&n(aO(r,t?aA(i,l):null,{domain:"parser",args:s}))}function i(e,n,r){let a={type:e};return t&&(a.start=n,a.end=n,a.loc={start:r,end:r}),a}function o(e,n,r,a){a&&(e.type=a),t&&(e.end=n,e.loc&&(e.loc.end=r))}function s(e,t){let{lastOffset:n,lastStartLoc:r}=e.context(),a=i(5,n,r);return a.index=parseInt(t,10),e.nextToken(),o(a,e.currentOffset(),e.currentPosition()),a}function l(e,t,n){let{lastOffset:r,lastStartLoc:a}=e.context(),s=i(4,r,a);return s.key=t,!0===n&&(s.modulo=!0),e.nextToken(),o(s,e.currentOffset(),e.currentPosition()),s}function u(e,t){let{lastOffset:n,lastStartLoc:r}=e.context(),a=i(9,n,r);return a.value=t.replace(aD,aR),e.nextToken(),o(a,e.currentOffset(),e.currentPosition()),a}function c(e){let n=e.context(),c=i(2,1===n.currentType?e.currentOffset():n.offset,1===n.currentType?n.endLoc:n.startLoc);c.items=[];let d=null,h=null;do{let p=d||e.nextToken();switch(d=null,p.type){case 0:null==p.value&&a(e,14,n.lastStartLoc,0,aN(p)),c.items.push(function(e,t){let n=e.context(),r=i(3,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}(e,p.value||""));break;case 6:null==p.value&&a(e,14,n.lastStartLoc,0,aN(p)),c.items.push(s(e,p.value||""));break;case 4:h=!0;break;case 5:null==p.value&&a(e,14,n.lastStartLoc,0,aN(p)),c.items.push(l(e,p.value||"",!!h)),h&&(!function(e,n,a,i,...o){let s=e.currentPosition();s.offset+=0,s.column+=0,r&&r(function(e,t,...n){let r={message:String(ax(aE[1]||"",...n||[])),code:1};return t&&(r.location=t),r}(0,t?aA(a,s):null,o))}(e,0,n.lastStartLoc,0,aN(p)),h=null);break;case 7:null==p.value&&a(e,14,n.lastStartLoc,0,aN(p)),c.items.push(u(e,p.value||""));break;case 8:{let t=function(e){let t=e.context(),n=i(6,t.offset,t.startLoc),r=e.nextToken();if(9===r.type){let t=function(e){let t=e.nextToken(),n=e.context(),{lastOffset:r,lastStartLoc:s}=n,l=i(8,r,s);return 12!==t.type?(a(e,12,n.lastStartLoc,0),l.value="",o(l,r,s),{nextConsumeToken:t,node:l}):(null==t.value&&a(e,14,n.lastStartLoc,0,aN(t)),l.value=t.value||"",o(l,e.currentOffset(),e.currentPosition()),{node:l})}(e);n.modifier=t.node,r=t.nextConsumeToken||e.nextToken()}switch(10!==r.type&&a(e,14,t.lastStartLoc,0,aN(r)),2===(r=e.nextToken()).type&&(r=e.nextToken()),r.type){case 11:var c;let d,h;null==r.value&&a(e,14,t.lastStartLoc,0,aN(r)),c=r.value||"",(h=i(7,(d=e.context()).offset,d.startLoc)).value=c,o(h,e.currentOffset(),e.currentPosition()),n.key=h;break;case 5:null==r.value&&a(e,14,t.lastStartLoc,0,aN(r)),n.key=l(e,r.value||"");break;case 6:null==r.value&&a(e,14,t.lastStartLoc,0,aN(r)),n.key=s(e,r.value||"");break;case 7:null==r.value&&a(e,14,t.lastStartLoc,0,aN(r)),n.key=u(e,r.value||"");break;default:{a(e,13,t.lastStartLoc,0);let s=e.context(),l=i(7,s.offset,s.startLoc);return l.value="",o(l,s.offset,s.startLoc),n.key=l,o(n,s.offset,s.startLoc),{nextConsumeToken:r,node:n}}}return o(n,e.currentOffset(),e.currentPosition()),{node:n}}(e);c.items.push(t.node),d=t.nextConsumeToken||null}}}while(14!==n.currentType&&1!==n.currentType);return o(c,1===n.currentType?n.lastOffset:e.currentOffset(),1===n.currentType?n.lastEndLoc:e.currentPosition()),c}return{parse:function(n){let r=function(e,t={}){let n=!1!==t.location,r=function(e){let t=0,n=1,r=1,a=0,i=t=>"\r"===e[t]&&"\n"===e[t+1],o=t=>e[t]===aM,s=t=>e[t]===aI,l=t=>i(t)||o(t)||s(t)?"\n":e[t];function u(){let l;return a=0,(i(l=t)||"\n"===e[l]||o(l)||s(l))&&(n++,r=0),i(t)&&t++,t++,r++,e[t]}return{index:()=>t,line:()=>n,column:()=>r,peekOffset:()=>a,charAt:l,currentChar:()=>l(t),currentPeek:()=>l(t+a),next:u,peek:function(){return i(t+a)&&a++,a++,e[t+a]},reset:function(){t=0,n=1,r=1,a=0},resetPeek:function(e=0){a=e},skipToPeek:function(){let e=t+a;for(;e!==t;)u();a=0}}}(e),a=()=>r.index(),i=()=>({line:r.line(),column:r.column(),offset:r.index()}),o=i(),s=a(),l={currentType:14,offset:s,startLoc:o,endLoc:o,lastType:14,lastOffset:s,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=t;function d(e,t,r,...a){let i=u();t.column+=r,t.offset+=r,c&&c(aO(e,n?aA(i.startLoc,t):null,{domain:"tokenizer",args:a}))}function h(e,t,r){e.endLoc=i(),e.currentType=t;let a={type:t};return n&&(a.loc=aA(e.startLoc,e.endLoc)),null!=r&&(a.value=r),a}function p(e,t){return e.currentChar()===t?(e.next(),t):(d(1,i(),0,t),"")}function f(e){let t="";for(;" "===e.currentPeek()||"\n"===e.currentPeek();)t+=e.currentPeek(),e.peek();return t}function m(e){let t=f(e);return e.skipToPeek(),t}function g(e){if(e===aL)return!1;let t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function y(e){f(e);let t="|"===e.currentPeek();return e.resetPeek(),t}function _(e,t=!0){let n=(t=!1,r="",a=!1)=>{let i=e.currentPeek();return"{"===i?"%"!==r&&t:"@"!==i&&i?"%"===i?(e.peek(),n(t,"%",!0)):"|"===i?"%"===r||!!a||" "!==r&&"\n"!==r:" "===i?(e.peek(),n(!0," ",a)):"\n"!==i||(e.peek(),n(!0,"\n",a)):"%"===r||t},r=n();return t&&e.resetPeek(),r}function b(e,t){let n=e.currentChar();return n===aL?aL:t(n)?(e.next(),n):null}function A(e){let t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}function w(e){let t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t||45===t}function x(e){let t=e.charCodeAt(0);return t>=48&&t<=57}function C(e){let t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function S(e){let t="",n="";for(;t=b(e,x);)n+=t;return n}function k(e){let t="";for(;;){let n=e.currentChar();if("{"!==n&&"}"!==n&&"@"!==n&&"|"!==n&&n)if("%"===n)if(_(e))t+=n,e.next();else break;else if(" "===n||"\n"===n)if(_(e))t+=n,e.next();else if(y(e))break;else t+=n,e.next();else t+=n,e.next();else break}return t}function E(e){return"'"!==e&&"\n"!==e}function T(e,t,n){p(e,t);let r="";for(let a=0;a<n;a++){let n=b(e,C);if(!n){d(5,i(),0,`\\${t}${r}${e.currentChar()}`);break}r+=n}return`\\${t}${r}`}function O(e){return"{"!==e&&"}"!==e&&" "!==e&&"\n"!==e}function P(e){m(e);let t=p(e,"|");return m(e),t}function I(e,t){let n=null;switch(e.currentChar()){case"{":t.braceNest>=1&&d(9,i(),0),e.next(),n=h(t,2,"{"),m(e),t.braceNest++;break;case"}":t.braceNest>0&&2===t.currentType&&d(8,i(),0),e.next(),n=h(t,3,"}"),t.braceNest--,t.braceNest>0&&m(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1);break;case"@":t.braceNest>0&&d(7,i(),0),n=M(e,t)||h(t,14),t.braceNest=0;break;default:{let r=!0,a=!0,o=!0;if(y(e))return t.braceNest>0&&d(7,i(),0),n=h(t,1,P(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(5===t.currentType||6===t.currentType||7===t.currentType))return d(7,i(),0),t.braceNest=0,L(e,t);if(r=function(e,t){let{currentType:n}=t;if(2!==n)return!1;f(e);let r=g(e.currentPeek());return e.resetPeek(),r}(e,t))return n=h(t,5,function(e){m(e);let t="",n="";for(;t=b(e,w);)n+=t;return e.currentChar()===aL&&d(7,i(),0),n}(e)),m(e),n;if(a=function(e,t){let{currentType:n}=t;if(2!==n)return!1;f(e);let r=function(e){if(e===aL)return!1;let t=e.charCodeAt(0);return t>=48&&t<=57}("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),r}(e,t)){let r;return n=h(t,6,(m(e),r="","-"===e.currentChar()?(e.next(),r+=`-${S(e)}`):r+=S(e),e.currentChar()===aL&&d(7,i(),0),r)),m(e),n}if(o=function(e,t){let{currentType:n}=t;if(2!==n)return!1;f(e);let r="'"===e.currentPeek();return e.resetPeek(),r}(e,t))return n=h(t,7,function(e){m(e),p(e,"'");let t="",n="";for(;t=b(e,E);)"\\"===t?n+=function(e){let t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return T(e,t,4);case"U":return T(e,t,6);default:return d(4,i(),0,t),""}}(e):n+=t;let r=e.currentChar();return"\n"===r||r===aL?(d(3,i(),0),"\n"===r&&(e.next(),p(e,"'"))):p(e,"'"),n}(e)),m(e),n;r||a||o||(n=h(t,13,function(e){m(e);let t="",n="";for(;t=b(e,O);)n+=t;return n}(e)),d(2,i(),0,n.value),m(e))}}return n}function M(e,t){let{currentType:n}=t,r=null,a=e.currentChar();switch((8===n||9===n||12===n||10===n)&&("\n"===a||" "===a)&&d(10,i(),0),a){case"@":return e.next(),r=h(t,8,"@"),t.inLinked=!0,r;case".":return m(e),e.next(),h(t,9,".");case":":return m(e),e.next(),h(t,10,":");default:if(y(e))return r=h(t,1,P(e)),t.braceNest=0,t.inLinked=!1,r;if(function(e,t){let{currentType:n}=t;if(8!==n)return!1;f(e);let r="."===e.currentPeek();return e.resetPeek(),r}(e,t)||function(e,t){let{currentType:n}=t;if(8!==n&&12!==n)return!1;f(e);let r=":"===e.currentPeek();return e.resetPeek(),r}(e,t))return m(e),M(e,t);if(function(e,t){let{currentType:n}=t;if(9!==n)return!1;f(e);let r=g(e.currentPeek());return e.resetPeek(),r}(e,t))return m(e),h(t,12,function(e){let t="",n="";for(;t=b(e,A);)n+=t;return n}(e));if(function(e,t){let{currentType:n}=t;if(10!==n)return!1;let r=()=>{let t=e.currentPeek();return"{"===t?g(e.peek()):"@"!==t&&"%"!==t&&"|"!==t&&":"!==t&&"."!==t&&" "!==t&&!!t&&("\n"===t?(e.peek(),r()):_(e,!1))},a=r();return e.resetPeek(),a}(e,t)){let n;if(m(e),"{"===a)return I(e,t)||r;return h(t,11,(n=t=>{let r=e.currentChar();return"{"!==r&&"%"!==r&&"@"!==r&&"|"!==r&&"("!==r&&")"!==r&&r&&" "!==r?(t+=r,e.next(),n(t)):t})(""))}return 8===n&&d(10,i(),0),t.braceNest=0,t.inLinked=!1,L(e,t)}}function L(e,t){let n={type:14};if(t.braceNest>0)return I(e,t)||h(t,14);if(t.inLinked)return M(e,t)||h(t,14);switch(e.currentChar()){case"{":return I(e,t)||h(t,14);case"}":return d(6,i(),0),e.next(),h(t,3,"}");case"@":return M(e,t)||h(t,14);default:{let r,a;if(y(e))return n=h(t,1,P(e)),t.braceNest=0,t.inLinked=!1,n;let{isModulo:o,hasSpace:s}=(r=f(e),a="%"===e.currentPeek()&&"{"===e.peek(),e.resetPeek(),{isModulo:a,hasSpace:r.length>0});if(o){let n;return s?h(t,0,k(e)):h(t,4,(m(e),"%"!==(n=e.currentChar())&&d(1,i(),0,n),e.next(),"%"))}if(_(e))return h(t,0,k(e))}}return n}return{nextToken:function(){let{currentType:e,offset:t,startLoc:n,endLoc:o}=l;return(l.lastType=e,l.lastOffset=t,l.lastStartLoc=n,l.lastEndLoc=o,l.offset=a(),l.startLoc=i(),r.currentChar()===aL)?h(l,14):L(r,l)},currentOffset:a,currentPosition:i,context:u}}(n,aC({},e)),s=r.context(),l=i(0,s.offset,s.startLoc);return t&&l.loc&&(l.loc.source=n),l.body=function(e){let t=e.context(),{offset:n,startLoc:r}=t,s=c(e);if(14===t.currentType)return s;let l=e.context(),u=0===s.items.length,d=i(1,n,r);d.cases=[],d.cases.push(s);do{let t=c(e);u||(u=0===t.items.length),d.cases.push(t)}while(14!==l.currentType);return u&&a(e,11,r,0),o(d,e.currentOffset(),e.currentPosition()),d}(r),e.onCacheKey&&(l.cacheKey=e.onCacheKey(n)),14!==s.currentType&&a(r,14,s.lastStartLoc,0,n[s.offset]||""),o(l,r.currentOffset(),r.currentPosition()),l}}})(n).parse(e);if(!r)return!function(e,t={}){let n=function(e,t={}){let n={ast:e,helpers:new Set};return{context:()=>n,helper:e=>(n.helpers.add(e),e)}}(e);n.helper("normalize"),e.body&&aF(e.body,n),e.helpers=Array.from(n.context().helpers)}(o,n),((e,t={})=>{let n="string"==typeof t.mode?t.mode:"normal",r="string"==typeof t.filename?t.filename:"message.intl",a=!!t.sourceMap,i=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",o=t.needIndent?t.needIndent:"arrow"!==n,s=e.helpers||[],l=function(e,t){let{sourceMap:n,filename:r,breakLineCode:a,needIndent:i}=t,o=!1!==t.location,s={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:a,needIndent:i,indentLevel:0};function l(e,t){s.code+=e}function u(e,t=!0){let n=t?a:"";l(i?n+"  ".repeat(e):n)}return o&&e.loc&&(s.source=e.loc.source),{context:()=>s,push:l,indent:function(e=!0){let t=++s.indentLevel;e&&u(t)},deindent:function(e=!0){let t=--s.indentLevel;e&&u(t)},newline:function(){u(s.indentLevel)},helper:e=>`_${e}`,needIndent:()=>s.needIndent}}(e,{mode:n,filename:r,sourceMap:a,breakLineCode:i,needIndent:o});l.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),s.length>0&&(l.push(`const { ${ak(s.map(e=>`${e}: _${e}`),", ")} } = ctx`),l.newline()),l.push("return "),function e(t,n){let{helper:r}=t;switch(n.type){case 0:n.body?e(t,n.body):t.push("null");break;case 1:!function(t,n){let{helper:r,needIndent:a}=t;if(n.cases.length>1){t.push(`${r("plural")}([`),t.indent(a());let i=n.cases.length;for(let r=0;r<i&&(e(t,n.cases[r]),r!==i-1);r++)t.push(", ");t.deindent(a()),t.push("])")}}(t,n);break;case 2:!function(t,n){let{helper:r,needIndent:a}=t;t.push(`${r("normalize")}([`),t.indent(a());let i=n.items.length;for(let r=0;r<i&&(e(t,n.items[r]),r!==i-1);r++)t.push(", ");t.deindent(a()),t.push("])")}(t,n);break;case 6:!function(t,n){let{helper:r}=t;t.push(`${r("linked")}(`),e(t,n.key),n.modifier?(t.push(", "),e(t,n.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}(t,n);break;case 8:case 7:case 9:case 3:t.push(JSON.stringify(n.value),n);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${n.index}))`,n);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(n.key)}))`,n);break;default:throw aO(15,null,{domain:"parser",args:[n.type]})}}(l,e),l.deindent(o),l.push("}"),delete e.helpers;let{code:u,map:c}=l.context();return{ast:e,code:u,map:c?c.toJSON():void 0}})(o,n);{let e;return i&&(2===(e=o.body).type?aB(e):e.cases.forEach(e=>aB(e))),a&&function e(t){switch(t.t=t.type,t.type){case 0:e(t.body),t.b=t.body,delete t.body;break;case 1:{let n=t.cases;for(let t=0;t<n.length;t++)e(n[t]);t.c=n,delete t.cases;break}case 2:{let n=t.items;for(let t=0;t<n.length;t++)e(n[t]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:t.value&&(t.v=t.value,delete t.value);break;case 6:e(t.key),t.k=t.key,delete t.key,t.modifier&&(e(t.modifier),t.m=t.modifier,delete t.modifier);break;case 5:t.i=t.index,delete t.index;break;case 4:t.k=t.key,delete t.key;break;default:throw aO(16,null,{domain:"minifier",args:[t.type]})}delete t.type}(o),{ast:o,code:""}}}(e,t),detectError:n}}let il=()=>"",iu=e=>ad(e);function ic(e,...t){let{fallbackFormat:n,postTranslation:r,unresolving:a,messageCompiler:i,fallbackLocale:o,messages:s}=e,[l,u]=ip(...t),c=ap(u.missingWarn)?u.missingWarn:e.missingWarn,d=ap(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,h=ap(u.escapeParameter)?u.escapeParameter:e.escapeParameter,p=!!u.resolvedMessage,f=ah(u.default)||ap(u.default)?ap(u.default)?i?l:()=>l:u.default:n?i?l:()=>l:"",m=n||""!==f,g=a0(e,u);h&&(ac(u.list)?u.list=u.list.map(e=>ah(e)?as(e):e):af(u.named)&&Object.keys(u.named).forEach(e=>{ah(u.named[e])&&(u.named[e]=as(u.named[e]))}));let[y,_,b]=p?[l,g,s[g]||{}]:id(e,l,g,o,d,c),A=y,w=l;if(p||ah(A)||io(A)||iu(A)||!m||(w=A=f),!p&&(!(ah(A)||io(A)||iu(A))||!ah(_)))return a?-1:l;let x=!1,C=iu(A)?A:ih(e,l,_,A,w,()=>{x=!0});if(x)return A;let S=C(function(e={}){let t,n=e.locale,r=(t=ar(e.pluralIndex)?e.pluralIndex:-1,e.named&&(ar(e.named.count)||ar(e.named.n))?ar(e.named.count)?e.named.count:ar(e.named.n)?e.named.n:t:t),a=af(e.pluralRules)&&ah(n)&&ad(e.pluralRules[n])?e.pluralRules[n]:aq,i=af(e.pluralRules)&&ah(n)&&ad(e.pluralRules[n])?aq:void 0,o=e.list||[],s=e.named||{};function l(t){return(ad(e.messages)?e.messages(t):!!af(e.messages)&&e.messages[t])||(e.parent?e.parent.message(t):aH)}ar(e.pluralIndex)&&(s.count||(s.count=r),s.n||(s.n=r));let u=ag(e.processor)&&ad(e.processor.normalize)?e.processor.normalize:a$,c=ag(e.processor)&&ad(e.processor.interpolate)?e.processor.interpolate:aK,d={list:e=>o[e],named:e=>s[e],plural:e=>e[a(r,e.length,i)],linked:(t,...n)=>{let r,[a,i]=n,o="text",s="";1===n.length?af(a)?(s=a.modifier||s,o=a.type||o):ah(a)&&(s=a||s):2===n.length&&(ah(a)&&(s=a||s),ah(i)&&(o=i||o));let u=l(t)(d),c="vnode"===o&&ac(u)&&s?u[0]:u;return s?(r=s,e.modifiers?e.modifiers[r]:e=>e)(c,o):c},message:l,type:ag(e.processor)&&ah(e.processor.type)?e.processor.type:"text",interpolate:c,normalize:u,values:ai({},o,s)};return d}(function(e,t,n,r){let{modifiers:a,pluralRules:i,messageResolver:o,fallbackLocale:s,fallbackWarn:l,missingWarn:u,fallbackContext:c}=e,d={locale:t,modifiers:a,pluralRules:i,messages:r=>{let a=o(n,r);if(null==a&&c){let[,,e]=id(c,r,t,s,l,u);a=o(e,r)}if(ah(a)||io(a)){let n=!1,i=ih(e,r,t,a,r,()=>{n=!0});return n?il:i}return iu(a)?a:il}};return e.processor&&(d.processor=e.processor),r.list&&(d.list=r.list),r.named&&(d.named=r.named),ar(r.plural)&&(d.pluralIndex=r.plural),d}(e,_,b,u))),k=r?r(S,l):S;if(__INTLIFY_PROD_DEVTOOLS__){let t,n={timestamp:Date.now(),key:ah(l)?l:iu(A)?A.key:"",locale:_||(iu(A)?A.locale:""),format:ah(A)?A:iu(A)?A.source:"",message:k};n.meta=ai({},e.__meta,{}),t=n,aG&&aG.emit("function:translate",t)}return k}function id(e,t,n,r,a,i){let o,{messages:s,onWarn:l,messageResolver:u,localeFallbacker:c}=e,d=c(e,r,n),h={},p=null;for(let n=0;n<d.length&&(null===(p=u(h=s[o=d[n]]||{},t))&&(p=h[t]),!(ah(p)||io(p)||iu(p)));n++)if(!function(e,t){let n=t.indexOf(e);if(-1===n)return!1;for(let a=n+1;a<t.length;a++){var r;if(e!==(r=t[a])&&e.split("-")[0]===r.split("-")[0])return!0}return!1}(o,d)){let n=ie(e,t,o,i,"translate");n!==t&&(p=n)}return[p,o,h]}function ih(e,t,n,r,a,i){let{messageCompiler:o,warnHtmlMessage:s}=e;if(iu(r))return r.locale=r.locale||n,r.key=r.key||t,r;if(null==o){let e=()=>r;return e.locale=n,e.key=t,e}let l=o(r,{locale:n,key:a,warnHtmlMessage:s,onError:e=>{throw i&&i(e),e},onCacheKey:e=>JSON.stringify({l:n,k:a,s:e}).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027")});return l.locale=n,l.key=t,l.source=r,l}function ip(...e){let[t,n,r]=e,a={};if(!ah(t)&&!ar(t)&&!iu(t)&&!io(t))throw aQ(aZ.INVALID_ARGUMENT);let i=ar(t)?String(t):(iu(t),t);return ar(n)?a.plural=n:ah(n)?a.default=n:ag(n)&&!aa(n)?a.named=n:ac(n)&&(a.list=n),ar(r)?a.plural=r:ah(r)?a.default=r:ag(r)&&ai(a,r),[i,a]}let im="undefined"!=typeof Intl;function ig(e,...t){let n,{datetimeFormats:r,unresolving:a,fallbackLocale:i,onWarn:o,localeFallbacker:s}=e,{__datetimeFormatters:l}=e,[u,c,d,h]=iy(...t),p=ap(d.missingWarn)?d.missingWarn:e.missingWarn;ap(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn;let f=!!d.part,m=a0(e,d),g=s(e,i,m);if(!ah(u)||""===u)return new Intl.DateTimeFormat(m,h).format(c);let y=null;for(let t=0;t<g.length&&!ag(y=(r[n=g[t]]||{})[u]);t++)ie(e,u,n,p,"datetime format");if(!ag(y)||!ah(n))return a?-1:u;let _=`${n}__${u}`;aa(h)||(_=`${_}__${JSON.stringify(h)}`);let b=l.get(_);return b||(b=new Intl.DateTimeFormat(n,ai({},y,h)),l.set(_,b)),f?b.formatToParts(c):b.format(c)}im&&Intl.DateTimeFormat,im&&Intl.NumberFormat;let iv=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function iy(...e){let t,[n,r,a,i]=e,o={},s={};if(ah(n)){let e=n.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw aQ(aZ.INVALID_ISO_DATE_ARGUMENT);t=new Date(e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim());try{t.toISOString()}catch(e){throw aQ(aZ.INVALID_ISO_DATE_ARGUMENT)}}else if("[object Date]"===am.call(n)){if(isNaN(n.getTime()))throw aQ(aZ.INVALID_DATE_ARGUMENT);t=n}else if(ar(n))t=n;else throw aQ(aZ.INVALID_ARGUMENT);return ah(r)?o.key=r:ag(r)&&Object.keys(r).forEach(e=>{iv.includes(e)?s[e]=r[e]:o[e]=r[e]}),ah(a)?o.locale=a:ag(a)&&(s=a),ag(i)&&(s=i),[o.key||"",t,o,s]}function i_(e,t,n){for(let r in n){let n=`${t}__${r}`;e.__datetimeFormatters.has(n)&&e.__datetimeFormatters.delete(n)}}function ib(e,...t){let n,{numberFormats:r,unresolving:a,fallbackLocale:i,onWarn:o,localeFallbacker:s}=e,{__numberFormatters:l}=e,[u,c,d,h]=iw(...t),p=ap(d.missingWarn)?d.missingWarn:e.missingWarn;ap(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn;let f=!!d.part,m=a0(e,d),g=s(e,i,m);if(!ah(u)||""===u)return new Intl.NumberFormat(m,h).format(c);let y=null;for(let t=0;t<g.length&&!ag(y=(r[n=g[t]]||{})[u]);t++)ie(e,u,n,p,"number format");if(!ag(y)||!ah(n))return a?-1:u;let _=`${n}__${u}`;aa(h)||(_=`${_}__${JSON.stringify(h)}`);let b=l.get(_);return b||(b=new Intl.NumberFormat(n,ai({},y,h)),l.set(_,b)),f?b.formatToParts(c):b.format(c)}let iA=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function iw(...e){let[t,n,r,a]=e,i={},o={};if(!ar(t))throw aQ(aZ.INVALID_ARGUMENT);return ah(n)?i.key=n:ag(n)&&Object.keys(n).forEach(e=>{iA.includes(e)?o[e]=n[e]:i[e]=n[e]}),ah(r)?i.locale=r:ag(r)&&(o=r),ag(a)&&(o=a),[i.key||"",t,i,o]}function ix(e,t,n){for(let r in n){let n=`${t}__${r}`;e.__numberFormatters.has(n)&&e.__numberFormatters.delete(n)}}"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(ao().__INTLIFY_PROD_DEVTOOLS__=!1),"boolean"!=typeof __INTLIFY_JIT_COMPILATION__&&(ao().__INTLIFY_JIT_COMPILATION__=!1),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(ao().__INTLIFY_DROP_MESSAGE_COMPILER__=!1);let iC=aX.__EXTEND_POINT__,iS=av(iC),ik={FALLBACK_TO_ROOT:iC,NOT_SUPPORTED_PRESERVE:iS(),NOT_SUPPORTED_FORMATTER:iS(),NOT_SUPPORTED_PRESERVE_DIRECTIVE:iS(),NOT_SUPPORTED_GET_CHOICE_INDEX:iS(),COMPONENT_NAME_LEGACY_COMPATIBLE:iS(),NOT_FOUND_PARENT_SCOPE:iS(),IGNORE_OBJ_FLATTEN:iS(),NOTICE_DROP_ALLOW_COMPOSITION:iS(),NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG:iS()};ik.FALLBACK_TO_ROOT,ik.NOT_SUPPORTED_PRESERVE,ik.NOT_SUPPORTED_FORMATTER,ik.NOT_SUPPORTED_PRESERVE_DIRECTIVE,ik.NOT_SUPPORTED_GET_CHOICE_INDEX,ik.COMPONENT_NAME_LEGACY_COMPATIBLE,ik.NOT_FOUND_PARENT_SCOPE,ik.IGNORE_OBJ_FLATTEN,ik.NOTICE_DROP_ALLOW_COMPOSITION,ik.NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG;let iE=aZ.__EXTEND_POINT__,iT=av(iE),iO={UNEXPECTED_RETURN_TYPE:iE,INVALID_ARGUMENT:iT(),MUST_BE_CALL_SETUP_TOP:iT(),NOT_INSTALLED:iT(),NOT_AVAILABLE_IN_LEGACY_MODE:iT(),REQUIRED_VALUE:iT(),INVALID_VALUE:iT(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:iT(),NOT_INSTALLED_WITH_PROVIDE:iT(),UNEXPECTED_ERROR:iT(),NOT_COMPATIBLE_LEGACY_VUE_I18N:iT(),BRIDGE_SUPPORT_VUE_2_ONLY:iT(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:iT(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:iT(),__EXTEND_POINT__:iT()};function iP(e){return aO(e,null,void 0)}iO.UNEXPECTED_RETURN_TYPE,iO.INVALID_ARGUMENT,iO.MUST_BE_CALL_SETUP_TOP,iO.NOT_INSTALLED,iO.UNEXPECTED_ERROR,iO.NOT_AVAILABLE_IN_LEGACY_MODE,iO.REQUIRED_VALUE,iO.INVALID_VALUE,iO.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN,iO.NOT_INSTALLED_WITH_PROVIDE,iO.NOT_COMPATIBLE_LEGACY_VUE_I18N,iO.BRIDGE_SUPPORT_VUE_2_ONLY,iO.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION,iO.NOT_AVAILABLE_COMPOSITION_IN_LEGACY;let iI=an("__translateVNode"),iM=an("__datetimeParts"),iL=an("__numberParts"),iD=an("__setPluralRules");an("__intlifyMeta");let iR=an("__injectWithOption"),iN=an("__dispose");function ij(e){if(!af(e))return e;for(let t in e)if(au(e,t))if(t.includes(".")){let n=t.split("."),r=n.length-1,a=e,i=!1;for(let e=0;e<r;e++){if(n[e]in a||(a[n[e]]={}),!af(a[n[e]])){i=!0;break}a=a[n[e]]}i||(a[n[r]]=e[t],delete e[t]),af(a[n[r]])&&ij(a[n[r]])}else af(e[t])&&ij(e[t]);return e}function iF(e,t){let{messages:n,__i18n:r,messageResolver:a,flatJson:i}=t,o=ag(n)?n:ac(r)?{}:{[e]:{}};if(ac(r)&&r.forEach(e=>{if("locale"in e&&"resource"in e){let{locale:t,resource:n}=e;t?(o[t]=o[t]||{},ab(n,o[t])):ab(n,o)}else ah(e)&&ab(JSON.parse(e),o)}),null==a&&i)for(let e in o)au(o,e)&&ij(o[e]);return o}function iB(e,t,n){let r=af(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=iF(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));let a=Object.keys(r);if(a.length&&a.forEach(t=>{e.mergeLocaleMessage(t,r[t])}),af(t.datetimeFormats)){let n=Object.keys(t.datetimeFormats);n.length&&n.forEach(n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])})}if(af(t.numberFormats)){let n=Object.keys(t.numberFormats);n.length&&n.forEach(n=>{e.mergeNumberFormat(n,t.numberFormats[n])})}}function iU(e){return rl(n2,null,e,0)}let iV=()=>[],iW=()=>!1,iz=0;function iH(e){return(t,n,r,a)=>e(n,r,rb()||void 0,a)}function i$(e={},t){let n,r,a,i,o,{__root:s,__injectWithOption:l}=e,u=void 0===s,c=e.flatJson,d=at?tc:td,h=!!e.translateExistCompatible,p=!ap(e.inheritLocale)||e.inheritLocale,f=d(s&&p?s.locale.value:ah(e.locale)?e.locale:a4),_=d(s&&p?s.fallbackLocale.value:ah(e.fallbackLocale)||ac(e.fallbackLocale)||ag(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:f.value),b=d(iF(f.value,e)),A=d(ag(e.datetimeFormats)?e.datetimeFormats:{[f.value]:{}}),w=d(ag(e.numberFormats)?e.numberFormats:{[f.value]:{}}),x=s?s.missingWarn:!(ap(e.missingWarn)||"[object RegExp]"===(n=e.missingWarn,am.call(n)))||e.missingWarn,C=s?s.fallbackWarn:!(ap(e.fallbackWarn)||"[object RegExp]"===(r=e.fallbackWarn,am.call(r)))||e.fallbackWarn,S=s?s.fallbackRoot:!ap(e.fallbackRoot)||e.fallbackRoot,k=!!e.fallbackFormat,E=ad(e.missing)?e.missing:null,T=ad(e.missing)?iH(e.missing):null,O=ad(e.postTranslation)?e.postTranslation:null,P=s?s.warnHtmlMessage:!ap(e.warnHtmlMessage)||e.warnHtmlMessage,I=!!e.escapeParameter,M=s?s.modifiers:ag(e.modifiers)?e.modifiers:{},L=e.pluralRules||s&&s.pluralRules;u&&a7(null),(i={version:"9.13.1",locale:f.value,fallbackLocale:_.value,messages:b.value,modifiers:M,pluralRules:L,missing:null===T?void 0:T,missingWarn:x,fallbackWarn:C,fallbackFormat:k,unresolving:!0,postTranslation:null===O?void 0:O,warnHtmlMessage:P,escapeParameter:I,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}}).datetimeFormats=A.value,i.numberFormats=w.value,i.__datetimeFormatters=ag(a)?a.__datetimeFormatters:void 0,i.__numberFormatters=ag(a)?a.__numberFormatters:void 0,o=function(e={}){let t,n,r=ad(e.onWarn)?e.onWarn:ay,a=ah(e.version)?e.version:"9.13.1",i=ah(e.locale)||ad(e.locale)?e.locale:a4,o=ad(i)?a4:i,s=ac(e.fallbackLocale)||ag(e.fallbackLocale)||ah(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:o,l=ag(e.messages)?e.messages:{[o]:{}},u=ag(e.datetimeFormats)?e.datetimeFormats:{[o]:{}},c=ag(e.numberFormats)?e.numberFormats:{[o]:{}},d=ai({},e.modifiers||{},{upper:(e,t)=>"text"===t&&ah(e)?e.toUpperCase():"vnode"===t&&af(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>"text"===t&&ah(e)?e.toLowerCase():"vnode"===t&&af(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>"text"===t&&ah(e)?a6(e):"vnode"===t&&af(e)&&"__v_isVNode"in e?a6(e.children):e}),h=e.pluralRules||{},p=ad(e.missing)?e.missing:null,f=!(ap(e.missingWarn)||"[object RegExp]"===(t=e.missingWarn,am.call(t)))||e.missingWarn,_=!(ap(e.fallbackWarn)||"[object RegExp]"===(n=e.fallbackWarn,am.call(n)))||e.fallbackWarn,b=!!e.fallbackFormat,A=!!e.unresolving,w=ad(e.postTranslation)?e.postTranslation:null,x=ag(e.processor)?e.processor:null,C=!ap(e.warnHtmlMessage)||e.warnHtmlMessage,S=!!e.escapeParameter,k=ad(e.messageCompiler)?e.messageCompiler:m,E=ad(e.messageResolver)?e.messageResolver:g||az,T=ad(e.localeFallbacker)?e.localeFallbacker:y||a2,O=af(e.fallbackContext)?e.fallbackContext:void 0,P=af(e.__datetimeFormatters)?e.__datetimeFormatters:new Map,I=af(e.__numberFormatters)?e.__numberFormatters:new Map,M=af(e.__meta)?e.__meta:{},L={version:a,cid:++a9,locale:i,fallbackLocale:s,messages:l,modifiers:d,pluralRules:h,missing:p,missingWarn:f,fallbackWarn:_,fallbackFormat:b,unresolving:A,postTranslation:w,processor:x,warnHtmlMessage:C,escapeParameter:S,messageCompiler:k,messageResolver:E,localeFallbacker:T,fallbackContext:O,onWarn:r,__meta:M};return L.datetimeFormats=u,L.numberFormats=c,L.__datetimeFormatters=P,L.__numberFormatters=I,__INTLIFY_PROD_DEVTOOLS__&&aG&&aG.emit("i18n:init",{timestamp:Date.now(),i18n:L,version:a,meta:M}),L}(i),u&&a7(o),it(a=o,f.value,_.value);let D=rP({get:()=>f.value,set:e=>{f.value=e,a.locale=f.value}}),R=rP({get:()=>_.value,set:e=>{_.value=e,a.fallbackLocale=_.value,it(a,f.value,e)}}),N=rP(()=>b.value),j=rP(()=>A.value),F=rP(()=>w.value),B=(e,t,n,r,i,o)=>{let l;f.value,_.value,b.value,A.value,w.value;try{__INTLIFY_PROD_DEVTOOLS__,u||(a.fallbackContext=s?a8:void 0),l=e(a)}finally{__INTLIFY_PROD_DEVTOOLS__,u||(a.fallbackContext=void 0)}if("translate exists"!==n&&ar(l)&&-1===l||"translate exists"===n&&!l){let[e,n]=t();return s&&S?r(s):i(e)}if(o(l))return l;throw iP(iO.UNEXPECTED_RETURN_TYPE)};function U(...e){return B(t=>Reflect.apply(ic,null,[t,...e]),()=>ip(...e),"translate",t=>Reflect.apply(t.t,t,[...e]),e=>e,e=>ah(e))}let V={normalize:function(e){return e.map(e=>ah(e)||ar(e)||ap(e)?iU(String(e)):e)},interpolate:e=>e,type:"vnode"};function W(e){return b.value[e]||{}}iz++,s&&at&&(n$(s.locale,e=>{p&&(f.value=e,a.locale=e,it(a,f.value,_.value))},void 0),n$(s.fallbackLocale,e=>{p&&(_.value=e,a.fallbackLocale=e,it(a,f.value,_.value))},void 0));let z={id:iz,locale:D,fallbackLocale:R,get inheritLocale(){return p},set inheritLocale(val){p=val,val&&s&&(f.value=s.locale.value,_.value=s.fallbackLocale.value,it(a,f.value,_.value))},get availableLocales(){return Object.keys(b.value).sort()},messages:N,get modifiers(){return M},get pluralRules(){return L||{}},get isGlobal(){return u},get missingWarn(){return x},set missingWarn(val){x=val,a.missingWarn=x},get fallbackWarn(){return C},set fallbackWarn(val){C=val,a.fallbackWarn=C},get fallbackRoot(){return S},set fallbackRoot(val){S=val},get fallbackFormat(){return k},set fallbackFormat(val){k=val,a.fallbackFormat=k},get warnHtmlMessage(){return P},set warnHtmlMessage(val){P=val,a.warnHtmlMessage=val},get escapeParameter(){return I},set escapeParameter(val){I=val,a.escapeParameter=val},t:U,getLocaleMessage:W,setLocaleMessage:function(e,t){if(c){let n={[e]:t};for(let e in n)au(n,e)&&ij(n[e]);t=n[e]}b.value[e]=t,a.messages=b.value},mergeLocaleMessage:function(e,t){b.value[e]=b.value[e]||{};let n={[e]:t};if(c)for(let e in n)au(n,e)&&ij(n[e]);ab(t=n[e],b.value[e]),a.messages=b.value},getPostTranslationHandler:function(){return ad(O)?O:null},setPostTranslationHandler:function(e){O=e,a.postTranslation=e},getMissingHandler:function(){return E},setMissingHandler:function(e){null!==e&&(T=iH(e)),E=e,a.missing=T},[iD]:function(e){L=e,a.pluralRules=L}};return z.datetimeFormats=j,z.numberFormats=F,z.rt=function(...e){let[t,n,r]=e;if(r&&!af(r))throw iP(iO.INVALID_ARGUMENT);return U(t,n,ai({resolvedMessage:!0},r||{}))},z.te=function(e,t){return B(()=>{if(!e)return!1;let n=W(ah(t)?t:f.value),r=a.messageResolver(n,e);return h?null!=r:io(r)||iu(r)||ah(r)},()=>[e],"translate exists",n=>Reflect.apply(n.te,n,[e,t]),iW,e=>ap(e))},z.tm=function(e){let t=function(e){let t=null,n=a5(a,_.value,f.value);for(let r=0;r<n.length;r++){let i=b.value[n[r]]||{},o=a.messageResolver(i,e);if(null!=o){t=o;break}}return t}(e);return null!=t?t:s&&s.tm(e)||{}},z.d=function(...e){return B(t=>Reflect.apply(ig,null,[t,...e]),()=>iy(...e),"datetime format",t=>Reflect.apply(t.d,t,[...e]),()=>"",e=>ah(e))},z.n=function(...e){return B(t=>Reflect.apply(ib,null,[t,...e]),()=>iw(...e),"number format",t=>Reflect.apply(t.n,t,[...e]),()=>"",e=>ah(e))},z.getDateTimeFormat=function(e){return A.value[e]||{}},z.setDateTimeFormat=function(e,t){A.value[e]=t,a.datetimeFormats=A.value,i_(a,e,t)},z.mergeDateTimeFormat=function(e,t){A.value[e]=ai(A.value[e]||{},t),a.datetimeFormats=A.value,i_(a,e,t)},z.getNumberFormat=function(e){return w.value[e]||{}},z.setNumberFormat=function(e,t){w.value[e]=t,a.numberFormats=w.value,ix(a,e,t)},z.mergeNumberFormat=function(e,t){w.value[e]=ai(w.value[e]||{},t),a.numberFormats=w.value,ix(a,e,t)},z[iR]=l,z[iI]=function(...e){return B(t=>{let n;try{t.processor=V,n=Reflect.apply(ic,null,[t,...e])}finally{t.processor=null}return n},()=>ip(...e),"translate",t=>t[iI](...e),e=>[iU(e)],e=>ac(e))},z[iM]=function(...e){return B(t=>Reflect.apply(ig,null,[t,...e]),()=>iy(...e),"datetime format",t=>t[iM](...e),iV,e=>ah(e)||ac(e))},z[iL]=function(...e){return B(t=>Reflect.apply(ib,null,[t,...e]),()=>iw(...e),"number format",t=>t[iL](...e),iV,e=>ah(e)||ac(e))},z}function iK(e={},t){{let t=i$(function(e){let t,n,r=ah(e.locale)?e.locale:a4,a=ah(e.fallbackLocale)||ac(e.fallbackLocale)||ag(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:r,i=ad(e.missing)?e.missing:void 0,o=!(ap(e.silentTranslationWarn)||"[object RegExp]"===(t=e.silentTranslationWarn,am.call(t)))||!e.silentTranslationWarn,s=!(ap(e.silentFallbackWarn)||"[object RegExp]"===(n=e.silentFallbackWarn,am.call(n)))||!e.silentFallbackWarn,l=!ap(e.fallbackRoot)||e.fallbackRoot,u=!!e.formatFallbackMessages,c=ag(e.modifiers)?e.modifiers:{},d=e.pluralizationRules,h=ad(e.postTranslation)?e.postTranslation:void 0,p=!ah(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,f=!!e.escapeParameterHtml,m=!ap(e.sync)||e.sync,g=e.messages;if(ag(e.sharedMessages)){let t=e.sharedMessages;g=Object.keys(t).reduce((e,n)=>(ai(e[n]||(e[n]={}),t[n]),e),g||{})}let{__i18n:y,__root:_,__injectWithOption:b}=e,A=e.datetimeFormats,w=e.numberFormats,x=e.flatJson,C=e.translateExistCompatible;return{locale:r,fallbackLocale:a,messages:g,flatJson:x,datetimeFormats:A,numberFormats:w,missing:i,missingWarn:o,fallbackWarn:s,fallbackRoot:l,fallbackFormat:u,modifiers:c,pluralRules:d,postTranslation:h,warnHtmlMessage:p,escapeParameter:f,messageResolver:e.messageResolver,inheritLocale:m,translateExistCompatible:C,__i18n:y,__root:_,__injectWithOption:b}}(e)),{__extender:n}=e,r={id:t.id,get locale(){return t.locale.value},set locale(val){t.locale.value=val},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(val){t.fallbackLocale.value=val},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate:()=>[]}},set formatter(val){},get missing(){return t.getMissingHandler()},set missing(handler){t.setMissingHandler(handler)},get silentTranslationWarn(){return ap(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(val){t.missingWarn=ap(val)?!val:val},get silentFallbackWarn(){return ap(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(val){t.fallbackWarn=ap(val)?!val:val},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(val){t.fallbackFormat=val},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(handler){t.setPostTranslationHandler(handler)},get sync(){return t.inheritLocale},set sync(val){t.inheritLocale=val},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(val){t.warnHtmlMessage="off"!==val},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(val){t.escapeParameter=val},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(val){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...e){let[n,r,a]=e,i={},o=null,s=null;if(!ah(n))throw iP(iO.INVALID_ARGUMENT);return ah(r)?i.locale=r:ac(r)?o=r:ag(r)&&(s=r),ac(a)?o=a:ag(a)&&(s=a),Reflect.apply(t.t,t,[n,o||s||{},i])},rt:(...e)=>Reflect.apply(t.rt,t,[...e]),tc(...e){let[n,r,a]=e,i={plural:1},o=null,s=null;if(!ah(n))throw iP(iO.INVALID_ARGUMENT);return ah(r)?i.locale=r:ar(r)?i.plural=r:ac(r)?o=r:ag(r)&&(s=r),ah(a)?i.locale=a:ac(a)?o=a:ag(a)&&(s=a),Reflect.apply(t.t,t,[n,o||s||{},i])},te:(e,n)=>t.te(e,n),tm:e=>t.tm(e),getLocaleMessage:e=>t.getLocaleMessage(e),setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d:(...e)=>Reflect.apply(t.d,t,[...e]),getDateTimeFormat:e=>t.getDateTimeFormat(e),setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n:(...e)=>Reflect.apply(t.n,t,[...e]),getNumberFormat:e=>t.getNumberFormat(e),setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex:(e,t)=>-1};return r.__extender=n,r}}let iq={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}},iG=tq({name:"i18n-t",props:ai({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>ar(e)||!isNaN(e)}},iq),setup(e,t){let{slots:n,attrs:r}=t,a=e.i18n||i2({useScope:e.scope,__useComponent:!0});return()=>{let i=Object.keys(n).filter(e=>"_"!==e),o={};e.locale&&(o.locale=e.locale),void 0!==e.plural&&(o.plural=ah(e.plural)?+e.plural:e.plural);let s=function({slots:e},t){return 1===t.length&&"default"===t[0]?(e.default?e.default():[]).reduce((e,t)=>[...e,...t.type===n1?t.children:[t]],[]):t.reduce((t,n)=>{let r=e[n];return r&&(t[n]=r()),t},{})}(t,i),l=a[iI](e.keypath,s,o),u=ai({},r);return rI(ah(e.tag)||af(e.tag)?e.tag:n1,u,l)}}});function iY(e,t,n,r){let{slots:a,attrs:i}=t;return()=>{let t={part:!0},o={};e.locale&&(t.locale=e.locale),ah(e.format)?t.key=e.format:af(e.format)&&(ah(e.format.key)&&(t.key=e.format.key),o=Object.keys(e.format).reduce((t,r)=>n.includes(r)?ai({},t,{[r]:e.format[r]}):t,{}));let s=r(e.value,t,o),l=[t.key];ac(s)?l=s.map((e,t)=>{let n=a[e.type],r=n?n({[e.type]:e.value,index:t,parts:s}):[e.value];return ac(r)&&!ah(r[0])&&(r[0].key=`${e.type}-${t}`),r}):ah(s)&&(l=[s]);let u=ai({},i);return rI(ah(e.tag)||af(e.tag)?e.tag:n1,u,l)}}let iX=tq({name:"i18n-n",props:ai({value:{type:Number,required:!0},format:{type:[String,Object]}},iq),setup(e,t){let n=e.i18n||i2({useScope:e.scope,__useComponent:!0});return iY(e,t,iA,(...e)=>n[iL](...e))}}),iJ=tq({name:"i18n-d",props:ai({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},iq),setup(e,t){let n=e.i18n||i2({useScope:e.scope,__useComponent:!0});return iY(e,t,iv,(...e)=>n[iM](...e))}});function iZ(e){if(ah(e))return{path:e};if(ag(e)){if(!("path"in e))throw iP(iO.REQUIRED_VALUE,"path");return e}throw iP(iO.INVALID_VALUE)}function iQ(e){let{path:t,locale:n,args:r,choice:a,plural:i}=e,o={};return ah(n)&&(o.locale=n),ar(a)&&(o.plural=a),ar(i)&&(o.plural=i),[t,r||{},o]}function i0(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[iD](t.pluralizationRules||e.pluralizationRules);let n=iF(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(t=>e.mergeLocaleMessage(t,n[t])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n])),t.numberFormats&&Object.keys(t.numberFormats).forEach(n=>e.mergeNumberFormat(n,t.numberFormats[n])),e}let i1=an("global-vue-i18n");function i2(e={}){var t;let n=rb();if(null==n)throw iP(iO.MUST_BE_CALL_SETUP_TOP);if(!n.isCE&&null!=n.appContext.app&&!n.appContext.app.__VUE_I18N_SYMBOL__)throw iP(iO.NOT_INSTALLED);let r=function(e){{let t=nE(e.isCE?i1:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw iP(e.isCE?iO.NOT_INSTALLED_WITH_PROVIDE:iO.UNEXPECTED_ERROR);return t}}(n),a="composition"===r.mode?r.global:r.global.__composer,i=n.type,o=aa(e)?"__i18n"in i?"local":"global":e.useScope?e.useScope:"local";if(__VUE_I18N_LEGACY_API__&&"legacy"===r.mode&&!e.__useComponent){if(!r.allowComposition)throw iP(iO.NOT_AVAILABLE_IN_LEGACY_MODE);return function(e,t,n,r={}){let a,i,o="local"===t,s=td(null);if(o&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw iP(iO.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);let l=ap(r.inheritLocale)?r.inheritLocale:!ah(r.locale),u=tc(!o||l?n.locale.value:ah(r.locale)?r.locale:a4),c=tc(!o||l?n.fallbackLocale.value:ah(r.fallbackLocale)||ac(r.fallbackLocale)||ag(r.fallbackLocale)||!1===r.fallbackLocale?r.fallbackLocale:u.value),d=tc(iF(u.value,r)),h=tc(ag(r.datetimeFormats)?r.datetimeFormats:{[u.value]:{}}),p=tc(ag(r.numberFormats)?r.numberFormats:{[u.value]:{}}),f=o?n.missingWarn:!(ap(r.missingWarn)||"[object RegExp]"===(a=r.missingWarn,am.call(a)))||r.missingWarn,m=o?n.fallbackWarn:!(ap(r.fallbackWarn)||"[object RegExp]"===(i=r.fallbackWarn,am.call(i)))||r.fallbackWarn,g=o?n.fallbackRoot:!ap(r.fallbackRoot)||r.fallbackRoot,y=!!r.fallbackFormat,_=ad(r.missing)?r.missing:null,b=ad(r.postTranslation)?r.postTranslation:null,A=o?n.warnHtmlMessage:!ap(r.warnHtmlMessage)||r.warnHtmlMessage,w=!!r.escapeParameter,x=o?n.modifiers:ag(r.modifiers)?r.modifiers:{},C=r.pluralRules||o&&n.pluralRules,S=rP({get:()=>s.value?s.value.locale.value:u.value,set:e=>{s.value&&(s.value.locale.value=e),u.value=e}}),k=rP({get:()=>s.value?s.value.fallbackLocale.value:c.value,set:e=>{s.value&&(s.value.fallbackLocale.value=e),c.value=e}}),E=rP(()=>s.value?s.value.messages.value:d.value),T=rP(()=>h.value),O=rP(()=>p.value);function P(e){return u.value,c.value,d.value,h.value,p.value,e()}return t8(()=>{if(null==e.proxy||null==e.proxy.$i18n)throw iP(iO.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);let n=s.value=e.proxy.$i18n.__composer;"global"===t?(u.value=n.locale.value,c.value=n.fallbackLocale.value,d.value=n.messages.value,h.value=n.datetimeFormats.value,p.value=n.numberFormats.value):o&&(n.locale.value=u.value,n.fallbackLocale.value=c.value,Object.keys(d.value).forEach(e=>{n.mergeLocaleMessage(e,d.value[e])}),Object.keys(h.value).forEach(e=>{n.mergeDateTimeFormat(e,h.value[e])}),Object.keys(p.value).forEach(e=>{n.mergeNumberFormat(e,p.value[e])}),n.escapeParameter=w,n.fallbackFormat=y,n.fallbackRoot=g,n.fallbackWarn=m,n.missingWarn=f,n.warnHtmlMessage=A)}),{get id(){return s.value?s.value.id:-1},locale:S,fallbackLocale:k,messages:E,datetimeFormats:T,numberFormats:O,get inheritLocale(){return s.value?s.value.inheritLocale:l},set inheritLocale(val){s.value&&(s.value.inheritLocale=val)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(d.value)},get modifiers(){return s.value?s.value.modifiers:x},get pluralRules(){return s.value?s.value.pluralRules:C},get isGlobal(){return!!s.value&&s.value.isGlobal},get missingWarn(){return s.value?s.value.missingWarn:f},set missingWarn(val){s.value&&(s.value.missingWarn=val)},get fallbackWarn(){return s.value?s.value.fallbackWarn:m},set fallbackWarn(val){s.value&&(s.value.missingWarn=val)},get fallbackRoot(){return s.value?s.value.fallbackRoot:g},set fallbackRoot(val){s.value&&(s.value.fallbackRoot=val)},get fallbackFormat(){return s.value?s.value.fallbackFormat:y},set fallbackFormat(val){s.value&&(s.value.fallbackFormat=val)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:A},set warnHtmlMessage(val){s.value&&(s.value.warnHtmlMessage=val)},get escapeParameter(){return s.value?s.value.escapeParameter:w},set escapeParameter(val){s.value&&(s.value.escapeParameter=val)},t:function(...e){return s.value?P(()=>Reflect.apply(s.value.t,null,[...e])):P(()=>"")},getPostTranslationHandler:function(){return s.value?s.value.getPostTranslationHandler():b},setPostTranslationHandler:function(e){s.value&&s.value.setPostTranslationHandler(e)},getMissingHandler:function(){return s.value?s.value.getMissingHandler():_},setMissingHandler:function(e){s.value&&s.value.setMissingHandler(e)},rt:function(...e){return s.value?Reflect.apply(s.value.rt,null,[...e]):""},d:function(...e){return s.value?P(()=>Reflect.apply(s.value.d,null,[...e])):P(()=>"")},n:function(...e){return s.value?P(()=>Reflect.apply(s.value.n,null,[...e])):P(()=>"")},tm:function(e){return s.value?s.value.tm(e):{}},te:function(e,t){return!!s.value&&s.value.te(e,t)},getLocaleMessage:function(e){return s.value?s.value.getLocaleMessage(e):{}},setLocaleMessage:function(e,t){s.value&&(s.value.setLocaleMessage(e,t),d.value[e]=t)},mergeLocaleMessage:function(e,t){s.value&&s.value.mergeLocaleMessage(e,t)},getDateTimeFormat:function(e){return s.value?s.value.getDateTimeFormat(e):{}},setDateTimeFormat:function(e,t){s.value&&(s.value.setDateTimeFormat(e,t),h.value[e]=t)},mergeDateTimeFormat:function(e,t){s.value&&s.value.mergeDateTimeFormat(e,t)},getNumberFormat:function(e){return s.value?s.value.getNumberFormat(e):{}},setNumberFormat:function(e,t){s.value&&(s.value.setNumberFormat(e,t),p.value[e]=t)},mergeNumberFormat:function(e,t){s.value&&s.value.mergeNumberFormat(e,t)}}}(n,o,a,e)}if("global"===o)return iB(a,e,i),a;if("parent"===o){let t=function(e,t,n=!1){let r=null,a=t.root,i=function(e,t=!1){return null==e?null:t&&e.vnode.ctx||e.parent}(t,n);for(;null!=i;){if("composition"===e.mode)r=e.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){let t=e.__getInstance(i);null!=t&&(r=t.__composer,n&&r&&!r[iR]&&(r=null))}if(null!=r||a===i)break;i=i.parent}return r}(r,n,e.__useComponent);return null==t&&(t=a),t}let s=r.__getInstance(n);if(null==s){let o=ai({},e);"__i18n"in i&&(o.__i18n=i.__i18n),a&&(o.__root=a),s=i$(o),r.__composerExtend&&(s[iN]=r.__composerExtend(s)),t=s,t7(()=>{},n),nn(()=>{r.__deleteInstance(n);let e=t[iN];e&&(e(),delete t[iN])},n),r.__setInstance(n,s)}return s}let i5=["locale","fallbackLocale","availableLocales"],i3=["t","rt","d","n","tm","te"];if("boolean"!=typeof __VUE_I18N_FULL_INSTALL__&&(ao().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!=typeof __VUE_I18N_LEGACY_API__&&(ao().__VUE_I18N_LEGACY_API__=!0),"boolean"!=typeof __INTLIFY_JIT_COMPILATION__&&(ao().__INTLIFY_JIT_COMPILATION__=!1),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(ao().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(ao().__INTLIFY_PROD_DEVTOOLS__=!1),m=__INTLIFY_JIT_COMPILATION__?function(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&ah(e)){ap(t.warnHtmlMessage)&&t.warnHtmlMessage;let n=(t.onCacheKey||(e=>e))(e),r=ii[n];if(r)return r;let{ast:a,detectError:i}=is(e,{...t,location:!1,jit:!0}),o=ir(a);return i?o:ii[n]=o}{let t=e.cacheKey;return t?ii[t]||(ii[t]=ir(e)):ir(e)}}:(e,t)=>{if(!ah(e))throw aQ(aZ.NOT_SUPPORT_NON_STRING_MESSAGE);{ap(t.warnHtmlMessage)&&t.warnHtmlMessage;let n=(t.onCacheKey||(e=>e))(e),r=ii[n];if(r)return r;let{code:a,detectError:i}=is(e,t),o=Function(`return ${a}`)();return i?o:ii[n]=o}},g=function(e,t){if(!af(e))return null;let n=aW.get(t);if(!n&&(n=function(e){let t,n,r,a,i,o,s,l=[],u=-1,c=0,d=0,h=[];for(h[0]=()=>{void 0===n?n=r:n+=r},h[1]=()=>{void 0!==n&&(l.push(n),n=void 0)},h[2]=()=>{h[0](),d++},h[3]=()=>{if(d>0)d--,c=4,h[0]();else{var e;let t,r;if(d=0,void 0===n||!1===(r=(e=n).trim(),n=!("0"===e.charAt(0)&&isNaN(parseInt(e)))&&(aV.test(r)?(t=r.charCodeAt(0))===r.charCodeAt(r.length-1)&&(34===t||39===t)?r.slice(1,-1):r:"*"+r)))return!1;h[1]()}};null!==c;)if(!("\\"===(t=e[++u])&&function(){let t=e[u+1];if(5===c&&"'"===t||6===c&&'"'===t)return u++,r="\\"+t,h[0](),!0}())){if(a=function(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:break;case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}(t),8===(i=(s=aU[c])[a]||s.l||8)||(c=i[0],void 0!==i[1]&&(o=h[i[1]])&&(r=t,!1===o())))return;if(7===c)return l}}(t))&&aW.set(t,n),!n)return null;let r=n.length,a=e,i=0;for(;i<r;){let e=a[n[i]];if(void 0===e||ad(a))return null;a=e,i++}return a},y=a5,__INTLIFY_PROD_DEVTOOLS__){let e=ao();e.__INTLIFY__=!0,aG=e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__}let i4=function(e={},t){let n=__VUE_I18N_LEGACY_API__&&ap(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=!ap(e.globalInjection)||e.globalInjection,a=!__VUE_I18N_LEGACY_API__||!n||!!e.allowComposition,i=new Map,[o,s]=function(e,t,n){let r=new ed(void 0);{let n=__VUE_I18N_LEGACY_API__&&t?r.run(()=>iK(e)):r.run(()=>i$(e));if(null==n)throw iP(iO.UNEXPECTED_ERROR);return[r,n]}}(e,n),l=an("");{let e={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return a},async install(t,...a){var i,o;let u;if(t.__VUE_I18N_SYMBOL__=l,t.provide(t.__VUE_I18N_SYMBOL__,e),ag(a[0])){let t=a[0];e.__composerExtend=t.__composerExtend,e.__vueI18nExtend=t.__vueI18nExtend}let c=null;!n&&r&&(o=e.global,u=Object.create(null),i5.forEach(e=>{let t=Object.getOwnPropertyDescriptor(o,e);if(!t)throw iP(iO.UNEXPECTED_ERROR);Object.defineProperty(u,e,tu(t.value)?{get:()=>t.value.value,set(e){t.value.value=e}}:{get:()=>t.get&&t.get()})}),t.config.globalProperties.$i18n=u,i3.forEach(e=>{let n=Object.getOwnPropertyDescriptor(o,e);if(!n||!n.value)throw iP(iO.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${e}`,n)}),c=()=>{delete t.config.globalProperties.$i18n,i3.forEach(e=>{delete t.config.globalProperties[`$${e}`]})}),__VUE_I18N_FULL_INSTALL__&&function(e,t,...n){let r,a=ag(n[0])?n[0]:{},i=!!a.useI18nComponentName;(!ap(a.globalInstall)||a.globalInstall)&&([!i?iG.name:"i18n","I18nT"].forEach(t=>e.component(t,iG)),[iX.name,"I18nN"].forEach(t=>e.component(t,iX)),[iJ.name,"I18nD"].forEach(t=>e.component(t,iJ))),e.directive("t",(r=e=>{let{instance:n,modifiers:r,value:a}=e;if(!n||!n.$)throw iP(iO.UNEXPECTED_ERROR);let i=function(e,t){if("composition"===e.mode)return e.__getInstance(t)||e.global;{let n=e.__getInstance(t);return null!=n?n.__composer:e.global.__composer}}(t,n.$),o=iZ(a);return[Reflect.apply(i.t,i,[...iQ(o)]),i]},{created:(e,n)=>{let[a,i]=r(n);at&&t.global===i&&(e.__i18nWatcher=n$(i.locale,()=>{n.instance&&n.instance.$forceUpdate()},void 0)),e.__composer=i,e.textContent=a},unmounted:e=>{at&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},beforeUpdate:(e,{value:t})=>{if(e.__composer){let n=e.__composer,r=iZ(t);e.textContent=Reflect.apply(n.t,n,[...iQ(r)])}},getSSRProps:e=>{let[t]=r(e);return{textContent:t}}}))}(t,e,...a),__VUE_I18N_LEGACY_API__&&n&&t.mixin((i=s.__composer,{beforeCreate(){let t=rb();if(!t)throw iP(iO.UNEXPECTED_ERROR);let n=this.$options;if(n.i18n){let t=n.i18n;if(n.__i18n&&(t.__i18n=n.__i18n),t.__root=i,this===this.$root)this.$i18n=i0(s,t);else{t.__injectWithOption=!0,t.__extender=e.__vueI18nExtend,this.$i18n=iK(t);let n=this.$i18n;n.__extender&&(n.__disposer=n.__extender(this.$i18n))}}else if(n.__i18n)if(this===this.$root)this.$i18n=i0(s,n);else{this.$i18n=iK({__i18n:n.__i18n,__injectWithOption:!0,__extender:e.__vueI18nExtend,__root:i});let t=this.$i18n;t.__extender&&(t.__disposer=t.__extender(this.$i18n))}else this.$i18n=s;n.__i18nGlobal&&iB(i,n,n),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e),e.__setInstance(t,this.$i18n)},mounted(){},unmounted(){let t=rb();if(!t)throw iP(iO.UNEXPECTED_ERROR);let n=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__disposer&&(n.__disposer(),delete n.__disposer,delete n.__extender),e.__deleteInstance(t),delete this.$i18n}}));let d=t.unmount;t.unmount=()=>{c&&c(),e.dispose(),d()}},get global(){return s},dispose(){o.stop()},__instances:i,__getInstance:function(e){return i.get(e)||null},__setInstance:function(e,t){i.set(e,t)},__deleteInstance:function(e){i.delete(e)}};return e}}({locale:"en",legacy:!1,globalInjection:!1,messages:{zh:{:"",:"",:"",:"","1-":"","2-":"","3-":"AI ...","4-":" ...","5-":"","1-":"","1-":"",:" {0} ",:"{0}","-":"","-":"","-":"","-":"","-":"","-":"","-":"","-":"","-":"","-":"","-":"","-":"",:"",:"",:"",:"",:"",:"15000x15000px 60MB, ",:"",:"",more:""},en:{:":",:"Photo",:"Text",:"Background color","1-":"Choose photo source","2-":"Crop","3-":"Magic happening...","4-":"Magic happening...","5-":"Crop","1-":"Add your text","1-":"Choose background color",:"Replace according to the prompt diagram. {0} pictures are needed.","-":"My computer","-":"My device","-":"Take a photo","-":"Choose form online services","-":"Recents","-":"Reset","-":"Next","-":"Add to cart","-":"Default background color","-":"Text","-":"Clear","-":"Preview",:"Size",:"Color",:"Required",:"Only English letters, numbers are supported.",:"The crop size is incorrect. Please adjust it or replace the image.",:"The photo is larger than 15000x15000px and 60MB, please choose a smaller photo or resize the photo.",:"Sorry, the browser can't process this photo, please upload another one.",:"Font",more:"More"},ja:{:"",:"",:"",:"","1-":"","2-":"","3-":" ...","4-":" ...","5-":"","1-":"","1-":"",:"{0} ",:"{0}","-":" ","-":" ","-":"","-":"","-":"","-":"","-":"","-":"","-":"","-":"","-":"","-":"",:"",:"",:"",:"",:"",:" 15000x15000  60 MB ",:"",:"",more:""},af:{:":",:"Foto",:"Teks",:"Agtergrondkleur","1-":"Kies Foto Bron","2-":"Sny","3-":"Tover gebeur...","4-":"Tover gebeur...","5-":"Sny","1-":"Voeg jou teks by","1-":"Kies agtergrondkleur",:"{0} Fotos benodig.",:"Vervang volgens die aanwysingsdiagram. Daar word {0} prente benodig.","-":"My Rekenaar","-":"My Toestel","-":"Neem 'n foto","-":"Kies uit online diensten","-":"Onlangs Gebruik","-":"Herstel","-":"Volgende","-":"Voeg by mandjie","-":"Standaard Agtergrondkleur","-":"Teks","-":"Skoon","-":"Voorskou",:"Grootte",:"Kleur",:"verpligt",:"Slegs Engelse letters en syfers word ondersteun.",:"Die grootte van die sny is verkeerd. Pas dit aan of vervang die prent.",:"Die foto is groter as 15000x15000px en 60MB, kies asseblief 'n kleiner foto of verklein die foto.",:"Jammer, die webblaaier kan nie hierdie foto verwerk nie. Laai asseblief 'n ander foto op.",:"Font",more:"Meer"},de:{:":",:"Foto",:"Text",:"Hintergrundfarbe","1-":"Fotoquelle ausw\xe4hlen","2-":"Zuschneiden","3-":"Magie geschieht...","4-":"Magie geschieht...","5-":"Zuschneiden","1-":"F\xfcge deinen Text hinzu","1-":"Hintergrundfarbe w\xe4hlen",:"{0} Fotos ben\xf6tigt.",:"Ersetzen Sie gem\xe4\xdf dem Hinweisschema. {0} Bilder werden ben\xf6tigt.","-":"Mein Computer","-":"Mein Ger\xe4t","-":"Foto aufnehmen","-":"W\xe4hlen Sie aus Online-Diensten","-":"Zuletzt verwendet","-":"Zur\xfccksetzen","-":"Weiter","-":"In den Warenkorb legen","-":"Standard-Hintergrundfarbe","-":"Text","-":"Leeren","-":"Vorschau",:"Gr\xf6\xdfe",:"Farbe",:"erforderlich",:"Nur englische Buchstaben und Zahlen sind erlaubt.",:"Die Gr\xf6\xdfe des Zuschnitts ist falsch. Bitte passen Sie ihn an oder ersetzen Sie das Bild.",:"Das Foto ist gr\xf6\xdfer als 15000x15000px und 60MB. Bitte w\xe4hle ein kleineres Foto oder \xe4ndere die Gr\xf6\xdfe des Fotos.",:"Entschuldigung, der Browser kann dieses Foto nicht verarbeiten. Bitte lade ein anderes hoch.",:"Schriftart",more:"Mehr"},es:{:":",:"Foto",:"Texto",:"Color de fondo","1-":"Seleccionar origen de la foto","2-":"Recortar","3-":"Magia en progreso...","4-":"Magia en progreso...","5-":"Recortar","1-":"Agregar tu texto","1-":"Seleccionar color de fondo",:"Se necesitan {0} fotos.",:"Reemplace seg\xfan el diagrama de indicaci\xf3n. Se necesitan {0} im\xe1genes.","-":"Mi computadora","-":"Mi dispositivo","-":"Tomar una foto","-":"Elija entre servicios en l\xednea","-":"Recientes","-":"Restablecer","-":"Siguiente","-":"Agregar al carrito","-":"Color de fondo predeterminado","-":"Texto","-":"Limpiar","-":"Vista previa",:"Tama\xf1o",:"Color",:"requerido",:"Solo se admiten letras y n\xfameros en ingl\xe9s.",:"El tama\xf1o del recorte es incorrecto. Por favor, aj\xfastalo o reemplaza la imagen.",:"La foto es m\xe1s grande que 15000x15000px y 60MB, por favor elige una foto m\xe1s peque\xf1a o redimensiona la foto.",:"Lo siento, el navegador no puede procesar esta foto, por favor carga otra.",:"Fuente",more:"M\xe1s"},fr:{:":",:"Photo",:"Text",:"Couleur de fond","1-":"Choisir la source de la photo","2-":"Recadrer","3-":"Magie en cours...","4-":"Magie en cours...","5-":"Recadrer","1-":"Ajouter votre texte","1-":"Choisir la couleur de fond",:"Besoin de {0} photos.",:"Remplacez selon le sch\xe9ma d'indication. {0} images sont n\xe9cessaires.","-":"Mon ordinateur","-":"Mon appareil","-":"Prendre une photo","-":"Choisissez parmi les services en ligne","-":"R\xe9cents","-":"R\xe9initialiser","-":"Suivant","-":"Ajouter au panier","-":"Couleur de fond par d\xe9faut","-":"Texte","-":"Effacer","-":"Aper\xe7u",:"Taille",:"Couleur",:"requis",:"Seuls les lettres et les chiffres anglais sont pris en charge.",:"La taille du recadrage est incorrecte. Veuillez l'ajuster ou remplacer l'image.",:"La photo est plus grande que 15000x15000px et 60Mo, veuillez choisir une photo plus petite ou redimensionner la photo.",:"D\xe9sol\xe9, le navigateur ne peut pas traiter cette photo, veuillez en t\xe9l\xe9charger une autre.",:"Police",more:"Plus"},it:{:":",:"Foto",:"Testo",:"Colore di sfondo","1-":"Scegli la fonte della foto","2-":"Ritaglia","3-":"Magia in corso...","4-":"Magia in corso...","5-":"Ritaglia","1-":"Aggiungi il tuo testo","1-":"Scegli il colore di sfondo",:"Servono {0} foto.",:"Sostituisci secondo il diagramma di indicazione. Sono necessarie {0} immagini.","-":"Il mio computer","-":"Il mio dispositivo","-":"Scatta una foto","-":"Scegli tra i servizi online","-":"Recenti","-":"Ripristina","-":"Avanti","-":"Aggiungi al carrello","-":"Colore di sfondo predefinito","-":"Testo","-":"Cancella","-":"Anteprima",:"Taglia",:"Colore",:"obbligatorio",:"Sono supportate solo lettere e numeri inglesi.",:"La dimensione del ritaglio \xe8 errata. Si prega di regolarla o sostituire l'immagine.",:"La foto \xe8 pi\xf9 grande di 15000x15000px e 60MB, per favore scegli una foto pi\xf9 piccola o ridimensionala.",:"Spiacente, il browser non pu\xf2 elaborare questa foto, per favore carica un'altra.",:"Font",more:"Pi\xf9"},ru:{:":",:"",:"",:" ","1-":"  ","2-":"","3-":" ...","4-":" ...","5-":"","1-":"  ","1-":"  ",:" {0} .",:"     .  {0} .","-":" ","-":" ","-":" ","-":"  -","-":"","-":"","-":"","-":"  ","-":"   ","-":"","-":"","-":"",:"",:"",:"",:"     .",:"  . ,     .",:"   15000x15000px  60MB, ,       .",:",      , ,  .",:"",more:""}}}),i6="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,i8=Object.keys,i7=Array.isArray;function i9(e,t){return"object"!=typeof t||i8(t).forEach(function(n){e[n]=t[n]}),e}"undefined"==typeof Promise||i6.Promise||(i6.Promise=Promise);let oe=Object.getPrototypeOf,ot={}.hasOwnProperty;function on(e,t){return ot.call(e,t)}function or(e,t){"function"==typeof t&&(t=t(oe(e))),("undefined"==typeof Reflect?i8:Reflect.ownKeys)(t).forEach(n=>{oi(e,n,t[n])})}let oa=Object.defineProperty;function oi(e,t,n,r){oa(e,t,i9(n&&on(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function oo(e){return{from:function(t){return e.prototype=Object.create(t.prototype),oi(e.prototype,"constructor",e),{extend:or.bind(null,e.prototype)}}}}let os=Object.getOwnPropertyDescriptor;function ol(e,t){let n;return os(e,t)||(n=oe(e))&&ol(n,t)}let ou=[].slice;function oc(e,t,n){return ou.call(e,t,n)}function od(e,t){return t(e)}function oh(e){if(!e)throw Error("Assertion Failed")}function op(e){i6.setImmediate?setImmediate(e):setTimeout(e,0)}function of(e,t){return e.reduce((e,n,r)=>{var a=t(n,r);return a&&(e[a[0]]=a[1]),e},{})}function om(e,t){if("string"==typeof t&&on(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,a=t.length;r<a;++r){var i=om(e,t[r]);n.push(i)}return n}var o=t.indexOf(".");if(-1!==o){var s=e[t.substr(0,o)];return null==s?void 0:om(s,t.substr(o+1))}}function og(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){oh("string"!=typeof n&&"length"in n);for(var r=0,a=t.length;r<a;++r)og(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var o=t.substr(0,i),s=t.substr(i+1);if(""===s)void 0===n?i7(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var l=e[o];l&&on(e,o)||(l=e[o]={}),og(l,s,n)}}else void 0===n?i7(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function ov(e){var t={};for(var n in e)on(e,n)&&(t[n]=e[n]);return t}let oy=[].concat;function o_(e){return oy.apply([],e)}let ob="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(o_([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>i6[e]),oA=ob.map(e=>i6[e]);of(ob,e=>[e,!0]);let ow=null;function ox(e){ow="undefined"!=typeof WeakMap&&new WeakMap;let t=function e(t){if(!t||"object"!=typeof t)return t;let n=ow&&ow.get(t);if(n)return n;if(i7(t)){n=[],ow&&ow.set(t,n);for(var r=0,a=t.length;r<a;++r)n.push(e(t[r]))}else if(oA.indexOf(t.constructor)>=0)n=t;else{let r=oe(t);for(var i in n=r===Object.prototype?{}:Object.create(r),ow&&ow.set(t,n),t)on(t,i)&&(n[i]=e(t[i]))}return n}(e);return ow=null,t}let{toString:oC}={};function oS(e){return oC.call(e).slice(8,-1)}let ok="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",oE="symbol"==typeof ok?function(e){var t;return null!=e&&(t=e[ok])&&t.apply(e)}:function(){return null},oT={};function oO(e){var t,n,r,a;if(1==arguments.length){if(i7(e))return e.slice();if(this===oT&&"string"==typeof e)return[e];if(a=oE(e)){for(n=[];!(r=a.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=Array(t);t--;)n[t]=arguments[t];return n}let oP="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var oI="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href),oM=()=>!0;let oL=!Error("").stack;function oD(){if(oL)try{throw oD.arguments,Error()}catch(e){return e}return Error()}function oR(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(oM).map(e=>"\n"+e).join("")):""}var oN=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],oj=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(oN),oF={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function oB(e,t){this._e=oD(),this.name=e,this.message=t}function oU(e,t){return e+". Errors: "+Object.keys(t).map(e=>t[e].toString()).filter((e,t,n)=>n.indexOf(e)===t).join("\n")}function oV(e,t,n,r){this._e=oD(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=oU(e,t)}function oW(e,t){this._e=oD(),this.name="BulkError",this.failures=Object.keys(t).map(e=>t[e]),this.failuresByPos=t,this.message=oU(e,t)}oo(oB).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+oR(this._e,2))}},toString:function(){return this.name+": "+this.message}}),oo(oV).from(oB),oo(oW).from(oB);var oz=oj.reduce((e,t)=>(e[t]=t+"Error",e),{}),oH=oj.reduce((e,t)=>{var n=t+"Error";function r(e,r){this._e=oD(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=oF[t]||n,this.inner=null)}return oo(r).from(oB),e[t]=r,e},{});oH.Syntax=SyntaxError,oH.Type=TypeError,oH.Range=RangeError;var o$=oN.reduce((e,t)=>(e[t+"Error"]=oH[t],e),{}),oK=oj.reduce((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=oH[t]),e),{});function oq(){}function oG(e){return e}function oY(e,t){return null==e||e===oG?t:function(n){return t(e(n))}}function oX(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function oJ(e,t){return e===oq?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?oX(r,this.onsuccess):r),a&&(this.onerror=this.onerror?oX(a,this.onerror):a),void 0!==i?i:n}}function oZ(e,t){return e===oq?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?oX(n,this.onsuccess):n),r&&(this.onerror=this.onerror?oX(r,this.onerror):r)}}function oQ(e,t){return e===oq?t:function(n){var r=e.apply(this,arguments);i9(n,r);var a=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?oX(a,this.onsuccess):a),i&&(this.onerror=this.onerror?oX(i,this.onerror):i),void 0===r?void 0===o?void 0:o:i9(r,o)}}function o0(e,t){return e===oq?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function o1(e,t){return e===oq?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,a=arguments.length,i=Array(a);a--;)i[a]=arguments[a];return n.then(function(){return t.apply(r,i)})}return t.apply(this,arguments)}}oK.ModifyError=oV,oK.DexieError=oB,oK.BulkError=oW;var o2={};let[o5,o3,o4]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,oe(e),e];let t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,oe(t),e]})(),o6=o3&&o3.then,o8=o5&&o5.constructor,o7=!!o4;var o9=!1,se=o4?()=>{o4.then(sA)}:i6.setImmediate?setImmediate.bind(null,sA):i6.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{sA(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(sA,0)},st=function(e,t){sc.push([e,t]),sr&&(se(),sr=!1)},sn=!0,sr=!0,sa=[],si=[],so=null,ss=oG,sl={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:s$,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{s$(e[0],e[1])}catch(e){}})}},su=sl,sc=[],sd=0,sh=[];function sp(e){if("object"!=typeof this)throw TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=oq,this._lib=!1;var t=this._PSD=su;if(oI&&(this._stackHolder=oD(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==o2)throw TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&sg(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n(n=>{if(null===t._state){if(n===t)throw TypeError("A promise cannot be resolved with itself.");var r=t._lib&&sw();n&&"function"==typeof n.then?e(t,(e,t)=>{n instanceof sp?n._then(e,t):n.then(e,t)}):(t._state=!0,t._value=n,sv(t)),r&&sx()}},sg.bind(null,t))}catch(e){sg(t,e)}}(this,e)}let sf={get:function(){var e=su,t=sI;function n(n,r){var a=!e.global&&(e!==su||t!==sI);let i=a&&!sR();var o=new sp((t,o)=>{sy(this,new sm(sW(n,e,a,i),sW(r,e,a,i),t,o,e))});return oI&&sb(o,this),o}return n.prototype=o2,n},set:function(e){oi(this,"then",e&&e.prototype===o2?sf:{get:function(){return e},set:sf.set})}};function sm(e,t,n,r,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=a}function sg(e,t){if(si.push(t),null===e._state){var n=e._lib&&sw();t=ss(t),e._state=!1,e._value=t,oI&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}(()=>{var n=ol(t,"stack");t._promise=e,oi(t,"stack",{get:()=>o9?n&&(n.get?n.get.apply(t):n.value):e.stack})}),sa.some(t=>t._value===e._value)||sa.push(e),sv(e),n&&sx()}}function sv(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)sy(e,t[n]);var a=e._PSD;--a.ref||a.finalize(),0===sd&&(++sd,st(()=>{0==--sd&&sC()},[]))}function sy(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++sd,st(s_,[n,e,t])}else e._listeners.push(t)}function s_(e,t,n){try{so=t;var r,a=t._value;t._state?r=e(a):(si.length&&(si=[]),r=e(a),-1===si.indexOf(a)&&function(e){for(var t=sa.length;t;)if(sa[--t]._value===e._value)return void sa.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{so=null,0==--sd&&sC(),--n.psd.ref||n.psd.finalize()}}function sb(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function sA(){sw()&&sx()}function sw(){var e=sn;return sn=!1,sr=!1,e}function sx(){var e,t,n;do for(;sc.length>0;)for(e=sc,sc=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(sc.length>0);sn=!0,sr=!0}function sC(){var e=sa;sa=[],e.forEach(e=>{e._PSD.onunhandled.call(null,e._value,e)});for(var t=sh.slice(0),n=t.length;n;)t[--n]()}function sS(e){return new sp(o2,!1,e)}function sk(e,t){var n=su;return function(){var r=sw(),a=su;try{return sB(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{sB(a,!1),r&&sx()}}}or(sp.prototype,{then:sf,_then:function(e,t){sy(this,new sm(null,null,e,t,su))},catch:function(e){if(1==arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,e=>e instanceof t?n(e):sS(e)):this.then(null,e=>e&&e.name===t?n(e):sS(e))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),sS(t)))},stack:{get:function(){if(this._stack)return this._stack;try{o9=!0;var e=(function e(t,n,r){if(n.length===r)return n;var a="";if(!1===t._state){var i,o,s=t._value;null!=s?(i=s.name||"Error",o=s.message||s,a=oR(s,0)):(i=s,o=""),n.push(i+(o?": "+o:"")+a)}return oI&&((a=oR(t._stackHolder,2))&&-1===n.indexOf(a)&&n.push(a),t._prev&&e(t._prev,n,r)),n})(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{o9=!1}}},timeout:function(e,t){return e<1/0?new sp((n,r)=>{var a=setTimeout(()=>r(new oH.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,a))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&oi(sp.prototype,Symbol.toStringTag,"Dexie.Promise"),sl.env=sU(),or(sp,{all:function(){var e=oO.apply(null,arguments).map(sN);return new sp(function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((a,i)=>sp.resolve(a).then(n=>{e[i]=n,--r||t(e)},n))})},resolve:e=>{if(e instanceof sp)return e;if(e&&"function"==typeof e.then)return new sp((t,n)=>{e.then(t,n)});var t=new sp(o2,!0,e);return sb(t,so),t},reject:sS,race:function(){var e=oO.apply(null,arguments).map(sN);return new sp((t,n)=>{e.map(e=>sp.resolve(e).then(t,n))})},PSD:{get:()=>su,set:e=>su=e},totalEchoes:{get:()=>sI},newPSD:sL,usePSD:sV,scheduler:{get:()=>st,set:e=>{st=e}},rejectionMapper:{get:()=>ss,set:e=>{ss=e}},follow:(e,t)=>new sp((n,r)=>sL((t,n)=>{var r=su;r.unhandleds=[],r.onunhandled=n,r.finalize=oX(function(){var e;e=()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])},sh.push(function t(){e(),sh.splice(sh.indexOf(t),1)}),++sd,st(()=>{0==--sd&&sC()},[])},r.finalize),e()},t,n,r))}),o8&&(o8.allSettled&&oi(sp,"allSettled",function(){let e=oO.apply(null,arguments).map(sN);return new sp(t=>{0===e.length&&t([]);let n=e.length,r=Array(n);e.forEach((e,a)=>sp.resolve(e).then(e=>r[a]={status:"fulfilled",value:e},e=>r[a]={status:"rejected",reason:e}).then(()=>--n||t(r)))})}),o8.any&&"undefined"!=typeof AggregateError&&oi(sp,"any",function(){let e=oO.apply(null,arguments).map(sN);return new sp((t,n)=>{0===e.length&&n(AggregateError([]));let r=e.length,a=Array(r);e.forEach((e,i)=>sp.resolve(e).then(e=>t(e),e=>{a[i]=e,--r||n(AggregateError(a))}))})}));let sE={awaits:0,echoes:0,id:0};var sT=0,sO=[],sP=0,sI=0,sM=0;function sL(e,t,n,r){var a=su,i=Object.create(a);i.parent=a,i.ref=0,i.global=!1,i.id=++sM;var o=sl.env;i.env=o7?{Promise:sp,PromiseProp:{value:sp,configurable:!0,writable:!0},all:sp.all,race:sp.race,allSettled:sp.allSettled,any:sp.any,resolve:sp.resolve,reject:sp.reject,nthen:sz(o.nthen,i),gthen:sz(o.gthen,i)}:{},t&&i9(i,t),++a.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=sV(i,e,n,r);return 0===i.ref&&i.finalize(),s}function sD(){return sE.id||(sE.id=++sT),++sE.awaits,sE.echoes+=100,sE.id}function sR(){return!!sE.awaits&&(0==--sE.awaits&&(sE.id=0),sE.echoes=100*sE.awaits,!0)}function sN(e){return sE.echoes&&e&&e.constructor===o8?(sD(),e.then(e=>(sR(),e),e=>(sR(),sK(e)))):e}function sj(e){++sI,sE.echoes&&0!=--sE.echoes||(sE.echoes=sE.id=0),sO.push(su),sB(e,!0)}function sF(){var e=sO[sO.length-1];sO.pop(),sB(e,!1)}function sB(e,t){var n,r=su;if((t?!sE.echoes||sP++&&e===su:!sP||--sP&&e===su)||(n=t?sj.bind(null,e):sF,o6.call(o5,n)),e!==su&&(su=e,r===sl&&(sl.env=sU()),o7)){var a=sl.env.Promise,i=e.env;o3.then=i.nthen,a.prototype.then=i.gthen,(r.global||e.global)&&(Object.defineProperty(i6,"Promise",i.PromiseProp),a.all=i.all,a.race=i.race,a.resolve=i.resolve,a.reject=i.reject,i.allSettled&&(a.allSettled=i.allSettled),i.any&&(a.any=i.any))}}function sU(){var e=i6.Promise;return o7?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(i6,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:o3.then,gthen:e.prototype.then}:{}}function sV(e,t,n,r,a){var i=su;try{return sB(e,!0),t(n,r,a)}finally{sB(i,!1)}}function sW(e,t,n,r){return"function"!=typeof e?e:function(){var a,i=su;n&&sD(),sB(t,!0);try{return e.apply(this,arguments)}finally{sB(i,!1),r&&(a=sR,o6.call(o5,a))}}}function sz(e,t){return function(n,r){return e.call(this,sW(n,t),sW(r,t))}}-1===(""+o6).indexOf("[native code]")&&(sD=sR=oq);let sH="unhandledrejection";function s$(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,a={promise:t,reason:e};if(i6.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(sH,!0,!0),i9(r,a)):i6.CustomEvent&&i9(r=new CustomEvent(sH,{detail:a}),a),r&&i6.dispatchEvent&&(dispatchEvent(r),!i6.PromiseRejectionEvent&&i6.onunhandledrejection))try{i6.onunhandledrejection(r)}catch(e){}oI&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}var sK=sp.reject;let sq="3.2.7",sG=String.fromCharCode(65535),sY=-1/0,sX="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",sJ="String expected.",sZ=[],sQ="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),s0=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),s1="__dbnames",s2="readonly",s5="readwrite";function s3(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}let s4={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function s6(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=ox(t))[e],t)}class s8{_trans(e,t,n){let r=this._tx||su.trans,a=this.name;function i(e,n,r){if(!r.schema[a])throw new oH.NotFound("Table "+a+" not part of transaction");return t(r.idbtrans,r)}let o=sw();try{return r&&r.db===this.db?r===su.trans?r._promise(e,i,n):sL(()=>r._promise(e,i,n),{trans:r,transless:su.transless||su}):function e(t,n,r,a){if(t.idbdb&&(t._state.openComplete||su.letThrough||t._vip)){var i=t._createTransaction(n,r,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===oz.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>e(t,n,r,a))):sK(i)}return i._promise(n,(e,t)=>sL(()=>(su.trans=i,a(e,t,i)))).then(e=>i._completion.then(()=>e))}if(t._state.openComplete)return sK(new oH.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return sK(new oH.DatabaseClosed);t.open().catch(oq)}return t._state.dbReadyPromise.then(()=>e(t,n,r,a))}(this.db,e,[this.name],i)}finally{o&&sx()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",t=>this.core.get({trans:t,key:e}).then(e=>this.hook.reading.fire(e))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(i7(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);let t=i8(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);let n=this.schema.indexes.concat(this.schema.primKey).filter(e=>{if(e.compound&&t.every(t=>e.keyPath.indexOf(t)>=0)){for(let n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1}).sort((e,t)=>e.keyPath.length-t.keyPath.length)[0];if(n&&this.db._maxKey!==sG){let r=n.keyPath.slice(0,t.length);return this.where(r).equals(r.map(t=>e[t]))}!n&&oI&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);let{idxByName:r}=this.schema,a=this.db._deps.indexedDB;function i(e,t){try{return 0===a.cmp(e,t)}catch(e){return!1}}let[o,s]=t.reduce(([t,n],a)=>{let o=r[a],s=e[a];return[t||o,t||!o?s3(n,o&&o.multi?e=>{let t=om(e,a);return i7(t)&&t.some(e=>i(s,e))}:e=>i(s,om(e,a))):n]},[null,null]);return o?this.where(o.name).equals(e[o.keyPath]).filter(s):n?this.filter(s):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,i7(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;let t=t=>{if(!t)return t;let n=Object.create(e.prototype);for(var r in t)if(on(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass(function(e){i9(this,e)})}add(e,t){let{auto:n,keyPath:r}=this.schema.primKey,a=e;return r&&n&&(a=s6(r)(e)),this._trans("readwrite",e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})).then(e=>e.numFailures?sp.reject(e.failures[0]):e.lastResult).then(t=>{if(r)try{og(e,r,t)}catch(e){}return t})}update(e,t){if("object"!=typeof e||i7(e))return this.where(":id").equals(e).modify(t);{let n=om(e,this.schema.primKey.keyPath);if(void 0===n)return sK(new oH.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?i8(t).forEach(n=>{og(e,n,t[n])}):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){let{auto:n,keyPath:r}=this.schema.primKey,a=e;return r&&n&&(a=s6(r)(e)),this._trans("readwrite",e=>this.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})).then(e=>e.numFailures?sp.reject(e.failures[0]):e.lastResult).then(t=>{if(r)try{og(e,r,t)}catch(e){}return t})}delete(e){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"delete",keys:[e]})).then(e=>e.numFailures?sp.reject(e.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:s4})).then(e=>e.numFailures?sp.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",t=>this.core.getMany({keys:e,trans:t}).then(e=>e.map(e=>this.hook.reading.fire(e))))}bulkAdd(e,t,n){let r=Array.isArray(t)?t:void 0,a=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",t=>{let{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new oH.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new oH.InvalidArgument("Arguments objects and keys must have the same length");let o=e.length,s=i&&n?e.map(s6(i)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:s,wantResults:a}).then(({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return a?t:n;throw new oW(`${this.name}.bulkAdd(): ${e} of ${o} operations failed`,r)})})}bulkPut(e,t,n){let r=Array.isArray(t)?t:void 0,a=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",t=>{let{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new oH.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new oH.InvalidArgument("Arguments objects and keys must have the same length");let o=e.length,s=i&&n?e.map(s6(i)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:s,wantResults:a}).then(({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return a?t:n;throw new oW(`${this.name}.bulkPut(): ${e} of ${o} operations failed`,r)})})}bulkDelete(e){let t=e.length;return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"delete",keys:e})).then(({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new oW(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)})}}function s7(e){var t={},n=function(n,r){if(r){for(var a=arguments.length,i=Array(a-1);--a;)i[a-1]=arguments[a];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=i;for(var r=1,a=arguments.length;r<a;++r)i(arguments[r]);return n;function i(e,r,a){if("object"!=typeof e){r||(r=o0),a||(a=oq);var o={subscribers:[],fire:a,subscribe:function(e){-1===o.subscribers.indexOf(e)&&(o.subscribers.push(e),o.fire=r(o.fire,e))},unsubscribe:function(e){o.subscribers=o.subscribers.filter(function(t){return t!==e}),o.fire=o.subscribers.reduce(r,a)}};return t[e]=n[e]=o,o}i8(e).forEach(function(t){var n=e[t];if(i7(n))i(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new oH.InvalidArgument("Invalid event config");var r=i(t,oG,function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach(function(e){op(function(){e.apply(null,t)})})})}})}}function s9(e,t){return oo(t).from({prototype:e}),t}function le(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function lt(e,t){e.filter=s3(e.filter,t)}function ln(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>s3(r(),t()):t,e.justLimit=n&&!r}function lr(e,t){if(e.isPrimKey)return t.primaryKey;let n=t.getIndexByKeyPath(e.index);if(!n)throw new oH.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function la(e,t,n){let r=lr(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function li(e,t,n,r){let a=e.replayFilter?s3(e.filter,e.replayFilter()):e.filter;if(e.or){let i={},o=(e,n,r)=>{if(!a||a(n,r,e=>n.stop(e),e=>n.fail(e))){var o=n.primaryKey,s=""+o;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(o)),on(i,s)||(i[s]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(o,n),lo(la(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return lo(la(e,r,n),s3(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}function lo(e,t,n,r){var a=sk(r?(e,t,a)=>n(r(e),t,a):n);return e.then(e=>{if(e)return e.start(()=>{var n=()=>e.continue();t&&!t(e,e=>n=e,t=>{e.stop(t),n=oq},t=>{e.fail(t),n=oq})||a(e.value,e,e=>n=e),n()})})}function ls(e,t){try{let n=ll(e),r=ll(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){let n=e.length,r=t.length,a=n<r?n:r;for(let n=0;n<a;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(lu(e),lu(t));case"Array":return function(e,t){let n=e.length,r=t.length,a=n<r?n:r;for(let n=0;n<a;++n){let r=ls(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function ll(e){let t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";let n=oS(e);return"ArrayBuffer"===n?"binary":n}function lu(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class lc{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,sK.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,sK.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=s3(t.algorithm,e)}_iterate(e,t){return li(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&i9(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read(n=>li(t,e,n,t.table.core))}count(e){return this._read(e=>{let t=this._ctx,n=t.table.core;if(le(t,!0))return n.count({trans:e,query:{index:lr(t,n.schema),range:t.range}}).then(e=>Math.min(e,t.limit));var r=0;return li(t,()=>(++r,!1),e,n).then(()=>r)}).then(e)}sortBy(e,t){let n=e.split(".").reverse(),r=n[0],a=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var o="next"===this._ctx.dir?1:-1;function s(e,t){var n=i(e,a),r=i(t,a);return n<r?-o:n>r?o:0}return this.toArray(function(e){return e.sort(s)}).then(t)}toArray(e){return this._read(e=>{var t=this._ctx;if("next"===t.dir&&le(t,!0)&&t.limit>0){let{valueMapper:n}=t,r=lr(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then(({result:e})=>n?e.map(n):e)}{let n=[];return li(t,e=>n.push(e),e,t.table.core).then(()=>n)}},e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,le(t)?ln(t,()=>{var t=e;return(e,n)=>0===t||(1===t?--t:n(()=>{e.advance(t),t=0}),!1)}):ln(t,()=>{var t=e;return()=>--t<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),ln(this._ctx,()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}},!0),this}until(e,t){return lt(this._ctx,function(n,r,a){return!e(n.value)||(r(a),t)}),this}first(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var t;return lt(this._ctx,function(t){return e(t.value)}),(t=this._ctx).isMatch=s3(t.isMatch,e),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.primaryKey,n)})}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&le(t,!0)&&t.limit>0)return this._read(e=>{var n=lr(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})}).then(({result:e})=>e).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.primaryKey)}).then(function(){return n}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(e){return e[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return lt(this._ctx,function(e){var t=e.primaryKey.toString(),r=on(n,t);return n[t]=!0,!r}),this}modify(e){var t=this._ctx;return this._write(n=>{var r;if("function"==typeof e)r=e;else{var a=i8(e),i=a.length;r=function(t){for(var n=!1,r=0;r<i;++r){var o=a[r],s=e[o];om(t,o)!==s&&(og(t,o,s),n=!0)}return n}}let o=t.table.core,{outbound:s,extractKey:l}=o.schema.primaryKey,u=this.db._options.modifyChunkSize||200,c=[],d=0,h=[],p=(e,t)=>{let{failures:n,numFailures:r}=t;for(let t of(d+=e-r,i8(n)))c.push(n[t])};return this.clone().primaryKeys().then(a=>{let i=c=>{let d=Math.min(u,a.length-c);return o.getMany({trans:n,keys:a.slice(c,c+d),cache:"immutable"}).then(h=>{let f=[],m=[],g=s?[]:null,y=[];for(let e=0;e<d;++e){let t=h[e],n={value:ox(t),primKey:a[c+e]};!1!==r.call(n,n.value,n)&&(null==n.value?y.push(a[c+e]):s||0===ls(l(t),l(n.value))?(m.push(n.value),s&&g.push(a[c+e])):(y.push(a[c+e]),f.push(n.value)))}let _=le(t)&&t.limit===1/0&&("function"!=typeof e||e===ld)&&{index:t.index,range:t.range};return Promise.resolve(f.length>0&&o.mutate({trans:n,type:"add",values:f}).then(e=>{for(let t in e.failures)y.splice(parseInt(t),1);p(f.length,e)})).then(()=>(m.length>0||_&&"object"==typeof e)&&o.mutate({trans:n,type:"put",keys:g,values:m,criteria:_,changeSpec:"function"!=typeof e&&e}).then(e=>p(m.length,e))).then(()=>(y.length>0||_&&e===ld)&&o.mutate({trans:n,type:"delete",keys:y,criteria:_}).then(e=>p(y.length,e))).then(()=>a.length>c+d&&i(c+u))})};return i(0).then(()=>{if(c.length>0)throw new oV("Error modifying one or more objects",c,d,h);return a.length})})})}delete(){var e=this._ctx,t=e.range;return le(e)&&(e.isPrimKey&&!sQ||3===t.type)?this._write(n=>{let{primaryKey:r}=e.table.core.schema;return e.table.core.count({trans:n,query:{index:r,range:t}}).then(r=>e.table.core.mutate({trans:n,type:"deleteRange",range:t}).then(({failures:e,lastResult:t,results:n,numFailures:a})=>{if(a)throw new oV("Could not delete some values",Object.keys(e).map(t=>e[t]),r-a);return r-a}))}):this.modify(ld)}}let ld=(e,t)=>t.value=null;function lh(e,t){return e<t?-1:+(e!==t)}function lp(e,t){return e>t?-1:+(e!==t)}function lf(e,t,n){var r=e instanceof l_?new e.Collection(e):e;return r._ctx.error=n?new n(t):TypeError(t),r}function lm(e){return new e.Collection(e,()=>ly("")).limit(0)}function lg(e,t,n,r){var a,i,o,s,l,u,c,d=n.length;if(!n.every(e=>"string"==typeof e))return lf(e,sJ);function h(e){a="next"===e?e=>e.toUpperCase():e=>e.toLowerCase(),i="next"===e?e=>e.toLowerCase():e=>e.toUpperCase(),o="next"===e?lh:lp;var t=n.map(function(e){return{lower:i(e),upper:a(e)}}).sort(function(e,t){return o(e.lower,t.lower)});s=t.map(function(e){return e.upper}),l=t.map(function(e){return e.lower}),u=e,c="next"===e?"":r}h("next");var p=new e.Collection(e,()=>lv(s[0],l[d-1]+r));p._ondirectionchange=function(e){h(e)};var f=0;return p._addAlgorithm(function(e,n,r){var a=e.key;if("string"!=typeof a)return!1;var h=i(a);if(t(h,l,f))return!0;for(var p=null,m=f;m<d;++m){var g=function(e,t,n,r,a,i){for(var o=Math.min(e.length,r.length),s=-1,l=0;l<o;++l){var u=t[l];if(u!==r[l])return 0>a(e[l],n[l])?e.substr(0,l)+n[l]+n.substr(l+1):0>a(e[l],r[l])?e.substr(0,l)+r[l]+n.substr(l+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;0>a(e[l],u)&&(s=l)}return o<r.length&&"next"===i?e+n.substr(e.length):o<e.length&&"prev"===i?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}(a,h,s[m],l[m],o,u);null===g&&null===p?f=m+1:(null===p||o(p,g)>0)&&(p=g)}return n(null!==p?function(){e.continue(p+c)}:r),!1}),p}function lv(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function ly(e){return{type:1,lower:e,upper:e}}class l_{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?lm(this):new this.Collection(this,()=>lv(e,t,!n,!r))}catch(e){return lf(this,sX)}}equals(e){return null==e?lf(this,sX):new this.Collection(this,()=>ly(e))}above(e){return null==e?lf(this,sX):new this.Collection(this,()=>lv(e,void 0,!0))}aboveOrEqual(e){return null==e?lf(this,sX):new this.Collection(this,()=>lv(e,void 0,!1))}below(e){return null==e?lf(this,sX):new this.Collection(this,()=>lv(void 0,e,!1,!0))}belowOrEqual(e){return null==e?lf(this,sX):new this.Collection(this,()=>lv(void 0,e))}startsWith(e){return"string"!=typeof e?lf(this,sJ):this.between(e,e+sG,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):lg(this,(e,t)=>0===e.indexOf(t[0]),[e],sG)}equalsIgnoreCase(e){return lg(this,(e,t)=>e===t[0],[e],"")}anyOfIgnoreCase(){var e=oO.apply(oT,arguments);return 0===e.length?lm(this):lg(this,(e,t)=>-1!==t.indexOf(e),e,"")}startsWithAnyOfIgnoreCase(){var e=oO.apply(oT,arguments);return 0===e.length?lm(this):lg(this,(e,t)=>t.some(t=>0===e.indexOf(t)),e,sG)}anyOf(){let e=oO.apply(oT,arguments),t=this._cmp;try{e.sort(t)}catch(e){return lf(this,sX)}if(0===e.length)return lm(this);let n=new this.Collection(this,()=>lv(e[0],e[e.length-1]));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm((n,a,i)=>{let o=n.key;for(;t(o,e[r])>0;)if(++r===e.length)return a(i),!1;return 0===t(o,e[r])||(a(()=>{n.continue(e[r])}),!1)}),n}notEqual(e){return this.inAnyRange([[sY,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){let e=oO.apply(oT,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return lf(this,sX)}let t=e.reduce((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[sY,t]],null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){let n=this._cmp,r=this._ascending,a=this._descending,i=this._min,o=this._max;if(0===e.length)return lm(this);if(!e.every(e=>void 0!==e[0]&&void 0!==e[1]&&0>=r(e[0],e[1])))return lf(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",oH.InvalidArgument);let s=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers,u,c=r;function d(e,t){return c(e[0],t[0])}try{(u=e.reduce(function(e,t){let r=0,a=e.length;for(;r<a;++r){let a=e[r];if(0>n(t[0],a[1])&&n(t[1],a[0])>0){a[0]=i(a[0],t[0]),a[1]=o(a[1],t[1]);break}}return r===a&&e.push(t),e},[])).sort(d)}catch(e){return lf(this,sX)}let h=0,p=l?e=>r(e,u[h][1])>0:e=>r(e,u[h][1])>=0,f=s?e=>a(e,u[h][0])>0:e=>a(e,u[h][0])>=0,m=p,g=new this.Collection(this,()=>lv(u[0][0],u[u.length-1][1],!s,!l));return g._ondirectionchange=e=>{"next"===e?(m=p,c=r):(m=f,c=a),u.sort(d)},g._addAlgorithm((e,t,n)=>{for(var a=e.key;m(a);)if(++h===u.length)return t(n),!1;return!!(!p(a)&&!f(a))||(0===this._cmp(a,u[h][1])||0===this._cmp(a,u[h][0])||t(()=>{c===r?e.continue(u[h][0]):e.continue(u[h][1])}),!1)}),g}startsWithAnyOf(){let e=oO.apply(oT,arguments);return e.every(e=>"string"==typeof e)?0===e.length?lm(this):this.inAnyRange(e.map(e=>[e,e+sG])):lf(this,"startsWithAnyOf() only works with strings")}}function lb(e){return sk(function(t){return lA(t),e(t.target.error),!1})}function lA(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}let lw="storagemutated",lx="x-storagemutated-1",lC=s7(null,lw);class lS{_lock(){return oh(!su.global),++this._reculock,1!==this._reculock||su.global||(su.lockOwnerFor=this),this}_unlock(){if(oh(!su.global),0==--this._reculock)for(su.global||(su.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{sV(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&su.lockOwnerFor!==this}create(e){if(!this.mode)return this;let t=this.db.idbdb,n=this.db._state.dbOpenError;if(oh(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new oH.DatabaseClosed(n);case"MissingAPIError":throw new oH.MissingAPI(n.message,n);default:throw new oH.OpenFailed(n)}if(!this.active)throw new oH.TransactionInactive;return oh(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=sk(t=>{lA(t),this._reject(e.error)}),e.onabort=sk(t=>{lA(t),this.active&&this._reject(new oH.Abort(e.error)),this.active=!1,this.on("abort").fire(t)}),e.oncomplete=sk(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&lC.storagemutated.fire(e.mutatedParts)}),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return sK(new oH.ReadOnly("Transaction is readonly"));if(!this.active)return sK(new oH.TransactionInactive);if(this._locked())return new sp((r,a)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,a)},su])});if(n)return sL(()=>{var e=new sp((e,n)=>{this._lock();let r=t(e,n,this);r&&r.then&&r.then(e,n)});return e.finally(()=>this._unlock()),e._lib=!0,e});var r=new sp((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)});return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();let n=sp.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then(()=>n);else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var a=t._waitingFor;return new sp((e,r)=>{n.then(n=>t._waitingQueue.push(sk(e.bind(null,n))),e=>t._waitingQueue.push(sk(r.bind(null,e)))).finally(()=>{t._waitingFor===a&&(t._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new oH.Abort))}table(e){let t=this._memoizedTables||(this._memoizedTables={});if(on(t,e))return t[e];let n=this.schema[e];if(!n)throw new oH.NotFound("Table "+e+" not part of transaction");let r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function lk(e,t,n,r,a,i,o){return{name:e,keyPath:t,unique:n,multi:r,auto:a,compound:i,src:(n&&!o?"&":"")+(r?"*":"")+(a?"++":"")+lE(t)}}function lE(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function lT(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:of(n,e=>[e.name,e])}}let lO=e=>{try{return e.only([[]]),lO=()=>[[]],[[]]}catch(e){return lO=()=>sG,sG}};function lP(e){return null==e?()=>{}:"string"==typeof e?1===e.split(".").length?t=>t[e]:t=>om(t,e):t=>om(t,e)}function lI(e){return[].slice.call(e)}let lM=0;function lL(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function lD({_novip:e},t){let n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},a){var i;return{dbcore:(i=function(e,t,n){let r;function a(e){if(3===e.type)return null;if(4===e.type)throw Error("Cannot convert never type to IDBKeyRange");let{lower:n,upper:r,lowerOpen:a,upperOpen:i}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!a):t.bound(n,r,!!a,!!i)}let{schema:i,hasGetAll:o}=(r=lI(e.objectStoreNames),{schema:{name:e.name,tables:r.map(e=>n.objectStore(e)).map(e=>{let{keyPath:t,autoIncrement:n}=e,r=i7(t),a=null==t,i={},o={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:a,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:lP(t)},indexes:lI(e.indexNames).map(t=>e.index(t)).map(e=>{let{name:t,unique:n,multiEntry:r,keyPath:a}=e,o={name:t,compound:i7(a),keyPath:a,unique:n,multiEntry:r,extractKey:lP(a)};return i[lL(a)]=o,o}),getIndexByKeyPath:e=>i[lL(e)]};return i[":id"]=o.primaryKey,null!=t&&(i[lL(t)]=o.primaryKey),o})},hasGetAll:r.length>0&&"getAll"in n.objectStore(r[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),s=i.tables.map(e=>{let t;return{name:t=e.name,schema:e,mutate:function({trans:e,type:n,keys:r,values:i,range:o}){return new Promise((s,l)=>{let u;s=sk(s);let c=e.objectStore(t),d=null==c.keyPath,h="put"===n||"add"===n;if(!h&&"delete"!==n&&"deleteRange"!==n)throw Error("Invalid operation type: "+n);let{length:p}=r||i||{length:1};if(r&&i&&r.length!==i.length)throw Error("Given keys array must have same length as given values array.");if(0===p)return s({numFailures:0,failures:{},results:[],lastResult:void 0});let f=[],m=[],g=0,y=e=>{++g,lA(e)};if("deleteRange"===n){if(4===o.type)return s({numFailures:g,failures:m,results:[],lastResult:void 0});3===o.type?f.push(u=c.clear()):f.push(u=c.delete(a(o)))}else{let[e,t]=h?d?[i,r]:[i,null]:[r,null];if(h)for(let r=0;r<p;++r)f.push(u=t&&void 0!==t[r]?c[n](e[r],t[r]):c[n](e[r])),u.onerror=y;else for(let t=0;t<p;++t)f.push(u=c[n](e[t])),u.onerror=y}let _=e=>{let t=e.target.result;f.forEach((e,t)=>null!=e.error&&(m[t]=e.error)),s({numFailures:g,failures:m,results:"delete"===n?r:f.map(e=>e.result),lastResult:t})};u.onerror=e=>{y(e),_(e)},u.onsuccess=_})},getMany:({trans:e,keys:n})=>new Promise((r,a)=>{r=sk(r);let i=e.objectStore(t),o=n.length,s=Array(o),l,u=0,c=0,d=e=>{let t=e.target;s[t._pos]=t.result,++c===u&&r(s)},h=lb(a);for(let e=0;e<o;++e)null!=n[e]&&((l=i.get(n[e]))._pos=e,l.onsuccess=d,l.onerror=h,++u);0===u&&r(s)}),get:({trans:e,key:n})=>new Promise((r,a)=>{r=sk(r);let i=e.objectStore(t).get(n);i.onsuccess=e=>r(e.target.result),i.onerror=lb(a)}),query:e=>new Promise((n,r)=>{n=sk(n);let{trans:i,values:s,limit:l,query:u}=e,c=l===1/0?void 0:l,{index:d,range:h}=u,p=i.objectStore(t),f=d.isPrimaryKey?p:p.index(d.name),m=a(h);if(0===l)return n({result:[]});if(o){let e=s?f.getAll(m,c):f.getAllKeys(m,c);e.onsuccess=e=>n({result:e.target.result}),e.onerror=lb(r)}else{let e=0,t=!s&&"openKeyCursor"in f?f.openKeyCursor(m):f.openCursor(m),a=[];t.onsuccess=r=>{let i=t.result;return i?(a.push(s?i.value:i.primaryKey),++e===l?n({result:a}):void i.continue()):n({result:a})},t.onerror=lb(r)}}),openCursor:function({trans:e,values:n,query:r,reverse:i,unique:o}){return new Promise((s,l)=>{s=sk(s);let{index:u,range:c}=r,d=e.objectStore(t),h=u.isPrimaryKey?d:d.index(u.name),p=i?o?"prevunique":"prev":o?"nextunique":"next",f=!n&&"openKeyCursor"in h?h.openKeyCursor(a(c),p):h.openCursor(a(c),p);f.onerror=lb(l),f.onsuccess=sk(t=>{let n=f.result;if(!n)return void s(null);n.___id=++lM,n.done=!1;let r=n.continue.bind(n),a=n.continuePrimaryKey;a&&(a=a.bind(n));let i=n.advance.bind(n),o=()=>{throw Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw Error("Cursor not started")},n.fail=sk(l),n.next=function(){let e=1;return this.start(()=>e--?this.continue():this.stop()).then(()=>this)},n.start=e=>{let t=new Promise((e,t)=>{e=sk(e),f.onerror=lb(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=o,e(t)}}),s=()=>{if(f.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw Error("Cursor behind last entry")},n.stop()};return f.onsuccess=sk(e=>{f.onsuccess=s,s()}),n.continue=r,n.continuePrimaryKey=a,n.advance=i,s(),t},s(n)},l)})},count({query:e,trans:n}){let{index:r,range:i}=e;return new Promise((e,o)=>{let s=n.objectStore(t),l=r.isPrimaryKey?s:s.index(r.name),u=a(i),c=u?l.count(u):l.count();c.onsuccess=sk(t=>e(t.target.result)),c.onerror=lb(o)})}}}),l={};return s.forEach(e=>l[e.name]=e),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!l[e])throw Error(`Table '${e}' not found`);return l[e]},MIN_KEY:-1/0,MAX_KEY:lO(t),schema:i}}(t,n,a),e.dbcore.reduce((e,{create:t})=>({...e,...t(e)}),i))}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(t=>{let n=t.name;e.core.schema.tables.some(e=>e.name===n)&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))})}function lR({_novip:e},t,n,r){n.forEach(n=>{let a=r[n];t.forEach(t=>{let r=ol(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?oi(t,n,{get(){return this.table(n)},set(e){oa(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,a))})})}function lN({_novip:e},t){t.forEach(t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]})}function lj(e,t){return e._cfg.version-t._cfg.version}function lF(e,t){let n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){let a=e[n],i=t[n];if(a){let e={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")==""+(i.primKey.keyPath||"")&&(a.primKey.auto===i.primKey.auto||sQ)){let t,n=a.idxByName,o=i.idxByName;for(t in n)o[t]||e.del.push(t);for(t in o){let r=n[t],a=o[t];r?r.src!==a.src&&e.change.push(a):e.add.push(a)}(e.del.length>0||e.add.length>0||e.change.length>0)&&r.change.push(e)}else e.recreate=!0,r.change.push(e)}else r.add.push([n,i])}return r}function lB(e,t,n,r){let a=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(e=>lU(a,e)),a}function lU(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function lV(e,t,n){let r={};return oc(t.objectStoreNames,0).forEach(e=>{let t=n.objectStore(e),a=t.keyPath,i=lk(lE(a),a||"",!1,!1,!!t.autoIncrement,a&&"string"!=typeof a,!0),o=[];for(let e=0;e<t.indexNames.length;++e){let n=t.index(t.indexNames[e]);a=n.keyPath;var s=lk(n.name,a,!!n.unique,!!n.multiEntry,!1,a&&"string"!=typeof a,!1);o.push(s)}r[e]=lT(e,i,o)}),r}function lW({_novip:e},t,n){let r=n.db.objectStoreNames;for(let a=0;a<r.length;++a){let i=r[a],o=n.objectStore(i);e._hasGetAll="getAll"in o;for(let e=0;e<o.indexNames.length;++e){let n=o.indexNames[e],r=o.index(n).keyPath,a="string"==typeof r?r:"["+oc(r).join("+")+"]";if(t[i]){let e=t[i].idxByName[a];e&&(e.name=n,delete t[i].idxByName[a],t[i].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i6.WorkerGlobalScope&&i6 instanceof i6.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class lz{_parseStoresSpec(e,t){i8(e).forEach(n=>{if(null!==e[n]){var r=e[n].split(",").map((e,t)=>{let n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return lk(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),i7(r),0===t)}),a=r.shift();if(a.multi)throw new oH.Schema("Primary key cannot be multi-valued");r.forEach(e=>{if(e.auto)throw new oH.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new oH.Schema("Index must have a name and cannot be an empty string")}),t[n]=lT(n,a,r)}})}stores(e){let t=this.db;this._cfg.storesSource=this._cfg.storesSource?i9(this._cfg.storesSource,e):e;let n=t._versions,r={},a={};return n.forEach(e=>{i9(r,e._cfg.storesSource),a=e._cfg.dbschema={},e._parseStoresSpec(r,a)}),t._dbSchema=a,lN(t,[t._allTables,t,t.Transaction.prototype]),lR(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],i8(a),a),t._storeNames=i8(a),this}upgrade(e){return this._cfg.contentUpgrade=o1(this._cfg.contentUpgrade||oq,e),this}}function lH(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new l9(s1,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function l$(e){return e&&"function"==typeof e.databases}function lK(e){return sL(function(){return su.letThrough=!0,e()})}function lq(e){var t=t=>e.next(t),n=a(t),r=a(t=>e.throw(t));function a(e){return t=>{var a=e(t),i=a.value;return a.done?i:i&&"function"==typeof i.then?i.then(n,r):i7(i)?Promise.all(i).then(n,r):n(i)}}return a(t)()}function lG(e,t,n){var r=arguments.length;if(r<2)throw new oH.InvalidArgument("Too few arguments");for(var a=Array(r-1);--r;)a[r-1]=arguments[r];return n=a.pop(),[e,o_(a),n]}function lY(e,t,n){let r=i7(e)?e.slice():[e];for(let e=0;e<n;++e)r.push(t);return r}let lX={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){let n=e.table(t),{schema:r}=n,a={},i=[];function o(e,t,n){let r=lL(e),s=a[r]=a[r]||[],l=null==e?0:"string"==typeof e?1:e.length,u=t>0,c={...n,isVirtual:u,keyTail:t,keyLength:l,extractKey:lP(e),unique:!u&&n.unique};return s.push(c),c.isPrimaryKey||i.push(c),l>1&&o(2===l?e[0]:e.slice(0,l-1),t+1,n),s.sort((e,t)=>e.keyTail-t.keyTail),c}let s=o(r.primaryKey.keyPath,0,r.primaryKey);for(let e of(a[":id"]=[s],r.indexes))o(e.keyPath,0,e);function l(t){var n,r;let a=t.query.index;return a.isVirtual?{...t,query:{index:a,range:(n=t.query.range,r=a.keyTail,{type:1===n.type?2:n.type,lower:lY(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,r),lowerOpen:!0,upper:lY(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,r),upperOpen:!0})}}:t}return{...n,schema:{...r,primaryKey:s,indexes:i,getIndexByKeyPath:function(e){let t=a[lL(e)];return t&&t[0]}},count:e=>n.count(l(e)),query:e=>n.query(l(e)),openCursor(t){let{keyTail:r,isVirtual:a,keyLength:i}=t.query.index;return a?n.openCursor(l(t)).then(n=>n&&Object.create(n,{continue:{value:function(a){null!=a?n.continue(lY(a,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,a){n.continuePrimaryKey(lY(t,e.MAX_KEY,r),a)}},primaryKey:{get:()=>n.primaryKey},key:{get(){let e=n.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:()=>n.value}})):n.openCursor(t)}}}}}};function lJ(e,t,n,r){return n=n||{},r=r||"",i8(e).forEach(a=>{if(on(t,a)){var i=e[a],o=t[a];if("object"==typeof i&&"object"==typeof o&&i&&o){let e=oS(i);e!==oS(o)?n[r+a]=t[a]:"Object"===e?lJ(i,o,n,r+a+"."):i!==o&&(n[r+a]=t[a])}else i!==o&&(n[r+a]=t[a])}else n[r+a]=void 0}),i8(t).forEach(a=>{on(e,a)||(n[r+a]=t[a])}),n}let lZ={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){let n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(e){let a=su.trans,{deleting:i,creating:o,updating:s}=a.table(t).hook;switch(e.type){case"add":if(o.fire===oq)break;return a._promise("readwrite",()=>l(e),!0);case"put":if(o.fire===oq&&s.fire===oq)break;return a._promise("readwrite",()=>l(e),!0);case"delete":if(i.fire===oq)break;return a._promise("readwrite",()=>l(e),!0);case"deleteRange":if(i.fire===oq)break;return a._promise("readwrite",()=>(function e(t,a,i){return n.query({trans:t,values:!1,query:{index:r,range:a},limit:i}).then(({result:n})=>l({type:"delete",keys:n,trans:t}).then(r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<i?{failures:[],numFailures:0,lastResult:void 0}:e(t,{...a,lower:n[n.length-1],lowerOpen:!0},i)))})(e.trans,e.range,1e4),!0)}return n.mutate(e);function l(e){var t,a;let l=su.trans,u=e.keys||("delete"===(t=e).type?t.keys:t.keys||t.values.map(r.extractKey));if(!u)throw Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:u}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),("add"===(a=e).type?Promise.resolve([]):n.getMany({trans:a.trans,keys:u,cache:"immutable"})).then(t=>{let a=u.map((n,a)=>{let u=t[a],c={onerror:null,onsuccess:null};if("delete"===e.type)i.fire.call(c,n,u,l);else if("add"===e.type||void 0===u){let t=o.fire.call(c,n,e.values[a],l);null==n&&null!=t&&(n=t,e.keys[a]=n,r.outbound||og(e.values[a],r.keyPath,n))}else{let t=lJ(u,e.values[a]),r=s.fire.call(c,t,n,u,l);if(r){let t=e.values[a];Object.keys(r).forEach(e=>{on(t,e)?t[e]=r[e]:og(t,e,r[e])})}}return c});return n.mutate(e).then(({failures:n,results:r,numFailures:i,lastResult:o})=>{for(let i=0;i<u.length;++i){let o=r?r[i]:u[i],s=a[i];null==o?s.onerror&&s.onerror(n[i]):s.onsuccess&&s.onsuccess("put"===e.type&&t[i]?e.values[i]:o)}return{failures:n,results:r,numFailures:i,lastResult:o}}).catch(e=>(a.forEach(t=>t.onerror&&t.onerror(e)),Promise.reject(e)))})}}}}})};function lQ(e,t,n){try{if(!t||t.keys.length<e.length)return null;let r=[];for(let a=0,i=0;a<t.keys.length&&i<e.length;++a)0===ls(t.keys[a],e[i])&&(r.push(n?ox(t.values[a]):t.values[a]),++i);return r.length===e.length?r:null}catch(e){return null}}let l0={stack:"dbcore",level:-1,create:e=>({table:t=>{let n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);let t=lQ(e.keys,e.trans._cache,"clone"===e.cache);return t?sp.resolve(t):n.getMany(e).then(t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?ox(t):t},t))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function l1(e){return!("from"in e)}let l2=function(e,t){if(!this){let t=new l2;return e&&"d"in e&&i9(t,e),t}i9(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function l5(e,t,n){let r=ls(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(l1(e))return i9(e,{from:t,to:n,d:1});let a=e.l,i=e.r;if(0>ls(n,e.from))return a?l5(a,t,n):e.l={from:t,to:n,d:1,l:null,r:null},l6(e);if(ls(t,e.to)>0)return i?l5(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},l6(e);0>ls(t,e.from)&&(e.from=t,e.l=null,e.d=i?i.d+1:1),ls(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);let o=!e.r;a&&!e.l&&l3(e,a),i&&o&&l3(e,i)}function l3(e,t){l1(t)||function e(t,{from:n,to:r,l:a,r:i}){l5(t,n,r),a&&e(t,a),i&&e(t,i)}(e,t)}function l4(e){let t=l1(e)?null:{s:0,n:e};return{next(e){let n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&0>ls(e,t.n.from);)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||0>=ls(e,t.n.to))return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function l6(e){var t,n;let r=((null==(t=e.r)?void 0:t.d)||0)-((null==(n=e.l)?void 0:n.d)||0),a=r>1?"r":r<-1?"l":"";if(a){let t="r"===a?"l":"r",n={...e},r=e[a];e.from=r.from,e.to=r.to,e[a]=r[a],n[a]=r[t],e[t]=n,n.d=l8(n)}e.d=l8(e)}function l8({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}or(l2.prototype,{add(e){return l3(this,e),this},addKey(e){return l5(this,e,e),this},addKeys(e){return e.forEach(e=>l5(this,e,e)),this},[ok](){return l4(this)}});let l7={stack:"dbcore",level:0,create:e=>{let t=e.schema.name,n=new l2(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{let a=e.table(r),{schema:i}=a,{primaryKey:o}=i,{extractKey:s,outbound:l}=o,u={...a,mutate:e=>{let o=e.trans,s=o.mutatedParts||(o.mutatedParts={}),l=e=>{let n=`idb://${t}/${r}/${e}`;return s[n]||(s[n]=new l2)},u=l(""),c=l(":dels"),{type:d}=e,[h,p]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[],f=e.trans._cache;return a.mutate(e).then(e=>{if(i7(h)){"delete"!==d&&(h=e.results),u.addKeys(h);let t=lQ(h,f);t||"add"===d||c.addKeys(h),(t||p)&&i.indexes.forEach(function(e){let n=l(e.name||"");function r(t){return null!=t?e.extractKey(t):null}let a=t=>e.multiEntry&&i7(t)?t.forEach(e=>n.addKey(e)):n.addKey(t);(t||p).forEach((e,n)=>{let i=t&&r(t[n]),o=p&&r(p[n]);0!==ls(i,o)&&(null!=i&&a(i),null!=o&&a(o))})})}else if(h){let e={from:h.lower,to:h.upper};c.add(e),u.add(e)}else u.add(n),c.add(n),i.indexes.forEach(e=>l(e.name).add(n));return e})}},c=({query:{index:t,range:n}})=>{var r,a;return[t,new l2(null!=(r=n.lower)?r:e.MIN_KEY,null!=(a=n.upper)?a:e.MAX_KEY)]},d={get:e=>[o,new l2(e.key)],getMany:e=>[o,(new l2).addKeys(e.keys)],count:c,query:c,openCursor:c};return i8(d).forEach(e=>{u[e]=function(i){let{subscr:o}=su;if(o){let u=e=>{let n=`idb://${t}/${r}/${e}`;return o[n]||(o[n]=new l2)},c=u(""),h=u(":dels"),[p,f]=d[e](i);if(u(p.name||"").add(f),!p.isPrimaryKey){if("count"!==e){let t="query"===e&&l&&i.values&&a.query({...i,values:!1});return a[e].apply(this,arguments).then(n=>{if("query"===e){if(l&&i.values)return t.then(({result:e})=>(c.addKeys(e),n));let e=i.values?n.result.map(s):n.result;i.values?c.addKeys(e):h.addKeys(e)}else if("openCursor"===e){let e=i.values;return n&&Object.create(n,{key:{get:()=>(h.addKey(n.primaryKey),n.key)},primaryKey:{get(){let e=n.primaryKey;return h.addKey(e),e}},value:{get:()=>(e&&c.addKey(n.primaryKey),n.value)}})}return n})}h.add(n)}}return a[e].apply(this,arguments)}}),u}}}};class l9{constructor(e,t){var n,r,a;this._middlewares={},this.verno=0;const i=l9.dependencies;this._options=t={addons:l9.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:o}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:oq,dbReadyPromise:null,cancelOpen:oq,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};s.dbReadyPromise=new sp(e=>{s.dbReadyResolve=e}),s.openCanceller=new sp((e,t)=>{s.cancelOpen=t}),this._state=s,this.name=e,this.on=s7(this,"populate","blocked","versionchange","close",{ready:[o1,oq]}),this.on.ready.subscribe=od(this.on.ready.subscribe,e=>(t,n)=>{l9.vip(()=>{let r=this._state;if(r.openComplete)r.dbOpenError||sp.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);let r=this;n||e(function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)})}})}),this.Collection=(n=this,s9(lc.prototype,function(e,t){this.db=n;let r=s4,a=null;if(t)try{r=t()}catch(e){a=e}let i=e._ctx,o=i.table,s=o.hook.reading.fire;this._ctx={table:o,index:i.index,isPrimKey:!i.index||o.schema.primKey.keyPath&&i.index===o.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:a,or:i.or,valueMapper:s!==oG?s:null}})),this.Table=function(e){return s9(s8.prototype,function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:s7(null,{creating:[oJ,oq],reading:[oY,oG],updating:[oQ,oq],deleting:[oZ,oq]})})}(this),this.Transaction=(r=this,s9(lS.prototype,function(e,t,n,a,i){this.db=r,this.mode=e,this.storeNames=t,this.schema=n,this.chromeTransactionDurability=a,this.idbtrans=null,this.on=s7(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new sp((e,t)=>{this._resolve=e,this._reject=t}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),sK(e)})})),this.Version=(a=this,s9(lz.prototype,function(e){this.db=a,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=function(e){return s9(l_.prototype,function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};let a=e._deps.indexedDB;if(!a)throw new oH.MissingAPI;this._cmp=this._ascending=a.cmp.bind(a),this._descending=(e,t)=>a.cmp(t,e),this._max=(e,t)=>a.cmp(e,t)>0?e:t,this._min=(e,t)=>0>a.cmp(e,t)?e:t,this._IDBKeyRange=e._deps.IDBKeyRange})}(this),this.on("versionchange",e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)}),this._maxKey=lO(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),sZ.filter(e=>e.name===this.name&&e!==this&&!e._state.vcFired).map(t=>t.on("versionchange").fire(e))},this.use(lX),this.use(lZ),this.use(l7),this.use(l0),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(e=>e(this))}version(e){if(isNaN(e)||e<.1)throw new oH.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new oH.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);let t=this._versions;var n=t.filter(t=>t._cfg.version===e)[0];return n||(n=new this.Version(e),t.push(n),t.sort(lj),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||su.letThrough||this._vip)?e():new sp((e,t)=>{if(this._state.openComplete)return t(new oH.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new oH.DatabaseClosed);this.open().catch(oq)}this._state.dbReadyPromise.then(e,t)}).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});let a=this._middlewares[e]||(this._middlewares[e]=[]);return a.push({stack:e,create:t,level:null==n?10:n,name:r}),a.sort((e,t)=>e.level-t.level),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(e=>n?e.create!==n:!!t&&e.name!==t)),this}open(){return function(e){var t;let n=e._state,{indexedDB:r}=e._deps;if(n.isBeingOpened||e.idbdb)return n.dbReadyPromise.then(()=>n.dbOpenError?sK(n.dbOpenError):e);oI&&(n.openCanceller._stackHolder=oD()),n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;let a=n.openCanceller;function i(){if(n.openCanceller!==a)throw new oH.DatabaseClosed("db.open() was cancelled")}let o=n.dbReadyResolve,s=null,l=!1,u=()=>new sp((t,a)=>{if(i(),!r)throw new oH.MissingAPI;let o=e.name,u=n.autoSchema?r.open(o):r.open(o,Math.round(10*e.verno));if(!u)throw new oH.MissingAPI;u.onerror=lb(a),u.onblocked=sk(e._fireOnBlocked),u.onupgradeneeded=sk(t=>{if(s=u.transaction,n.autoSchema&&!e._options.allowEmptyDB){u.onerror=lA,s.abort(),u.result.close();let e=r.deleteDatabase(o);e.onsuccess=e.onerror=sk(()=>{a(new oH.NoSuchDatabase(`Database ${o} doesnt exist`))})}else{let n,r,o,h;s.onerror=lb(a);var i,c,d=t.oldVersion>0x4000000000000000?0:t.oldVersion;l=d<1,e._novip.idbdb=u.result,i=d/10,c=s,n=e._dbSchema,(r=e._createTransaction("readwrite",e._storeNames,n)).create(c),r._completion.catch(a),o=r._reject.bind(r),h=su.transless||su,sL(()=>{su.trans=r,su.transless=h,0===i?(i8(n).forEach(e=>{lB(c,e,n[e].primKey,n[e].indexes)}),lD(e,c),sp.follow(()=>e.on.populate.fire(r)).catch(o)):(function({_novip:e},t,n,r){let a=[],i=e._versions,o=e._dbSchema=lV(e,e.idbdb,r),s=!1;return i.filter(e=>e._cfg.version>=t).forEach(i=>{a.push(()=>{let a=o,l=i._cfg.dbschema;lW(e,a,r),lW(e,l,r),o=e._dbSchema=l;let u=lF(a,l);u.add.forEach(e=>{lB(r,e[0],e[1].primKey,e[1].indexes)}),u.change.forEach(e=>{if(e.recreate)throw new oH.Upgrade("Not yet support for changing primary key");{let t=r.objectStore(e.name);e.add.forEach(e=>lU(t,e)),e.change.forEach(e=>{t.deleteIndex(e.name),lU(t,e)}),e.del.forEach(e=>t.deleteIndex(e))}});let c=i._cfg.contentUpgrade;if(c&&i._cfg.version>t){let t;lD(e,r),n._memoizedTables={},s=!0;let i=ov(l);u.del.forEach(e=>{i[e]=a[e]}),lN(e,[e.Transaction.prototype]),lR(e,[e.Transaction.prototype],i8(i),i),n.schema=i;let o=oP(c);o&&sD();let d=sp.follow(()=>{if((t=c(n))&&o){var e=sR.bind(null,null);t.then(e,e)}});return t&&"function"==typeof t.then?sp.resolve(t):d.then(()=>t)}}),a.push(t=>{var r;s&&sQ||(r=i._cfg.dbschema,[].slice.call(t.db.objectStoreNames).forEach(e=>null==r[e]&&t.db.deleteObjectStore(e))),lN(e,[e.Transaction.prototype]),lR(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema})}),(function e(){return a.length?sp.resolve(a.shift()(n.idbtrans)).then(e):sp.resolve()})().then(()=>{var e;i8(e=o).forEach(t=>{r.db.objectStoreNames.contains(t)||lB(r,t,e[t].primKey,e[t].indexes)})})})(e,i,r,c).catch(o)})}},a),u.onsuccess=sk(()=>{s=null;let r=e._novip.idbdb=u.result,a=oc(r.objectStoreNames);if(a.length>0)try{let t,i=r.transaction(1===a.length?a[0]:a,"readonly");n.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;let r=e._dbSchema=lV(0,t,n);e._storeNames=oc(t.objectStoreNames,0),lR(e,[e._allTables],i8(r),r)}(e,r,i):(lW(e,e._dbSchema,i),((t=lF(lV(0,e.idbdb,i),e._dbSchema)).add.length||t.change.some(e=>e.add.length||e.change.length))&&console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),lD(e,i)}catch(e){}sZ.push(e),r.onversionchange=sk(t=>{n.vcFired=!0,e.on("versionchange").fire(t)}),r.onclose=sk(t=>{e.on("close").fire(t)}),l&&function({indexedDB:e,IDBKeyRange:t},n){l$(e)||n===s1||lH(e,t).put({name:n}).catch(oq)}(e._deps,o),t()},a)}).catch(e=>e&&"UnknownError"===e.name&&n.PR1398_maxLoop>0?(n.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),u()):sp.reject(e));return sp.race([a,("undefined"==typeof navigator?sp.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)}):Promise.resolve()).then(u)]).then(()=>(i(),n.onReadyBeingFired=[],sp.resolve(lK(()=>e.on.ready.fire(e.vip))).then(function t(){if(n.onReadyBeingFired.length>0){let r=n.onReadyBeingFired.reduce(o1,oq);return n.onReadyBeingFired=[],sp.resolve(lK(()=>r(e.vip))).then(t)}}))).finally(()=>{n.onReadyBeingFired=null,n.isBeingOpened=!1}).then(()=>e).catch(t=>{n.dbOpenError=t;try{s&&s.abort()}catch(e){}return a===n.openCanceller&&e._close(),sK(t)}).finally(()=>{n.openComplete=!0,o()})}(this)}_close(){let e=this._state,t=sZ.indexOf(this);if(t>=0&&sZ.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new sp(t=>{e.dbReadyResolve=t}),e.openCanceller=new sp((t,n)=>{e.cancelOpen=n})}close(){this._close();let e=this._state;this._options.autoOpen=!1,e.dbOpenError=new oH.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){let e=arguments.length>0,t=this._state;return new sp((n,r)=>{let a=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=sk(()=>{!function({indexedDB:e,IDBKeyRange:t},n){l$(e)||n===s1||lH(e,t).delete(n).catch(oq)}(this._deps,this.name),n()}),e.onerror=lb(r),e.onblocked=this._fireOnBlocked};if(e)throw new oH.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(a):a()})}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){let e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return i8(this._allTables).map(e=>this._allTables[e])}transaction(){let e=lG.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r,a,i=su.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);let o=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map(e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}),"r"==e||e===s2)r=s2;else{if("rw"!=e&&e!=s5)throw new oH.InvalidArgument("Invalid transaction mode: "+e);r=s5}if(i){if(i.mode===s2&&r===s5){if(!o)throw new oH.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(e=>{if(i&&-1===i.storeNames.indexOf(e)){if(!o)throw new oH.SubTransaction("Table "+e+" not included in parent transaction.");i=null}}),o&&i&&!i.active&&(i=null)}}catch(e){return i?i._promise(null,(t,n)=>{n(e)}):sK(e)}let s=(function e(t,n,r,a,i){return sp.resolve().then(()=>{let o,s=su.transless||su,l=t._createTransaction(n,r,t._dbSchema,a);if(a)l.idbtrans=a.idbtrans;else try{l.create(),t._state.PR1398_maxLoop=3}catch(a){return a.name===oz.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>e(t,n,r,null,i))):sK(a)}let u=oP(i);u&&sD();let c=sp.follow(()=>{if(o=i.call(l,l))if(u){var e=sR.bind(null,null);o.then(e,e)}else"function"==typeof o.next&&"function"==typeof o.throw&&(o=lq(o))},{trans:l,transless:s});return(o&&"function"==typeof o.then?sp.resolve(o).then(e=>l.active?e:sK(new oH.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>o)).then(e=>(a&&l._resolve(),l._completion.then(()=>e))).catch(e=>(l._reject(e),sK(e)))})}).bind(null,this,r,a,i,n);return i?i._promise(r,s,"lock"):su.trans?sV(su.transless,()=>this._whenReady(s)):this._whenReady(s)}table(e){if(!on(this._allTables,e))throw new oH.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}let ue="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class ut{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[ue](){return this}}function un(e,t){return i8(t).forEach(n=>{l3(e[n]||(e[n]=new l2),t[n])}),e}try{_={indexedDB:i6.indexedDB||i6.mozIndexedDB||i6.webkitIndexedDB||i6.msIndexedDB,IDBKeyRange:i6.IDBKeyRange||i6.webkitIDBKeyRange}}catch(e){_={indexedDB:null,IDBKeyRange:null}}function ur(e){let t=ua;try{ua=!0,lC.storagemutated.fire(e)}finally{ua=t}}or(l9,{...oK,delete:e=>new l9(e,{addons:[]}).delete(),exists:e=>new l9(e,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return(function({indexedDB:e,IDBKeyRange:t}){return l$(e)?Promise.resolve(e.databases()).then(e=>e.map(e=>e.name).filter(e=>e!==s1)):lH(e,t).toCollection().primaryKeys()})(l9.dependencies).then(e)}catch(e){return sK(new oH.MissingAPI)}},defineClass:()=>function(e){i9(this,e)},ignoreTransaction:e=>su.trans?sV(su.transless,e):e(),vip:lK,async:function(e){return function(){try{var t=lq(e.apply(this,arguments));return t&&"function"==typeof t.then?t:sp.resolve(t)}catch(e){return sK(e)}}},spawn:function(e,t,n){try{var r=lq(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:sp.resolve(r)}catch(e){return sK(e)}},currentTransaction:{get:()=>su.trans||null},waitFor:function(e,t){let n=sp.resolve("function"==typeof e?l9.ignoreTransaction(e):e).timeout(t||6e4);return su.trans?su.trans.waitFor(n):n},Promise:sp,debug:{get:()=>oI,set:e=>{oI=e,oM="dexie"===e?()=>!0:s0}},derive:oo,extend:i9,props:or,override:od,Events:s7,on:lC,liveQuery:function(e){let t,n=!1,r=new ut(r=>{let a=oP(e),i=!1,o={},s={},l={get closed(){return i},unsubscribe:()=>{i=!0,lC.storagemutated.unsubscribe(h)}};r.start&&r.start(l);let u=!1,c=!1;function d(){return i8(s).some(e=>o[e]&&function(e,t){let n=l4(t),r=n.next();if(r.done)return!1;let a=r.value,i=l4(e),o=i.next(a.from),s=o.value;for(;!r.done&&!o.done;){if(0>=ls(s.from,a.to)&&ls(s.to,a.from)>=0)return!0;0>ls(a.from,s.from)?a=(r=n.next(s.from)).value:s=(o=i.next(a.from)).value}return!1}(o[e],s[e]))}let h=e=>{un(o,e),d()&&p()},p=()=>{let f,m;if(u||i)return;o={};let g={},y=(a&&sD(),f=()=>sL(e,{subscr:g,trans:null}),m=su.trans?sV(su.transless,f):f(),a&&m.then(sR,sR),m);c||(lC(lw,h),c=!0),u=!0,Promise.resolve(y).then(e=>{n=!0,t=e,u=!1,i||(d()?p():(o={},s=g,r.next&&r.next(e)))},e=>{u=!1,n=!1,r.error&&r.error(e),l.unsubscribe()})};return p(),l});return r.hasValue=()=>n,r.getValue=()=>t,r},extendObservabilitySet:un,getByKeyPath:om,setByKeyPath:og,delByKeyPath:function(e,t){"string"==typeof t?og(e,t,void 0):"length"in t&&[].map.call(t,function(t){og(e,t,void 0)})},shallowClone:ov,deepClone:ox,getObjectDiff:lJ,cmp:ls,asap:op,minKey:sY,addons:[],connections:sZ,errnames:oz,dependencies:_,semVer:sq,version:sq.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),l9.maxKey=lO(l9.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(lC(lw,e=>{if(!ua){let t;sQ?(t=document.createEvent("CustomEvent")).initCustomEvent(lx,!0,!0,e):t=new CustomEvent(lx,{detail:e}),ua=!0,dispatchEvent(t),ua=!1}}),addEventListener(lx,({detail:e})=>{ua||ur(e)}));let ua=!1;if("undefined"!=typeof BroadcastChannel){let e=new BroadcastChannel(lx);"function"==typeof e.unref&&e.unref(),lC(lw,t=>{ua||e.postMessage(t)}),e.onmessage=e=>{e.data&&ur(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){lC(lw,e=>{try{ua||("undefined"!=typeof localStorage&&localStorage.setItem(lx,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(t=>t.postMessage({type:lx,changedParts:e})))}catch(e){}}),"undefined"!=typeof addEventListener&&addEventListener("storage",e=>{if(e.key===lx){let t=JSON.parse(e.newValue);t&&ur(t.changedParts)}});let e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:e}){e&&e.type===lx&&ur(e.changedParts)})}sp.rejectionMapper=function(e,t){if(!e||e instanceof oB||e instanceof TypeError||e instanceof SyntaxError||!e.name||!o$[e.name])return e;var n=new o$[e.name](t||e.message,e);return"stack"in e&&oi(n,"stack",{get:function(){return this.inner.stack}}),n},oM=s0;let ui=e=>""+e.size+e.type+e.lastModified,uo=new l9("less_recent_images");uo.version(1).stores({images:"hash,blob,created"});let us="cut_head",ul="remove_background",uu={HEAD:"head",COMMON:"common"},uc={[us]:uu.HEAD,[ul]:uu.COMMON},ud="OBJECT_ID",uh="design",up="preview",uf="chooseImage",um="cropImage",ug="aiPreprocessImage",uv="transferImage",uy="shapeImage",u_="setText",ub="changeBackgroundColor",uA="addToCart",uw={apiPrefix:"",designerApiPrefix:"",cutfaceApiPrefix:"",locale:"en",fonts:null,canShowCloseButton:!0,canShowSaveButton:!0,saveButtonType:uA,canShowPreviewStep:!0,canShowThemeSelector:!1,canvasSize:500,canShowPlayground:!1},ux="warning",uC="error",uS=e=>!!e.IMAGE_CUSTOMIZE_INFO&&!!e.IMAGE_CUSTOMIZE_INFO.isCarvingText,uk=(e,t)=>{let n=null;for(let r of e)for(let e of r.objects)if(Number(e[ud])===Number(t))return n=e,uS(e)&&(n._isCarvingText=!0,n.text=e?.IMAGE_CUSTOMIZE_INFO?.textParams?.text||"",n.fill=e?.IMAGE_CUSTOMIZE_INFO?.textParams?.fill||"",n.fontFamily=e?.IMAGE_CUSTOMIZE_INFO?.textParams?.fontFamily||""),n;return n},uE=e=>{let t=1;return e&&(t=e.ORIGIN_WIDTH/e.ORIGIN_HEIGHT),t},uT=(e,t)=>t.object_ids.every(t=>{let n;return(n=uk(e,t))&&n.CROP_INFO}),uO=e=>e&&e.CROP_INFO?{shapeUrl:e.CROP_INFO.shapeUrl||"",shapeMaskUrl:e.CROP_INFO.shapeMaskUrl||"",aspectRatio:e.CROP_INFO.width/e.CROP_INFO.height}:null,uP="save",uI="generatingPreview",uM="preview",uL=tq({name:"DesignSteps",setup(){let e=nE("commonData"),t=rP(()=>e.value.steps.findIndex(t=>t===e.value.currentStep));return{commonData:e,currentStepIndex:t}},render(){return rl("nav",{class:"flex-none flex justify-center items-center h-6"},[rl("ul",{className:"m-auto flex justify-center items-center space-x-1"},[this.commonData.steps.map((e,t)=>rl("li",{class:{"h-1 rounded-xs step-transition":!0,"bg-primary":t<=this.currentStepIndex,"w-0 opacity-0":Math.abs(this.currentStepIndex-t)>=5,"w-1 opacity-20":4===Math.abs(this.currentStepIndex-t),"w-2 opacity-40":3===Math.abs(this.currentStepIndex-t),"w-3 opacity-60":2===Math.abs(this.currentStepIndex-t),"w-4 opacity-80":1===Math.abs(this.currentStepIndex-t),"w-5":t===this.currentStepIndex,"bg-base-300":t>this.currentStepIndex}},null))])])}}),uD=tq({name:"BaseButton",props:{type:{required:!1,type:String,default:"default",validator:e=>["theme","default","ghost"].includes(e)},size:{required:!1,type:String,default:"md",validator:e=>["md","sm"].includes(e)},isSquare:Boolean,loading:Boolean,disabled:Boolean,onClick:Function},setup(e,t){let n=t_(()=>e.isSquare),r=t_(()=>e.loading),a=t_(()=>e.disabled),i=t_(()=>t.slots.default?.());return{type:e.type,size:e.size,isSquare:n,loading:r,disabled:a,onClick:e.onClick,defaultSlots:i}},render(){return rl("button",{class:{"du-btn":!0,"du-btn-square":this.isSquare,"du-btn-sm":"sm"===this.size,"du-btn-ghost":"ghost"===this.type,"du-btn-primary":"theme"===this.type},disabled:this.disabled,onClick:this.onClick},[this.loading?rl("span",{class:"du-loading du-loading-spinner"},null):null,this.defaultSlots])}}),uR=tq({name:"CloseButton",render:()=>rl(uD,{type:"ghost",isSquare:!0},{default:()=>[rl("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-7 h-7"},[rl("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z","clip-rule":"evenodd"},null)])]})}),uN=tq({name:"BackButton",render:()=>rl(uD,{type:"ghost",isSquare:!0},{default:()=>[rl("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-7 h-7"},[rl("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z","clip-rule":"evenodd"},null)])]})}),uj=tq({name:"HeaderWrap",props:{title:{required:!0,type:String}},setup(e,t){let n=nE("commonData"),r=t_(()=>e.title),a=t_(()=>t.slots.leftButton?.());return{title:r,canShowThemeSelector:rP(()=>n.value.designerConfig?.canShowThemeSelector),leftButtonSlot:a}},render(){return rl("header",{class:"du-navbar flex-none relative flex justify-center items-center px-16 text-center"},[this.leftButtonSlot?rl("div",{class:"flex items-center absolute left-1 top-1/2  -translate-y-1/2"},[this.leftButtonSlot]):null,rl("p",{class:"font-bold capitalize"},[this.title])])}}),uF=tq({name:"DesignHeader",setup(){let e=nE("commonData"),{t}=i2(),n=nE("updateCommonCurrentStep"),r=nE("updateCommonCloseStatus"),a=nE("getPrevStep"),i=rP(()=>e.value.designerConfig.canShowCloseButton),o=rP(()=>Number(e.value.currentStep.split("_")[1])),s=tc({[uf]:e=>`${t("1-")}`,[um]:e=>`${t("2-")}`,[ug]:e=>`${t("3-")}`,[uv]:e=>`${t("4-")}`,[uy]:e=>`${t("5-")}`,[u_]:()=>`${t("1-")}`,[ub]:()=>`${t("1-")}`}),l=rP(()=>{let t=e.value.currentStep,n=e.value.steps.findIndex(e=>e===t),r=Object.keys(s.value).find(e=>t.includes(e));return{index:n,title:s.value[r](o.value+1)}});return{step:l,canShowCloseButton:i,updateStep:()=>{n(a(l.value.index-1))},close:()=>{r(!0)}}},render(){return rl(uj,{title:this.step.title},{leftButton:()=>0===this.step.index?this.canShowCloseButton?rl(uR,{onclick:this.close},null):null:rl(uN,{onclick:this.updateStep},null)})}}),uB=e=>new Promise((t,n)=>{let r=new Image;r.src=e,r.onload=()=>{t(r)},r.onerror=e=>{n(e)}}),uU=e=>{if(!e)return!1;let t=e.replace(/\s*/g,"");return["#ffffff","#fff","white","rgba(255,255,255,1)","rgb(255,255,255)"].includes(t=t.toLowerCase())},uV=tq({name:"UploadButton",props:{change:Function},setup(e){let{t}=i2(),n=nE("updateCommonMessageData"),r=tc(null),a=tc(null),i=async i=>{if(!i.target.files.length)return;let o=i.target.files[0],s=window.URL.createObjectURL(o),l=null;try{if(l=await uB(s),(({size:e,width:t=1,height:n=1})=>e>6e7||t>15e3&&n>15e3)({size:o.size,width:l.width,height:l.height}))return void n({type:uC,message:t(""),duration:3e3})}catch(e){n({type:uC,message:t(""),duration:3e3});return}finally{r.value.value="",a.value&&(a.value.value="")}e.change?.(o)};return{t,inputEl:r,onChange:i,cameraInputEl:a}},render(){let e=!1===/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);return rl("div",null,[rl("label",{class:"flex justify-start du-btn du-btn-block"},[tz(rl("input",{ref:"inputEl",type:"file",accept:".jpeg,.jpg,.png,.webp",onChange:this.onChange},null),[[rB,!1]]),rl("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-7 h-7"},[e?rl(n1,null,[rl("path",{"fill-rule":"evenodd",d:"M2.25 5.25a3 3 0 013-3h13.5a3 3 0 013 3V15a3 3 0 01-3 3h-3v.257c0 .597.237 1.17.659 1.591l.621.622a.75.75 0 01-.53 1.28h-9a.75.75 0 01-.53-1.28l.621-.622a2.25 2.25 0 00.659-1.59V18h-3a3 3 0 01-3-3V5.25zm1.5 0v7.5a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-7.5a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5z","clip-rule":"evenodd"},null)]):rl(n1,null,[rl("path",{"fill-rule":"evenodd",d:"M8.625.75A3.375 3.375 0 005.25 4.125v15.75a3.375 3.375 0 003.375 3.375h6.75a3.375 3.375 0 003.375-3.375V4.125A3.375 3.375 0 0015.375.75h-6.75zM7.5 4.125C7.5 3.504 8.004 3 8.625 3H9.75v.375c0 .621.504 1.125 1.125 1.125h2.25c.621 0 1.125-.504 1.125-1.125V3h1.125c.621 0 1.125.504 1.125 1.125v15.75c0 .621-.504 1.125-1.125 1.125h-6.75A1.125 1.125 0 017.5 19.875V4.125z","clip-rule":"evenodd"},null)])]),rl("span",{class:"px-2"},[e?this.t("-"):this.t("-")])]),e?"":rl("label",{class:"flex mt-2 justify-start du-btn du-btn-block"},[tz(rl("input",{ref:"cameraInputEl",onChange:this.onChange,type:"file",accept:"image/*",capture:"camera"},null),[[rB,!1]]),rl("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-7 h-7"},[rl("path",{d:"M12 9a3.75 3.75 0 100 7.5A3.75 3.75 0 0012 9z"},null),rl("path",{"fill-rule":"evenodd",d:"M9.344 3.071a49.52 49.52 0 015.312 0c.967.052 1.83.585 2.332 1.39l.821 1.317c.24.383.645.643 1.11.71.386.054.77.113 1.152.177 1.432.239 2.429 1.493 2.429 2.909V18a3 3 0 01-3 3h-15a3 3 0 01-3-3V9.574c0-1.416.997-2.67 2.429-2.909.382-.064.766-.123 1.151-.178a1.56 1.56 0 001.11-.71l.822-1.315a2.942 2.942 0 012.332-1.39zM6.75 12.75a5.25 5.25 0 1110.5 0 5.25 5.25 0 01-10.5 0zm12-1.5a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"},null)]),rl("span",{class:"px-2"},[this.t("-")])])])}}),uW=tq({name:"RecentImagesList",props:{select:Function,list:Array,remove:Function},setup(e){let t=async t=>{e.select?.(t)};return{list:rP(()=>e.list&&e.list.length>0?e.list:[]),removeImage:t=>{e.remove?.(t)},selectImage:t}},render(){return rl("div",{class:"grid grid-cols-4 gap-2 mb-2"},[this.list.map(e=>rl("div",{class:"border border-solid border-neutral-200 transparent-bg"},[rl("div",{class:"w-full square-div-wrap"},[rl("div",null,[rl("img",{src:e.url||e.objectUrl,class:"cursor-pointer object-contain w-full h-full",onClick:()=>this.selectImage(e)},null),rl("span",{class:"absolute right-0 top-0 z-10 text-white remove-recent-image-bg w-4 h-4 justify-center items-center cursor-pointer",onClick:()=>this.removeImage(e)},[rl("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[rl("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null)])])])])]))])}}),uz=tq({name:"RecentImages",props:{select:Function},setup(e){let{t}=i2(),n=nE("commonData"),r=nE("updateCommonRecentImages"),a=nE("removeCommonRecentImage"),i=rP(()=>n.value.recentImages.slice(0,4)),o=rP(()=>n.value.recentImages.slice(4)),s=async t=>{e.select?.(t.url||t.blob)};return t7(()=>{r()}),{t,list1:i,list2:o,removeImage:e=>{a(e.blob)},selectImage:s}},render(){return rl("div",{class:"mt-4"},[rl("h4",{class:"text-left text-sm mb-3"},[this.list1.length?this.t("-"):""]),this.list1.length?rl(uW,{list:this.list1,select:this.selectImage,remove:this.removeImage},null):"",this.list2.length?rl(uW,{list:this.list2,select:this.selectImage,remove:this.removeImage},null):""])}}),{createAxios:uH}=window.popaxios,u$=uH();class uK{static post(e){let{url:t,params:n={},language:r,version:a}=e,i=new FormData;return Object.keys(n).forEach(e=>{i.append(e,n[e])}),i.append("api_key","6918b8ac6e1c48aa92131b08ead86c44"),u$({url:t,method:"post",data:i,headers:{"accept-language":r,...!a?{}:{"x-less-version":a}}})}}let uq=tq({name:"ChooseImage",props:{change:Function},setup(e){let t,n,r=nE("updateCommonMessageData"),a=nE("addCommonRecentImage"),{uploadImage:i}=(t=nE("locale"),n=nE("commonData"),{uploadImage:async e=>uK.post({url:`${n.value.designerConfig.cutfaceApiPrefix}/v1/thumb`,params:{image:e},language:t.value,version:n.value.designerConfig.version})}),o=tc(1),s=tc(!1),l=async e=>(await i(e)).data.data.thumb,u=t=>{e.change?.(t)},c=async e=>{let t=null;s.value=!0;try{t=await l(e)}catch(e){r({type:uC,message:e.message,duration:5e3});return}finally{s.value=!1}a(e,t),u(t||e)};return{maxCount:o,uploading:s,change:c,select:u}},render(){return rl("div",{class:{"px-4 py-2 relative":!0,"pointer-events-none":this.uploading}},[tz(rl("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-1"},[rl("svg",{class:"animate-spin h-10 w-10 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[rl("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null),rl("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null)])]),[[rB,this.uploading]]),rl("div",{class:{"opacity-50":this.uploading}},[rl(uV,{max:this.maxCount,change:this.change},null),rl(uz,{select:this.select},null)])])}}),uG=tq({name:"LoadingButton",render:()=>rl("svg",{class:"animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[rl("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null),rl("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null)])}),uY=(e,t=null)=>{t?window?.posthog?.capture?.(e,t):window?.posthog?.capture?.(e)},uX=tq({name:"FooterWrap",props:{loading:{required:!1,type:Boolean,default:!1},disabled:{required:!1,type:Boolean,default:!1},next:Function},setup(e,t){let{t:n}=i2();return{t:n,loading:t_(()=>e.loading),disabled:t_(()=>e.disabled),next:()=>{uY("-"),e?.next?.()},leftSlot:t_(()=>t.slots.left?.()),centerSlot:t_(()=>t.slots.center?.()),rightSlot:t_(()=>t.slots.right?.())}},render(){var e;let t;return rl("footer",{class:"sticky bottom-0 flex-none flex justify-between items-center bg-base-100 h-16 px-4 py-2"},[this.leftSlot||rl("div",null,null),this.centerSlot||rl("div",null,null),this.rightSlot||rl(uD,{type:"theme",loading:this.loading,disabled:this.disabled,onClick:this.next},"function"!=typeof(e=t=this.t("-"))&&("[object Object]"!==Object.prototype.toString.call(e)||rr(e))?{default:()=>[t]}:t)])}});var uJ=r("./node_modules/.pnpm/cropperjs@1.6.2/node_modules/cropperjs/dist/cropper.js"),uZ=r.n(uJ);let{createAxios:uQ}=window.popaxios,u0=uQ();class u1{static post(e){let{url:t,params:n={},language:r,version:a}=e,i=new FormData;return Object.keys(n).forEach(e=>{i.append(e,n[e])}),i.append("api_key","6918b8ac6e1c48aa92131b08ead86c44"),u0({url:t,method:"post",data:i,headers:{"accept-language":r,...!a?{}:{"x-less-version":a}}})}}let u2={viewMode:0,dragMode:"move",autoCropArea:1,cropBoxMovable:!1,cropBoxResizable:!1,toggleDragModeOnDblclick:!1,background:!1,minContainerHeight:200},u5=tq({name:"ImageCropper",props:{file:{required:!0},shapeInfo:{required:!1,type:Object,default:()=>null},aspectRatio:Number,next:Function},setup(e){let{t}=i2(),n=nE("locale"),r=nE("commonData"),a=nE("updateCommonMessageData"),i=tc(10),o=t_(()=>e.file instanceof Blob?window.URL.createObjectURL(e.file):e.file),s=t_(()=>!!e.shapeInfo),l=t_(()=>e.aspectRatio||1),u=t_(()=>s.value?e.shapeInfo.shapeMaskUrl:""),c=tc(null),d=tc(null),h=tc(null),p=tc(!0),f=tc(!1),m=async()=>{let e=await uB(u.value);h.value.setAspectRatio(e.width/e.height);let t=d.value.getElementsByClassName("cropper-face");(t=[...t]).forEach(e=>{e.setAttribute("style",`background: url(${u.value}) top left no-repeat; opacity: 1`)})};t7(()=>{p.value=!0,h.value=new(uZ())(c.value,{...u2,aspectRatio:l.value,ready:async()=>{s.value&&await m(),p.value=!1}})}),n$(()=>o.value,()=>{p.value=!0,h.value.replace(o.value)},void 0);let g=async()=>{let a=h.value.getData(),i=h.value.getContainerData(),o=h.value.getCropBoxData(),s=h.value.getCanvasData(),l=h.value.getImageData(),u=s.naturalWidth/s.width,c={shapeUrl:e.shapeInfo?.shapeUrl??"",image:e.file,imageWidth:l.naturalWidth,imageHeight:l.naturalHeight,containerWidth:i.width*u,containerHeight:i.height*u,cropBoxWidth:o.width*u,cropBoxHeight:o.height*u,cropBoxLeft:o.left*u,cropBoxTop:o.top*u,imageLeft:s.left*u,imageTop:s.top*u,angle:a.rotate};if(!(e=>{if(!e.image)return!1;let t=["imageWidth","imageHeight","containerWidth","containerHeight","cropBoxWidth","cropBoxHeight"];for(let n of[...t,"cropBoxLeft","cropBoxTop","imageLeft","imageTop","angle"])if("number"!=typeof e[n]||Number.isNaN(e[n])||!Number.isFinite(e[n])||t.includes(n)&&e[n]<=0)return!1;return!0})(c))throw Error(t(""));return(await u1.post({url:`${r.value.designerConfig.cutfaceApiPrefix}/v1/crop`,params:c,language:n.value,version:r.value.designerConfig.version})).data.data},y=async()=>{if(p.value||f.value)return;f.value=!0;let t="";try{t=await g()}catch(e){console.error(e),a({type:uC,message:e.message,duration:5e3});return}finally{f.value=!1}e.next?.(t.thumb,{url:t.url,width:t.info.width,height:t.info.height})};return{t,angle:i,imageEl:c,imageWrapEl:d,loading:p,cropping:f,src:o,reset:()=>{h.value.reset()},rotate:e=>{h.value.rotate(e)},zoomIn:()=>{h.value.zoom(.1)},zoomOut:()=>{h.value.zoom(-.1)},crop:y}},render(){return rl("div",{class:"TD-cropper-wrap flex flex-col h-full overflow-hidden"},[rl("div",{ref:"imageWrapEl",class:"w-full h-full overflow-hidden relative"},[tz(rl("div",{class:"absolute z-10 w-full h-full remove-recent-image-bg flex justify-center items-center top-0 left-0"},[rl(uG,{class:"w-10 h-10"},null)]),[[rB,this.loading||this.cropping]]),rl("img",{ref:"imageEl",src:this.src,alt:"CroppingImage",width:"1000px"},null)]),rl(uX,{loading:this.cropping,disabled:this.loading,next:this.crop},{left:()=>{var e;let t;return rl(uD,{disabled:this.cropping,onClick:this.reset},"function"!=typeof(e=t=this.t("-"))&&("[object Object]"!==Object.prototype.toString.call(e)||rr(e))?{default:()=>[t]}:t)},center:()=>rl("div",{class:"flex-auto flex justify-center"},[rl("div",{class:"du-join mx-1"},[rl(uD,{class:"du-join-item",disabled:this.cropping,size:"sm",isSquare:!0,onClick:()=>this.zoomOut()},{default:()=>[rl("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[rl("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM13.5 10.5h-6"},null)])]}),rl(uD,{class:"du-join-item",disabled:this.cropping,size:"sm",isSquare:!0,onClick:()=>this.zoomIn()},{default:()=>[rl("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[rl("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM10.5 7.5v6m3-3h-6"},null)])]})]),rl("div",{class:"du-join x-1"},[rl(uD,{class:"du-join-item",disabled:this.cropping,size:"sm",isSquare:!0,onClick:()=>this.rotate(-1*this.angle)},{default:()=>[rl("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",class:"w-6 h-6"},[rl("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"},null),rl("path",{d:"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"},null)])]}),rl(uD,{class:"du-join-item",disabled:this.cropping,size:"sm",isSquare:!0,onClick:()=>this.rotate(this.angle)},{default:()=>[rl("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",class:"w-6 h-6"},[rl("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"},null),rl("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"},null)])]})])])})])}}),u3={key:1,width:"16",height:"16",viewBox:"-12 -4 32 32",xmlns:"http://www.w3.org/2000/svg"},u4=[rs("path",{d:"M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z"},null,-1)],u6=tq({__name:"ColorInputMenu",props:{iconClass:{default:"",type:String},inputType:{default:"RGB",type:String}},emits:["onChangeInputName"],setup(e,{emit:t}){let n=tc(e.inputType),r=["CMYK","HSL","HSV","RGB"],a=()=>{let e=r.findIndex(e=>e==n.value),a=r[e+1]?r[e+1]:r[0];n.value=a,t("onChangeInputName",a)};return(t,r)=>(n8(),rt("button",{type:"button",class:"cp-btn",onClick:a},[rc(el(n.value)+" ",1),e.iconClass?(n8(),rt("i",{key:0,class:er(e.iconClass)},null,2)):(n8(),rt("svg",u3,u4))]))}}),u8={class:"ck-cp-menu"},u7={class:"ck-cp-controller-bar",style:{display:"flex","justify-content":"end",position:"relative","flex-grow":"1"}},u9={key:1,width:"16",height:"16",viewBox:"-12 -4 32 32",xmlns:"http://www.w3.org/2000/svg"},ce=[rs("path",{d:"M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z"},null,-1)],ct={key:1,width:"16",height:"16",viewBox:"-12 -4 32 32",xmlns:"http://www.w3.org/2000/svg"},cn=[rs("path",{d:"M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z"},null,-1)],cr={key:1,width:"15",height:"28",viewBox:"0 -3 36 36",xmlns:"http://www.w3.org/2000/svg"},ca=[rd('<path d="M29.333 9.667h-8c-0.547 0-1-0.453-1-1s0.453-1 1-1h8c0.547 0 1 0.453 1 1s-0.453 1-1 1z"></path><path d="M8 9.667h-5.333c-0.547 0-1-0.453-1-1s0.453-1 1-1h5.333c0.547 0 1 0.453 1 1s-0.453 1-1 1z"></path><path d="M13.333 14.333c-3.12 0-5.667-2.547-5.667-5.667s2.547-5.667 5.667-5.667c3.12 0 5.667 2.547 5.667 5.667s-2.547 5.667-5.667 5.667zM13.333 5c-2.027 0-3.667 1.64-3.667 3.667s1.64 3.667 3.667 3.667c2.027 0 3.667-1.64 3.667-3.667s-1.64-3.667-3.667-3.667z"></path><path d="M29.333 24.333h-5.333c-0.547 0-1-0.453-1-1s0.453-1 1-1h5.333c0.547 0 1 0.453 1 1s-0.453 1-1 1z"></path><path d="M10.667 24.333h-8c-0.547 0-1-0.453-1-1s0.453-1 1-1h8c0.547 0 1 0.453 1 1s-0.453 1-1 1z"></path><path d="M18.667 29c-3.12 0-5.667-2.547-5.667-5.667s2.547-5.667 5.667-5.667c3.12 0 5.667 2.547 5.667 5.667s-2.547 5.667-5.667 5.667zM18.667 19.667c-2.027 0-3.667 1.64-3.667 3.667s1.64 3.667 3.667 3.667c2.027 0 3.667-1.64 3.667-3.667s-1.64-3.667-3.667-3.667z"></path>',6)],ci={key:0,class:"ck-cp-linear-angle-container"},co={class:"ck-gradient-set-label",style:{"margin-top":"0"}},cs=["value"],cl={key:1,class:"ck-cp-linear-angle-container"},cu={class:"ck-gradient-set-label",style:{"margin-top":"0"}},cc=["value"],cd={class:"ck-gradient-set-label"},ch=["value"],cp=tq({__name:"PickerMenu",props:{mode:{default:"gradient",type:String},inputType:{default:"RGB",type:String},gradientType:{default:"linear",type:String},showInputMenu:{default:!0,type:Boolean},showPickerMode:{default:!0,type:Boolean},angle:{default:90,type:Number},percentageX:{default:50,type:Number},percentageY:{default:50,type:Number},local:{default:{},type:Object},iconClasses:{default:{ruler:"",eyeDroper:"",arrowDown:"",save:"",delete:""},type:Object}},emits:["onPickerChangeMode","onChangeMode","onChangeInputType","onDeleteColor","onClickEyeDropper","update:angle","update:percentageX","update:percentageY","onInput"],setup(e,{emit:t}){let n=tc(!1),r=(e,n)=>{switch(n){case"angle":t("update:angle",parseInt(e.target.value)),t("onInput");break;case"percentageX":t("update:percentageX",parseInt(e.target.value)),t("onInput");break;case"percentageY":t("update:percentageY",parseInt(e.target.value)),t("onInput")}},a=e=>{t("onChangeInputType",e)},i=()=>{t("onChangeMode","linear"==e.gradientType?"radial":"linear")},o=()=>{t("onPickerChangeMode","gradient"==e.mode?"solid":"gradient")};return(t,s)=>(n8(),rt(n1,null,[rs("div",u8,[rs("div",u7,[e.showPickerMode?(n8(),rt("button",{key:0,type:"button",class:"cp-btn",onClick:o,style:{"margin-bottom":"var(--margin-top)"}},[tz(rs("span",null,el(e.local.gradient?e.local.gradient:"Gradient"),513),[[rB,"gradient"==e.mode]]),tz(rs("span",null,el(e.local.solid?e.local.solid:"Solid"),513),[[rB,"solid"==e.mode]]),e.iconClasses.arrowDown?(n8(),rt("i",{key:0,class:er(e.iconClasses.arrowDown)},null,2)):(n8(),rt("svg",u9,ce))])):rh("",!0),"gradient"==e.mode?(n8(),rt("button",{key:1,type:"button",class:"cp-btn",style:{"margin-bottom":"var(--margin-top)"},onClick:i},[tz(rs("span",null,el(e.local.linear?e.local.linear:"Linear"),513),[[rB,"linear"==e.gradientType]]),tz(rs("span",null,el(e.local.radial?e.local.radial:"Radial"),513),[[rB,"radial"==e.gradientType]]),e.iconClasses.arrowDown?(n8(),rt("i",{key:0,class:er(e.iconClasses.arrowDown)},null,2)):(n8(),rt("svg",ct,cn))])):rh("",!0),e.showInputMenu?(n8(),rn(u6,{key:2,style:{"margin-bottom":"var(--margin-top)"},iconClass:e.iconClasses.arrowDown,inputType:e.inputType,onOnChangeInputName:a},null,8,["iconClass","inputType"])):rh("",!0),"gradient"==e.mode?(n8(),rt("button",{key:3,type:"button",class:"cp-btn",style:{"margin-bottom":"var(--margin-top)"},onClick:s[0]||(s[0]=e=>n.value=!n.value)},[e.iconClasses.ruler?(n8(),rt("i",{key:0,class:er(e.iconClasses.ruler)},null,2)):(n8(),rt("svg",cr,ca))])):rh("",!0)])]),"gradient"==e.mode?tz((n8(),rt("div",ci,[rs("div",null,[rs("p",co,[rc(el(e.local.angle?e.local.angle:"Angle")+" ",1),rs("span",null,el(e.angle)+"\xb0",1)]),rs("input",{type:"range",min:"0",max:"360",value:e.angle,onInput:s[1]||(s[1]=e=>r(e,"angle"))},null,40,cs)])],512)),[[rB,"linear"==e.gradientType&&n.value]]):rh("",!0),"gradient"==e.mode&&n.value?tz((n8(),rt("div",cl,[rs("div",null,[rs("p",cu,[rc(el(e.local.positionX?e.local.positionX:"Position X")+" ",1),rs("span",null,el(e.percentageX)+"%",1)]),rs("input",{type:"range",min:"0",max:"100",value:e.percentageX,onInput:s[2]||(s[2]=e=>r(e,"percentageX"))},null,40,cc)]),rs("div",null,[rs("p",cd,[rc(el(e.local.positionY?e.local.positionY:"Position Y")+" ",1),rs("span",null,el(e.percentageY)+"%",1)]),rs("input",{type:"range",min:"0",max:"100",value:e.percentageY,onInput:s[3]||(s[3]=e=>r(e,"percentageY"))},null,40,ch)])],512)),[[rB,"radial"==e.gradientType]]):rh("",!0)],64))}}),cf=tq({__name:"GradientBar",emits:["onAddColor","onMouseDown"],setup(e,{emit:t}){let n=nE("gradientBar"),r=e=>{e.preventDefault()};return(e,t)=>(n8(),rt("div",{class:"gradient-bar",onMousedown:t[1]||(t[1]=t=>e.$emit("onMouseDown",t)),onDragstart:r},[rs("div",{ref_key:"gradientBar",ref:n,class:"gradient-container",onDblclick:t[0]||(t[0]=t=>e.$emit("onAddColor",t))},null,544)],32))}}),cm=rs("div",{class:"colour-area-mask"},null,-1),cg=tq({__name:"PickerWrap",emits:["onMouseDown"],setup(e){let t=nE("canvas"),n=nE("pickerWrap"),r=nE("pickerPointer"),a=e=>{e.preventDefault()};return(e,i)=>(n8(),rt("div",{ref_key:"pickerWrap",ref:n,class:"cp-picker-wrap",onMousedown:i[0]||(i[0]=t=>e.$emit("onMouseDown",t)),onDragstart:a},[rs("canvas",{ref_key:"canvas",ref:t,class:"colour-area"},null,512),cm,rs("div",{ref_key:"pickerPointer",ref:r,class:"colour-area-point-circle"},null,512)],544))}}),cv={class:"picker-hue"},cy=["value"],c_=tq({__name:"PickerHue",props:{modelValue:{default:0,type:Number}},emits:["update:modelValue","onInput","onChange"],setup(e,{emit:t}){let n=e=>{t("update:modelValue",parseFloat(e.target.value)),t("onInput",e)};return(t,r)=>(n8(),rt("div",cv,[rs("input",{value:e.modelValue,class:"picker-hue-range-slider",type:"range",min:"0",max:"360",step:"0.1",onInput:n,onChange:r[0]||(r[0]=e=>t.$emit("onChange",e))},null,40,cy)]))}}),cb={class:"opacity-bar"},cA=["value"],cw=tq({__name:"OpacityBar",props:{modelValue:{default:0,type:Number}},emits:["update:modelValue","onInput"],setup(e,{emit:t}){let n=nE("opacitySlider"),r=e=>{t("update:modelValue",parseInt(e.target.value)),t("onInput",e)};return(t,a)=>(n8(),rt("div",cb,[rs("input",{ref_key:"opacitySlider",ref:n,value:e.modelValue,class:"opacity_slider",type:"range",min:"0",max:"100",onInput:r},null,40,cA)]))}}),cx={class:"ck-cp-input-content"},cC={class:"ck-cp-input-label"},cS=["min","max","value"],ck=tq({__name:"InputNumber",props:{label:{default:"",type:String},modelValue:{default:0,type:Number},min:{default:0,type:Number},max:{default:100,type:Number}},emits:["update:modelValue"],setup(e,{emit:t}){let n=tc(e.modelValue);n$(()=>e.modelValue,(e,t)=>{e!==t&&(n.value=e)},{immediate:!0});let r=r=>{let a=e=>{n.value=e,t("update:modelValue",e)},i=r.target.value;return i?parseInt(i)>e.max?a(e.max):void t("update:modelValue",parseInt(i)):a(e.modelValue)},a=e=>{n.value=e.target.value},i=e=>{if(["KeyE","Equal","Equal","Backslash","Slash","NumpadDecimal","NumpadAdd"].includes(e.code))return e.preventDefault();"Enter"===e.code&&r(e)};return(t,o)=>(n8(),rt("div",cx,[rs("span",cC,el(e.label),1),rs("input",{type:"number",min:e.min,max:e.max,value:n.value,onInput:a,onKeydown:i,onFocusout:o[0]||(o[0]=(...e)=>tf(r)&&tf(r)(...e))},null,40,cS)]))}}),cE={class:"ck-cp-input-content color-hex"},cT=rs("span",{class:"ck-cp-input-label"},"HEX",-1),cO=["value"],cP=tq({__name:"InputHex",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){let n=tc(""),r=e=>{let t=e.target.value;n.value=t,n.value=`#${t.replace(/#/g,"")}`},a=r=>{let a=r.target.value;if(a===e.modelValue)return;if(!/^#[0-9a-fA-F]+$/.test(a)){n.value=e.modelValue;return}let i=a.replace(/#/g,"");switch(i.length){case 0:i=e.modelValue.replace("#","");break;case 1:case 2:i=i.repeat(3);break;case 4:case 5:i=i.slice(0,3);break;case 3:case 6:break;default:i=i.slice(0,6)}n.value=`#${i.toUpperCase()}`,t("update:modelValue",n.value)},i=e=>{"Enter"===e.code&&a(e)};return n$(()=>e.modelValue,(e,t)=>{e!==t&&(n.value=e)},{immediate:!0}),(e,t)=>(n8(),rt("div",cE,[cT,rs("input",{type:"text",value:n.value,onInput:r,onKeydown:i,onFocusout:t[0]||(t[0]=(...e)=>tf(a)&&tf(a)(...e))},null,40,cO)]))}}),cI=e=>{var t;try{let n=null==(t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,n,r)=>"#"+t+t+n+n+r+r).substring(1).match(/.{2}/g))?void 0:t.map(e=>parseInt(e,16)),r=null==n?void 0:n[0],a=null==n?void 0:n[1],i=null==n?void 0:n[2];return Number.isNaN(r)||Number.isNaN(a)||Number.isNaN(i)||void 0===r||void 0===a||void 0===i?null:{r:r,g:a,b:i}}catch{return null}},cM=(e,t,n)=>{let r,a=Math.max(e/=255,t/=255,n/=255),i=Math.min(e,t,n);return(r=(a===e?(t-n)/(a-i):a===t?2+(n-e)/(a-i):4+(e-t)/(a-i))*60)<0&&(r+=360),Number.isNaN(r)&&(r=0),r},cL=(e,t,n)=>"#"+(0x1000000+(n|t<<8|e<<16)).toString(16).slice(1),cD=(e,t,n)=>{var r,a;let i,o,s,l,u=(r=t/100,l=[],o=(i=(1-Math.abs(2*(a=n/100)-1))*r)*(1-Math.abs(e/60%2-1)),s=a-i/2,e>=0&&e<60&&(l=[i,o,0]),e>=60&&e<120&&(l=[o,i,0]),e>=120&&e<180&&(l=[0,i,o]),e>=180&&e<240&&(l=[0,o,i]),e>=240&&e<300&&(l=[o,0,i]),e>=300&&e<=360&&(l=[i,0,o]),l.map(e=>Math.round(255*(e+s))));return{rgb:u,hexA:cL(u[0],u[1],u[2])}},cR=(e,t,n)=>{let r,a,i,o,s,l=0,u=[];for(u[0]=e/255,u[1]=t/255,u[2]=n/255,r=u[0],a=u[0],s=0,i=0;i<u.length-1;i++)u[i+1]<=r&&(r=u[i+1]),u[i+1]>=a&&(a=u[i+1],s=i+1);return 0===s&&(l=(u[1]-u[2])/(a-r)),1===s&&(l=2+(u[2]-u[0])/(a-r)),2===s&&(l=4+(u[0]-u[1])/(a-r)),isNaN(l)&&(l=0),(l*=60)<0&&(l+=360),o=(r+a)/2,{h:l,s:r===a?0:o<.5?(a-r)/(a+r):(a-r)/(2-a-r),l:o}},cN=(e,t,n)=>{let r,a,i;if(e=e%360/360,t=Math.min(1,Math.max(0,t)),n=Math.min(1,Math.max(0,n)),0===t)r=a=i=n;else{let o=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<.16666666666666666?e+(t-e)*6*n:n<.5?t:n<.6666666666666666?e+(t-e)*(.6666666666666666-n)*6:e),s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=o(l,s,e+1/3),a=o(l,s,e),i=o(l,s,e-1/3)}return{r:r=Math.round(255*r),g:a=Math.round(255*a),b:i=Math.round(255*i)}},cj={class:"ck-cp-local-color-conatiner"},cF={class:"ck-cp-color-list-label"},cB={style:{display:"flex","align-items":"center"}},cU={key:1,width:"32",height:"14",viewBox:"5 -5 32 32",xmlns:"http://www.w3.org/2000/svg"},cV=[rs("path",{d:"M11.9995 16.8001C11.2995 16.8001 10.5995 16.5301 10.0695 16.0001L3.54953 9.48014C3.25953 9.19014 3.25953 8.71014 3.54953 8.42014C3.83953 8.13014 4.31953 8.13014 4.60953 8.42014L11.1295 14.9401C11.6095 15.4201 12.3895 15.4201 12.8695 14.9401L19.3895 8.42014C19.6795 8.13014 20.1595 8.13014 20.4495 8.42014C20.7395 8.71014 20.7395 9.19014 20.4495 9.48014L13.9295 16.0001C13.3995 16.5301 12.6995 16.8001 11.9995 16.8001Z"},null,-1)],cW={key:1,width:"18",height:"18",viewBox:"-2 -2 30 30",xmlns:"http://www.w3.org/2000/svg"},cz=[rd('<path d="M20.9997 6.72998C20.9797 6.72998 20.9497 6.72998 20.9197 6.72998C15.6297 6.19998 10.3497 5.99998 5.11967 6.52998L3.07967 6.72998C2.65967 6.76998 2.28967 6.46998 2.24967 6.04998C2.20967 5.62998 2.50967 5.26998 2.91967 5.22998L4.95967 5.02998C10.2797 4.48998 15.6697 4.69998 21.0697 5.22998C21.4797 5.26998 21.7797 5.63998 21.7397 6.04998C21.7097 6.43998 21.3797 6.72998 20.9997 6.72998Z"></path><path d="M8.50074 5.72C8.46074 5.72 8.42074 5.72 8.37074 5.71C7.97074 5.64 7.69074 5.25 7.76074 4.85L7.98074 3.54C8.14074 2.58 8.36074 1.25 10.6907 1.25H13.3107C15.6507 1.25 15.8707 2.63 16.0207 3.55L16.2407 4.85C16.3107 5.26 16.0307 5.65 15.6307 5.71C15.2207 5.78 14.8307 5.5 14.7707 5.1L14.5507 3.8C14.4107 2.93 14.3807 2.76 13.3207 2.76H10.7007C9.64074 2.76 9.62074 2.9 9.47074 3.79L9.24074 5.09C9.18074 5.46 8.86074 5.72 8.50074 5.72Z"></path><path d="M15.2104 22.7501H8.79039C5.30039 22.7501 5.16039 20.8201 5.05039 19.2601L4.40039 9.19007C4.37039 8.78007 4.69039 8.42008 5.10039 8.39008C5.52039 8.37008 5.87039 8.68008 5.90039 9.09008L6.55039 19.1601C6.66039 20.6801 6.70039 21.2501 8.79039 21.2501H15.2104C17.3104 21.2501 17.3504 20.6801 17.4504 19.1601L18.1004 9.09008C18.1304 8.68008 18.4904 8.37008 18.9004 8.39008C19.3104 8.42008 19.6304 8.77007 19.6004 9.19007L18.9504 19.2601C18.8404 20.8201 18.7004 22.7501 15.2104 22.7501Z"></path><path d="M13.6601 17.25H10.3301C9.92008 17.25 9.58008 16.91 9.58008 16.5C9.58008 16.09 9.92008 15.75 10.3301 15.75H13.6601C14.0701 15.75 14.4101 16.09 14.4101 16.5C14.4101 16.91 14.0701 17.25 13.6601 17.25Z"></path><path d="M14.5 13.25H9.5C9.09 13.25 8.75 12.91 8.75 12.5C8.75 12.09 9.09 11.75 9.5 11.75H14.5C14.91 11.75 15.25 12.09 15.25 12.5C15.25 12.91 14.91 13.25 14.5 13.25Z"></path>',5)],cH={class:"ck-cp-color-list"},c$=["onClick"],cK={key:1,width:"25",height:"25",viewBox:"2 2 20 20",xmlns:"http://www.w3.org/2000/svg"},cq=[rs("path",{d:"M18 12.75H6C5.59 12.75 5.25 12.41 5.25 12C5.25 11.59 5.59 11.25 6 11.25H18C18.41 11.25 18.75 11.59 18.75 12C18.75 12.41 18.41 12.75 18 12.75Z"},null,-1),rs("path",{d:"M12 18.75C11.59 18.75 11.25 18.41 11.25 18V6C11.25 5.59 11.59 5.25 12 5.25C12.41 5.25 12.75 5.59 12.75 6V18C12.75 18.41 12.41 18.75 12 18.75Z"},null,-1)],cG=tq({__name:"HistoryColorList",props:{colorListCount:{default:10,type:Number},hexVal:{default:"",type:String},title:{default:"",type:String},iconClasses:{default:{ruler:"",eyeDroper:"",arrowDown:"",save:"",delete:""},type:Object}},emits:["color-item-click"],setup(e,{emit:t}){let n=tc([]),r=rP(()=>n.value.some(e=>!0==e.selected)),a=()=>{if(!n.value.find(t=>t.color===e.hexVal)){let t=n.value.find(e=>!0==e.selected);if(t)t.color=e.hexVal;else{n.value.length===e.colorListCount&&n.value.pop();let t=e.hexVal;n.value.unshift({color:t,selected:!1})}localStorage.setItem("ck-cp-local-color-list",JSON.stringify(n.value.map(e=>e.color)))}},i=()=>{n.value=n.value.filter(e=>!1==e.selected),localStorage.setItem("ck-cp-local-color-list",JSON.stringify(n.value.map(e=>e.color)))};return t8(()=>{let e=localStorage.getItem("ck-cp-local-color-list");e&&(n.value=JSON.parse(e).map(e=>({color:e,selected:!1})))}),(o,s)=>(n8(),rt("div",cj,[rs("div",cF,[rs("div",cB,[rc(el(e.title?e.title:"Color Palette")+" ",1),e.iconClasses.arrowDown?(n8(),rt("i",{key:0,class:er(e.iconClasses.arrowDown)},null,2)):(n8(),rt("svg",cU,cV))]),r.value?(n8(),rt("button",{key:0,type:"button",class:"cp-main-btn",onClick:i,style:{width:"17.33px",height:"17.33px"}},[e.iconClasses.delete?(n8(),rt("i",{key:0,class:er(e.iconClasses.delete)},null,2)):(n8(),rt("svg",cW,cz))])):rh("",!0)]),rs("div",cH,[(n8(!0),rt(n1,null,function(e,t,n,r){let a,i,o=L(e);if(o||R(e)){let n=o&&tn(e),r=!1;n&&(r=!ta(e),e=ej(e)),a=Array(e.length);for(let n=0,o=e.length;n<o;n++)a[n]=t(r?ts(e[n]):e[n],n,void 0,i&&i[n])}else if("number"==typeof e){a=Array(e);for(let n=0;n<e;n++)a[n]=t(n+1,n,void 0,i&&i[n])}else if(j(e))if(e[Symbol.iterator])a=Array.from(e,(e,n)=>t(e,n,void 0,i&&i[n]));else{let n=Object.keys(e);a=Array(n.length);for(let r=0,o=n.length;r<o;r++){let o=n[r];a[r]=t(e[o],o,r,i&&i[r])}}else a=[];return a}(n.value,e=>(n8(),rt("div",{key:`color-${e.color}`,class:er(["ck-cp-color-item",e.selected?"ck-select":""]),style:Q({backgroundColor:e.color}),onClick:r=>{var a;return a=e.color,void(n.value.forEach(e=>{e.color===a?e.selected=!e.selected:e.selected=!1}),t("color-item-click",a))}},null,14,c$))),128)),rs("button",{type:"button",class:"cp-btn-save-color",onClick:a},[e.iconClasses.save?(n8(),rt("i",{key:0,class:er(e.iconClasses.save)},null,2)):(n8(),rt("svg",cK,cq))])])]))}}),cY=["cp-theme"],cX={key:0,style:{display:"flex","align-items":"center",gap:"8px","margin-top":"calc(var(--margin-top) * 1.35)",padding:"var(--padding)"}},cJ={key:1,width:"20",height:"20",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},cZ=[rd('<path d="M20.9997 6.72998C20.9797 6.72998 20.9497 6.72998 20.9197 6.72998C15.6297 6.19998 10.3497 5.99998 5.11967 6.52998L3.07967 6.72998C2.65967 6.76998 2.28967 6.46998 2.24967 6.04998C2.20967 5.62998 2.50967 5.26998 2.91967 5.22998L4.95967 5.02998C10.2797 4.48998 15.6697 4.69998 21.0697 5.22998C21.4797 5.26998 21.7797 5.63998 21.7397 6.04998C21.7097 6.43998 21.3797 6.72998 20.9997 6.72998Z"></path><path d="M8.50074 5.72C8.46074 5.72 8.42074 5.72 8.37074 5.71C7.97074 5.64 7.69074 5.25 7.76074 4.85L7.98074 3.54C8.14074 2.58 8.36074 1.25 10.6907 1.25H13.3107C15.6507 1.25 15.8707 2.63 16.0207 3.55L16.2407 4.85C16.3107 5.26 16.0307 5.65 15.6307 5.71C15.2207 5.78 14.8307 5.5 14.7707 5.1L14.5507 3.8C14.4107 2.93 14.3807 2.76 13.3207 2.76H10.7007C9.64074 2.76 9.62074 2.9 9.47074 3.79L9.24074 5.09C9.18074 5.46 8.86074 5.72 8.50074 5.72Z"></path><path d="M15.2104 22.7501H8.79039C5.30039 22.7501 5.16039 20.8201 5.05039 19.2601L4.40039 9.19007C4.37039 8.78007 4.69039 8.42008 5.10039 8.39008C5.52039 8.37008 5.87039 8.68008 5.90039 9.09008L6.55039 19.1601C6.66039 20.6801 6.70039 21.2501 8.79039 21.2501H15.2104C17.3104 21.2501 17.3504 20.6801 17.4504 19.1601L18.1004 9.09008C18.1304 8.68008 18.4904 8.37008 18.9004 8.39008C19.3104 8.42008 19.6304 8.77007 19.6004 9.19007L18.9504 19.2601C18.8404 20.8201 18.7004 22.7501 15.2104 22.7501Z"></path><path d="M13.6601 17.25H10.3301C9.92008 17.25 9.58008 16.91 9.58008 16.5C9.58008 16.09 9.92008 15.75 10.3301 15.75H13.6601C14.0701 15.75 14.4101 16.09 14.4101 16.5C14.4101 16.91 14.0701 17.25 13.6601 17.25Z"></path><path d="M14.5 13.25H9.5C9.09 13.25 8.75 12.91 8.75 12.5C8.75 12.09 9.09 11.75 9.5 11.75H14.5C14.91 11.75 15.25 12.09 15.25 12.5C15.25 12.91 14.91 13.25 14.5 13.25Z"></path>',5)],cQ={style:{display:"flex","align-items":"center",gap:"8px","margin-top":"calc(var(--margin-top) * 1.35)",padding:"var(--padding)"}},c0=rs("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"3 2 28 28"},[rs("path",{d:"M27.014 2.891l-0.058-0.058c-1.106-1.11-2.911-1.11-4.022 0l-2.515 2.515-0.072-0.072c-0.603-0.603-1.584-0.603-2.216 0.024-0.599 0.603-0.599 1.584 0 2.187l0.072 0.072-8.034 8.039c-1.135 1.13-1.878 2.617-2.1 4.2l-1.217 1.453c-0.483 0.483-0.483 1.265 0 1.743 0.241 0.246 0.565 0.367 0.883 0.367 0.304 0 0.608-0.111 0.826-0.338l1.487-1.241c1.584-0.227 3.071-0.97 4.205-2.1l8.034-8.039 0.072 0.072c0.299 0.299 0.69 0.449 1.086 0.449 0.401 0 0.811-0.159 1.13-0.478 0.29-0.29 0.449-0.676 0.449-1.091s-0.159-0.801-0.449-1.096l-0.072-0.068 2.515-2.515c1.106-1.11 1.106-2.916-0.005-4.027zM13.568 18.997c-1.014 1.014-2.356 1.671-3.78 1.844-0.092 0.014-0.179 0.048-0.251 0.111l-1.622 1.361c-0.106 0.106-0.275 0.106-0.381 0-0.101-0.106-0.101-0.275 0.029-0.41l1.337-1.593c0.058-0.072 0.097-0.159 0.106-0.251 0.174-1.424 0.83-2.766 1.844-3.78l8.039-8.034 2.718 2.718-8.039 8.034z"}),rs("path",{d:"M5.804 24.979c-0.275 0.328-1.651 2.023-1.651 2.998 0 1.115 0.908 2.023 2.018 2.023 1.115 0 2.023-0.908 2.023-2.023 0-0.975-1.376-2.67-1.651-2.998-0.183-0.222-0.555-0.222-0.739 0z"})],-1),c1={style:{"flex-grow":"1",display:"flex","flex-direction":"column",gap:"calc(var(--margin-top) * 1.85)"}},c2={id:"ck-cp-target-background"},c5={key:1,class:"ck-cp-input-container"},c3={key:3,class:"ck-cp-buttons"},c4=tq({__name:"Vue3ColorPicker",props:{modelValue:{default:"",type:String},mode:{default:"gradient",type:String},type:{default:"HEX8",type:String},inputType:{default:"RGB",type:String},theme:{default:"light",type:String},colorListCount:{default:15,type:Number},showColorList:{default:!0,type:Boolean},showEyeDrop:{default:!0,type:Boolean},showPickerMode:{default:!0,type:Boolean},showAlpha:{default:!0,type:Boolean},showInputMenu:{default:!0,type:Boolean},showInputSet:{default:!0,type:Boolean},disabled:{default:!1,type:Boolean},gradientMode:{default:"linear",type:String},local:{default:{angle:"",positionX:"",positionY:"",solid:"",gradient:"",linear:"",radial:"",colorPalette:"",btnSaveLabel:"Save",btnCancelLabel:"Cancel"},type:Object},iconClasses:{default:{linear:"",radial:"",ruler:"",eyeDroper:"",inputMenu:"",save:"",delete:""},type:Object},showButtons:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){let n=tc(null),r=tc(e.mode),a=tc(e.modelValue),i=tc(e.modelValue),o=n=>{a.value=n,e.showButtons||(i.value=n,t("update:modelValue",n))},s=tc([{id:1,r:68,g:71,b:119,a:100,percent:0,hue:0,select:!0},{id:2,r:0,g:0,b:255,a:100,percent:100,hue:0,select:!1}]),l=tc(!1),u=tc(e.gradientMode),c=e9({angle:90,percentageX:50,percentageY:50}),d=tc(""),h=tc(e.inputType),p=tc(!1),f=tc(),m=tc(),g=tc(),y=tc(),_=tc(),b=e9({h:0,s:0,l:0}),A=e9({h:0,s:0,v:0}),w=e9({c:0,m:0,y:0,k:0});nk("gradientBar",m),nk("canvas",g),nk("pickerWrap",y),nk("pickerPointer",_),nk("opacitySlider",f);let x=0,C=0,S=0,k=0,E=0,T=0,O=e=>{y.value&&_.value&&(E=y.value.offsetHeight-_.value.offsetHeight,T=y.value.offsetWidth-_.value.offsetWidth,S=e.clientX-e.target.getBoundingClientRect().left,k=e.clientY-e.target.getBoundingClientRect().top,x=S-_.value.offsetWidth/2,C=k-_.value.offsetHeight/2,_.value.style.left=`${x}px`,_.value.style.top=`${C}px`,M(!1),es(),window.addEventListener("mousemove",P),window.addEventListener("mouseup",I))},P=e=>{e.preventDefault();let t=y.value.getBoundingClientRect(),n=e.clientX-t.left-_.value.offsetWidth/2,r=e.clientY-t.top-_.value.offsetHeight/2;n>=0&&n<=T?(x=n,_.value.style.left=`${n}px`):0>n?(x=0,_.value.style.left="0px"):n>T&&(x=T,_.value.style.left=`${T}px`),r>=0&&r<=E?(C=r,_.value.style.top=`${r}px`):0>r?(C=0,_.value.style.top="0px"):r>E&&(C=E,_.value.style.top=`${E}px`),M(!1),es()},I=()=>{window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",I)},M=e=>{if(!e){let e=R(),t=cN(L.value,e.s,e.l);if(t){if(p.value){let e=s.value.find(e=>!0==e.select);e&&(e.r=t.r,e.g=t.g,e.b=t.b)}X(),J()}}},L=tc(0),D=async e=>{let{rgb:t}=cD(L.value,100,50);Y(t),setTimeout(()=>{M(e),es()},0)},R=()=>{let e={s:0,l:0},t=y.value.offsetWidth-_.value.offsetWidth,n=y.value.offsetHeight-_.value.offsetHeight,r=parseInt(_.value.style.left),a=1-parseInt(_.value.style.top)/n,i=r/t;return e.l=a/2*(2-i),e.s=a*i/(1-Math.abs(2*e.l-1)),Number.isNaN(e.s)&&(e.s=e.l),e.l=e.l>1?1:e.l,e.s=e.s>1?1:e.s,e},N=()=>{let e=s.value.find(e=>!0==e.select);if(!e)return null;{let{l:t,s:n}=cR(e.r,e.g,e.b),r=n;Number.isNaN(r)&&(r=t);let a={x:0,y:0},i=y.value.offsetWidth-_.value.offsetWidth,o=y.value.offsetHeight-_.value.offsetHeight,[s,l]=2*t-1<0?[2*i*r/(1+r),o*(1-t*(1+r))]:[-(2*i)*(t-1)*r/(t+r-t*r),o*(t-1)*(r-1)];return a.x=s,a.y=l,a}},j=()=>{let e=s.value.find(e=>!0==e.select);e&&(e.hue=L.value)},F=tc(100),B=t=>{if(e.showAlpha){let e=t.target,n=s.value.find(e=>!0==e.select);n&&(n.a=parseInt(e.value),J())}},U=null,V=null,W=e=>{var t,r;let a=e.target.offsetParent;if(null!=(t=null==a?void 0:a.id)&&t.includes("clr-gb-")){let e=a.id.replace("clr-gb-","");V=a;let t=s.value.find(e=>!0==e.select);if(t&&t.id!=e){let t=null==(r=n.value)?void 0:r.querySelector(".gradient-handle.select");null==t||t.classList.remove("select"),a.classList.add("select");let i=s.value.findIndex(e=>!0==e.select);for(let t=0;t<s.value.length;t++){let n=s.value[t];if(n.id==e){-1!=i&&(s.value[i].select=!1),s.value[t].select=!0,F.value=n.a,q(n.r,n.g,n.b,n.hue,!0),X(),es();break}}}window.addEventListener("mousemove",H),window.addEventListener("mouseup",z)}},z=()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",W)},H=e=>{var t,r;e.preventDefault();let a=null==(r=null==(t=n.value)?void 0:t.querySelector(".gradient-handle-content"))?void 0:r.getBoundingClientRect(),i=null==U?void 0:U.getBoundingClientRect(),o=(null==i?void 0:i.width)-(null==a?void 0:a.width),l=e.clientX-((null==i?void 0:i.left)||0)-((null==a?void 0:a.width)||0)/2;if(l<0?l=0:l>o&&(l=o),V){V.style.left=`${l}px`;let e=parseFloat((l/((null==i?void 0:i.width)-(null==a?void 0:a.width))*100).toFixed(0)),t=s.value.find(e=>e.id==(null==V?void 0:V.id.replace("clr-gb-","")));t&&(t.percent=e),J()}},$=e=>{var t,r;let a=null==U?void 0:U.getBoundingClientRect(),i=Math.round((e.clientX-((null==a?void 0:a.left)||0))/((null==a?void 0:a.width)||1)*100),o=s.value.findIndex(e=>!0==e.select),l=s.value[o],u={id:Date.now(),r:l.r,g:l.g,b:l.b,a:l.a,percent:i,hue:l.hue,select:!0};s.value[o].select=!1;let c=null==(t=n.value)?void 0:t.querySelector(".gradient-handle.select");null==c||c.classList.remove("select"),s.value=[...s.value,u],G(u),V=null==(r=n.value)?void 0:r.querySelector(`#clr-gb-${u.id}`),J()},K=e=>{if(0==e.r&&0==e.g&&0==e.b||255==e.r&&255==e.g&&255==e.b)return!0;{let t=g.value.getContext("2d",{willReadFrequently:!0}),n=g.value.width,r=g.value.height,a=t.getImageData(0,0,n,r).data,i=e.r,o=e.g,s=e.b;for(let e=0;e<r;e++)for(let t=0;t<n;t++){let r=(e*n+t)*4,l=a[r],u=a[r+1],c=a[r+2];if(l===i&&u===o&&c===s)return!0}return!1}},q=(e,t,n,r,a)=>{setTimeout(()=>{if(K({r:e,g:t,b:n})){let e=N();e&&(_.value.style.left=`${e.x}px`,_.value.style.top=`${e.y}px`)}else{let e=N();e&&(_.value.style.left=`${e.x}px`,_.value.style.top=`${e.y}px`),L.value=r,D(a)}},0)},G=e=>{if("gradient"==r.value){var t,a,i,o,s;let r,l=document.createElement("div");l.id=`clr-gb-${e.id}`,l.classList.add("gradient-handle"),l.style.left=(t=e.percent,r=null==(i=null==(a=n.value)?void 0:a.querySelector(".gradient-handle-content"))?void 0:i.getBoundingClientRect(),0===t?"0px":100===t&&r?`${((null==(o=m.value)?void 0:o.offsetWidth)||0)-(r.width||0)}px`:`${((null==(s=m.value)?void 0:s.offsetWidth)||0)*(t/100)-((null==r?void 0:r.width)||0)/2}px`);let u=document.createElement("div");u.classList.add("gradient-handle-content"),!0==e.select&&l.classList.add("select"),l.appendChild(u),U&&U.appendChild(l)}},Y=e=>{let t=g.value.getContext("2d",{willReadFrequently:!0}),n=g.value.width,r=g.value.height;t.fillStyle=`rgb(${e[0]},${e[1]},${e[2]})`,t.fillRect(0,0,n,r);let a=t.createLinearGradient(0,0,n-12,0);a.addColorStop(0,"rgb(255,255,255)"),a.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=a,t.fillRect(0,0,n,r);let i=t.createLinearGradient(0,0,0,r);i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgb(0,0,0)"),t.fillStyle=i,t.fillRect(0,0,n,r)},X=()=>{if(e.showAlpha){let e=s.value.find(e=>!0==e.select);e&&(f.value.style.background=` linear-gradient(90deg,rgba(255, 255, 255, 0) 0%, rgba(${e.r}, ${e.g}, ${e.b}, 100) 97%)`)}},J=()=>{var t;if("gradient"==r.value){s.value.sort((e,t)=>e.percent-t.percent);let e="linear-gradient(90deg, ",r;if("linear"==u.value){r=`linear-gradient(${c.angle}deg, `;for(let t=0;t<s.value.length;t++){let{r:n,g:a,b:i,a:o,percent:l}=s.value[t];s.value.length-1==t?(e+=`rgba(${n},${a},${i},${o/100}) ${l}%)`,r+=`rgba(${n},${a},${i},${o/100}) ${l}%)`):(e+=`rgba(${n},${a},${i},${o/100}) ${l}%, `,r+=`rgba(${n},${a},${i},${o/100}) ${l}%, `)}}else{r=`radial-gradient(circle at ${c.percentageX}% ${c.percentageY}%, `;for(let t=0;t<s.value.length;t++){let{r:n,g:a,b:i,a:o,percent:l}=s.value[t];s.value.length-1==t?(e+=`rgba(${n},${a},${i},${o/100}) ${l}%)`,r+=`rgba(${n},${a},${i},${o/100}) ${l}%)`):(e+=`rgba(${n},${a},${i},${o/100}) ${l}%, `,r+=`rgba(${n},${a},${i},${o/100}) ${l}%, `)}}m.value.style.backgroundImage=e;let a=null==(t=n.value)?void 0:t.querySelector("#ck-cp-target-background");a&&(a.style.backgroundImage=r,p.value&&o(a.style.backgroundImage))}else{let{r:t,g:n,b:r,a:a}=s.value[0],i="";switch(e.type){case"HEX8":i=((e,t,n,r)=>{function a(e){let t=e.toString(16);return 1===t.length?"0"+t:t}let i=a(Math.round(e)),o=a(Math.round(t)),s=a(Math.round(n)),l=a(Math.round(255*r));return`#${i}${o}${s}${l}`})(t,n,r,a/100);break;case"RGBA":i=`rgba(${t},${n},${r},${a/100})`;break;case"RGB":i=`rgb(${t},${n},${r})`;break;case"HEX":i=cL(t,n,r)}p.value&&o(i)}},Z=e=>{u.value=e,J()},Q=()=>{var e,t;if(s.value.length>2){let r=s.value.findIndex(e=>!0==e.select);if(-1!==r){let a=s.value[r].id;s.value.splice(r,1);let i=null==(e=n.value)?void 0:e.querySelector(`#clr-gb-${a}`);null==i||i.remove();let o=s.value[0];o&&(o.select=!0,null==(V=null==(t=n.value)?void 0:t.querySelector(`#clr-gb-${o.id}`))||V.classList.add("select"),q(o.r,o.g,o.b,o.hue,!1),es(),J())}}},ee=()=>{var e;let t=null==(e=n.value)?void 0:e.querySelector("#cp-btn-eyedropper");null==t||t.classList.add("active"),new EyeDropper().open().then(e=>{let{sRGBHex:n}=e,r=s.value.find(e=>!0==e.select),a=cI(n);if(a){let e=cM(a.r,a.g,a.b);if(r&&(r.hue=e,r.r=a.r,r.g=a.g,r.b=a.b),K(a)){let e=N();e&&(_.value.style.left=`${e.x}px`,_.value.style.top=`${e.y}px`)}else{L.value=e;let{rgb:t}=cD(e,100,50);Y(t);let n=N();n&&(_.value.style.left=`${n.x}px`,_.value.style.top=`${n.y}px`)}es(),X(),J(),null==t||t.classList.remove("active")}}).catch(()=>{null==t||t.classList.remove("active")})},et=(e,t)=>{if("a"!=t){let e=s.value.find(e=>!0==e.select);if(e){let t=cM(e.r,e.g,e.b);e.hue=t,q(e.r,e.g,e.b,e.hue,!0),J(),X()}}else F.value=e,J(),X()},en=()=>{let e=s.value.find(e=>!0==e.select);if(e&&!Number.isNaN(b.h)&&!Number.isNaN(b.s)&&!Number.isNaN(b.l)){let{r:t,g:n,b:r}=cN(b.h,b.s/100,b.l/100);e.hue=b.h,e.r=t,e.g=n,e.b=r,q(e.r,e.g,e.b,e.hue,!0),J(),X()}},ea=()=>{let e=s.value.find(e=>!0==e.select);if(e&&!Number.isNaN(A.h)&&!Number.isNaN(A.s)&&!Number.isNaN(A.v)){var t,n;let r,{r:a,g:i,b:o}=((e,t,n)=>{let r=0,a=0,i=0,o=e/60,s=n*t,l=s*(1-Math.abs(o%2-1)),u=n-s;switch(Math.floor(o)%6){case 0:r=s,a=l,i=0;break;case 1:r=l,a=s,i=0;break;case 2:r=0,a=s,i=l;break;case 3:r=0,a=l,i=s;break;case 4:r=l,a=0,i=s;break;case 5:r=s,a=0,i=l}return{r:Math.round((r+u)*255),g:Math.round((a+u)*255),b:Math.round((i+u)*255)}})(A.h,A.s/100,A.v/100),{h:s}={h:A.h,s:(r=(2-(t=A.s/100))*(n=A.v/100)/2)&&r<1?t*n/(r<.5?2*r:2-2*r):t,l:r};e.hue=s,e.r=a,e.g=i,e.b=o,q(e.r,e.g,e.b,e.hue,!0),J(),X()}},ei=()=>{let e=s.value.find(e=>!0==e.select);if(e&&!Number.isNaN(w.c)&&!Number.isNaN(w.m)&&!Number.isNaN(w.y)&&!Number.isNaN(w.k)){var t,n,r,a;let{r:i,g:o,b:s}=(t=w.c/100,n=w.m/100,r=w.y/100,{r:Math.min(255,Math.max(0,Math.round(255*(1-t)*(1-(a=w.k/100))))),g:Math.min(255,Math.max(0,Math.round(255*(1-n)*(1-a)))),b:Math.min(255,Math.max(0,Math.round(255*(1-r)*(1-a))))});e.hue=cM(i,o,s),e.r=i,e.g=o,e.b=s,q(e.r,e.g,e.b,e.hue,!0),J(),X()}},eo=()=>{if(d.value){let e=cI(d.value);if(e){let t=cM(e.r,e.g,e.b),n=s.value.find(e=>!0==e.select);n&&(n.r=e.r,n.g=e.g,n.b=e.b,n.hue=t,q(e.r,e.g,e.b,n.hue,!0),J(),X(),ec(h.value))}}},es=()=>{let e=s.value.find(e=>!0==e.select);e&&(d.value=cL(e.r,e.g,e.b).toUpperCase()),ec(h.value)},eu=e=>{d.value=e;let t=cI(d.value);if(t){let e=cM(t.r,t.g,t.b),n=s.value.find(e=>!0==e.select);n&&(n.r=t.r,n.g=t.g,n.b=t.b,n.hue=e,q(t.r,t.g,t.b,n.hue,!0),J(),X())}};window.EyeDropper&&(l.value=!0);let ec=e=>{let t=s.value.find(e=>!0==e.select);if(t){var n,r,a,i,o,l;switch(e){case"RGB":break;case"HSL":{let{h:e,s:n,l:r}=cR(t.r,t.g,t.b);b.h=Math.round(e),b.s=Math.round(100*n),b.l=Math.round(100*r);break}case"HSV":{let e,i,o,s,{h:l,s:u,v:c}=(n=t.r,r=t.g,a=t.b,n/=255,r/=255,s=(e=Math.max(n,r,a/=255))-Math.min(n,r,a),0===e?{h:0,s:0,v:0}:(o=s/e,(i=0===s?0:e===n?(r-a)/s%6*60:e===r?60*((a-n)/s+2):60*((n-r)/s+4))<0&&(i+=360),{h:Math.round(i),s:Math.round(100*o)/100,v:Math.round(100*e)/100}));A.h=Math.round(l),A.s=Math.round(100*u),A.v=Math.round(100*c);break}case"CMYK":{let e,n,r,a,{c:s,m:u,y:c,k:d}=(i=t.r,o=t.g,l=t.b,i/=255,o/=255,e=1-Math.max(i,o,l/=255),n=(1-i-e)/(1-e),r=(1-o-e)/(1-e),a=(1-l-e)/(1-e),{c:isNaN(n)?0:n,m:isNaN(r)?0:r,y:isNaN(a)?0:a,k:isNaN(e)?0:e});w.c=Math.round(100*s),w.m=Math.round(100*u),w.y=Math.round(100*c),w.k=Math.round(100*d)}}h.value=e}},ed=t=>{r.value=t,setTimeout(()=>{var t;"gradient"==r.value&&(U=null==(t=n.value)?void 0:t.querySelector(".gradient-bar")),eh(e.modelValue),ec(h.value)},0)},eh=t=>{let n;t&&((t="")=>{if("gradient"==r.value){let n=t?t.includes("linear-gradient")?"linear":"radial":e.gradientMode,r=[];if(u.value=n,"linear"==n){let e=t.replace(";","").trim().match(/^linear-gradient\((.*)\)$/);if(e){let t=e[1].split(/,\s*(?![^()]*\))/);for(let e=0;e<t.length;e++){let n=t[e],a={id:e,r:0,g:0,b:0,a:100,percent:100,hue:0,select:!1};if(n.includes("deg"))c.angle=parseInt(n.replace("deg",""));else if(n.includes("rgba")){let e=n.trim().replace(/rgba|\(|\)|%/g,"").replace(/,/g," ").split(" ");a.r=parseInt((e=e.filter(e=>""!==e.trim()))[0]),a.g=parseInt(e[1]),a.b=parseInt(e[2]),a.a=100*parseFloat(e[3]),a.percent=parseInt(e[4]),r.push(a)}else if(n.includes("rgb")){let e=n.trim().replace(/rgb|\(|\)|%/g,"").replace(/,/g," ").split(" ");a.r=parseInt((e=e.filter(e=>""!==e.trim()))[0]),a.g=parseInt(e[1]),a.b=parseInt(e[2]),a.percent=parseInt(e[3]),r.push(a)}}}}else{let e=t.replace(";","").trim().match(/^radial-gradient\((.*)\)$/);if(e){let t=e[1].split(/,\s*(?![^()]*\))/);for(let e=0;e<t.length;e++){let n=t[e],a={id:e,r:0,g:0,b:0,a:100,percent:100,hue:0,select:!1};if(n.includes("circle at")){let e=n.replace("circle at ","").replace(" ","").replace(/%/g," ").trim().split(" ");c.percentageX=parseInt(e[0]),c.percentageY=parseInt(e[1])}else if(n.includes("rgba")){let e=n.replace(/rgba|\(|\)|%/g,"").replace(/,/g," ").split(" ");a.r=parseInt((e=e.filter(e=>""!==e.trim()))[0]),a.g=parseInt(e[1]),a.b=parseInt(e[2]),a.a=100*parseFloat(e[3]),a.percent=parseInt(e[4]),r.push(a)}else if(n.includes("rgb")){let e=n.replace(/rgb|\(|\)|%/g,"").replace(/,/g," ").split(" ");a.r=parseInt((e=e.filter(e=>""!==e.trim()))[0]),a.g=parseInt(e[1]),a.b=parseInt(e[2]),a.percent=parseInt(e[3]),r.push(a)}}}}r.length>1&&(s.value=r,s.value[0].select=!0,F.value=s.value[0].a),console.log(r)}else if(t){let e={r:0,g:0,b:0,a:0};if(t.includes("#"))if(t.length>=8)e=(e=>{let t=/^#?([a-f\d]{8})$/i;if(!t.test(e))return null;let n=t.exec(e);if(!n)return null;let r=n[1],a=r.substring(6,8);return{r:parseInt(r.substring(0,2),16),g:parseInt(r.substring(2,4),16),b:parseInt(r.substring(4,6),16),a:parseInt(a,16)/255}})(t);else{let n=cI(t);n?(e.a=1,e.r=n.r,e.g=n.g,e.b=n.b):e=null}else if(t.includes("rgb"))if(t.includes("rgba"))e=(e=>{let t=/^rgba?\((\s*\d+\s*),(\s*\d+\s*),(\s*\d+\s*),(\s*[\d.]+\s*)\)$/i;if(!t.test(e))return null;let n=t.exec(e);return n?{r:parseInt(n[1].trim(),10),g:parseInt(n[2].trim(),10),b:parseInt(n[3].trim(),10),a:parseFloat(n[4].trim())}:null})(t);else{let n=(e=>{let t=/^rgb\((\s*\d+\s*),(\s*\d+\s*),(\s*\d+\s*)\)$/i;if(!t.test(e))return null;let n=t.exec(e);return n?{r:parseInt(n[1].trim(),10),g:parseInt(n[2].trim(),10),b:parseInt(n[3].trim(),10)}:null})(t);n?(e.a=1,e.r=n.r,e.g=n.g,e.b=n.b):e=null}e&&(s.value[0].r=e.r,s.value[0].b=e.b,s.value[0].g=e.g,s.value[0].a=parseInt((100*e.a).toFixed(0)),F.value=s.value[0].a,s.value[0].hue=0)}})(t),s.value.forEach(e=>G(e)),s.value.forEach(e=>{e.hue=cM(e.r,e.g,e.b)}),L.value=s.value[0].hue,D(!0),(n=N())&&(_.value.style.left=`${n.x}px`,_.value.style.top=`${n.y}px`),X(),J()},ep=()=>{i.value=a.value,t("update:modelValue",i.value)},ef=()=>{s.value.forEach(e=>{let t=null==U?void 0:U.querySelector(`#clr-gb-${e.id}`);null==t||t.remove()})},em=()=>{a.value=i.value,ef(),eh(a.value)};return n$(()=>e.modelValue,(e,t)=>{e!==t&&e!==i.value&&(ef(),eh(e))},void 0),t7(()=>{var t;"gradient"==r.value&&(U=null==(t=n.value)?void 0:t.querySelector(".gradient-bar")),eh(e.modelValue),ec(h.value),p.value=!0}),(t,a)=>(n8(),rt("div",{class:er(["ck-cp-container",e.disabled?"ck-cp-disabled ":""]),ref_key:"pickerTemplateRef",ref:n,"cp-theme":e.theme},[rl(cp,{angle:c.angle,"onUpdate:angle":a[0]||(a[0]=e=>c.angle=e),percentageX:c.percentageX,"onUpdate:percentageX":a[1]||(a[1]=e=>c.percentageX=e),percentageY:c.percentageY,"onUpdate:percentageY":a[2]||(a[2]=e=>c.percentageY=e),local:e.local,iconClasses:e.iconClasses,inputType:h.value,mode:r.value,showInputMenu:e.showInputMenu,gradientType:u.value,showPickerMode:e.showPickerMode,onOnChangeMode:Z,onOnInput:J,onOnClickEyeDropper:ee,onOnDeleteColor:Q,onOnChangeInputType:ec,onOnPickerChangeMode:ed},null,8,["angle","percentageX","percentageY","local","iconClasses","inputType","mode","showInputMenu","gradientType","showPickerMode"]),rl(cg,{onOnMouseDown:O}),"gradient"==r.value?(n8(),rt("div",cX,[rs("button",{type:"button",class:"cp-main-btn",onClick:Q},[e.iconClasses.delete?(n8(),rt("i",{key:0,class:er(e.iconClasses.delete)},null,2)):(n8(),rt("svg",cJ,cZ))]),rl(cf,{onOnAddColor:$,onOnMouseDown:W})])):rh("",!0),rs("div",cQ,[l.value&&e.showEyeDrop?(n8(),rt("button",{key:0,type:"button",id:"cp-btn-eyedropper",class:"cp-main-btn",onClick:ee},[e.iconClasses.eyeDroper?(n8(),rt("i",{key:0,class:er(e.iconClasses.eyeDroper)},null,2)):rh("",!0),c0])):rh("",!0),rs("div",c1,[rl(c_,{modelValue:L.value,"onUpdate:modelValue":a[3]||(a[3]=e=>L.value=e),showEyeDrop:e.showEyeDrop,isEyeDropperUsing:l.value,onOnInput:a[4]||(a[4]=e=>D(!1)),onOnChange:j,onOnClickEyeDropper:ee},null,8,["modelValue","showEyeDrop","isEyeDropperUsing"]),e.showAlpha?(n8(),rn(cw,{key:0,modelValue:F.value,"onUpdate:modelValue":a[5]||(a[5]=e=>F.value=e),onOnInput:B},null,8,["modelValue"])):rh("",!0)])]),tz(rs("div",c2,null,512),[[rB,!1]]),p.value&&e.showInputSet?(n8(),rt("div",c5,["CMYK"!==h.value?(n8(),rn(cP,{key:0,modelValue:d.value,"onUpdate:modelValue":[a[6]||(a[6]=e=>d.value=e),eo]},null,8,["modelValue"])):rh("",!0),"RGB"==h.value?(n8(),rn(ck,{key:1,label:"R",min:0,max:255,modelValue:s.value.find(e=>!0==e.select).r,"onUpdate:modelValue":[a[7]||(a[7]=e=>s.value.find(e=>!0==e.select).r=e),a[8]||(a[8]=e=>et(e,"r"))]},null,8,["modelValue"])):rh("",!0),"RGB"==h.value?(n8(),rn(ck,{key:2,label:"G",min:0,max:255,modelValue:s.value.find(e=>!0==e.select).g,"onUpdate:modelValue":[a[9]||(a[9]=e=>s.value.find(e=>!0==e.select).g=e),a[10]||(a[10]=e=>et(e,"g"))]},null,8,["modelValue"])):rh("",!0),"RGB"==h.value?(n8(),rn(ck,{key:3,label:"B",min:0,max:255,modelValue:s.value.find(e=>!0==e.select).b,"onUpdate:modelValue":[a[11]||(a[11]=e=>s.value.find(e=>!0==e.select).b=e),a[12]||(a[12]=e=>et(e,"b"))]},null,8,["modelValue"])):rh("",!0),"HSL"==h.value?(n8(),rn(ck,{key:4,label:"H",min:0,max:360,modelValue:b.h,"onUpdate:modelValue":[a[13]||(a[13]=e=>b.h=e),en]},null,8,["modelValue"])):rh("",!0),"HSL"==h.value?(n8(),rn(ck,{key:5,label:"S",min:0,max:100,modelValue:b.s,"onUpdate:modelValue":[a[14]||(a[14]=e=>b.s=e),en]},null,8,["modelValue"])):rh("",!0),"HSL"==h.value?(n8(),rn(ck,{key:6,label:"L",min:0,max:100,modelValue:b.l,"onUpdate:modelValue":[a[15]||(a[15]=e=>b.l=e),en]},null,8,["modelValue"])):rh("",!0),"HSV"==h.value?(n8(),rn(ck,{key:7,label:"H",min:0,max:360,modelValue:A.h,"onUpdate:modelValue":[a[16]||(a[16]=e=>A.h=e),ea]},null,8,["modelValue"])):rh("",!0),"HSV"==h.value?(n8(),rn(ck,{key:8,label:"S",min:0,max:100,modelValue:A.s,"onUpdate:modelValue":[a[17]||(a[17]=e=>A.s=e),ea]},null,8,["modelValue"])):rh("",!0),"HSV"==h.value?(n8(),rn(ck,{key:9,label:"V",min:0,max:100,modelValue:A.v,"onUpdate:modelValue":[a[18]||(a[18]=e=>A.v=e),ea]},null,8,["modelValue"])):rh("",!0),"CMYK"==h.value?(n8(),rn(ck,{key:10,label:"C",min:0,max:100,modelValue:w.c,"onUpdate:modelValue":[a[19]||(a[19]=e=>w.c=e),ei]},null,8,["modelValue"])):rh("",!0),"CMYK"==h.value?(n8(),rn(ck,{key:11,label:"M",min:0,max:100,modelValue:w.m,"onUpdate:modelValue":[a[20]||(a[20]=e=>w.m=e),ei]},null,8,["modelValue"])):rh("",!0),"CMYK"==h.value?(n8(),rn(ck,{key:12,label:"Y",min:0,max:100,modelValue:w.y,"onUpdate:modelValue":[a[21]||(a[21]=e=>w.y=e),ei]},null,8,["modelValue"])):rh("",!0),"CMYK"==h.value?(n8(),rn(ck,{key:13,label:"K",min:0,max:100,modelValue:w.k,"onUpdate:modelValue":[a[22]||(a[22]=e=>w.k=e),ei]},null,8,["modelValue"])):rh("",!0),e.showAlpha?(n8(),rn(ck,{key:14,label:"A",min:0,max:100,style:{"margin-right":"2px"},modelValue:s.value.find(e=>!0==e.select).a,"onUpdate:modelValue":[a[23]||(a[23]=e=>s.value.find(e=>!0==e.select).a=e),a[24]||(a[24]=e=>et(e,"a"))]},null,8,["modelValue"])):rh("",!0)])):rh("",!0),e.showColorList?(n8(),rn(cG,{key:2,"color-list-count":e.colorListCount,"hex-val":d.value,onColorItemClick:eu,iconClasses:e.iconClasses,title:e.local.colorPalette},null,8,["color-list-count","hex-val","iconClasses","title"])):rh("",!0),e.showButtons?(n8(),rt("div",c3,[rs("button",{class:"ck-cp-buttons__button ck-cp-buttons__button--save",type:"button",onClick:ep},el(e.local.btnSaveLabel),1),rs("button",{class:"ck-cp-buttons__button ck-cp-buttons__button--cancel",type:"button",onClick:em},el(e.local.btnCancelLabel),1)])):rh("",!0)],10,cY))}}),c6=tq({render:()=>rl("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6 shadow-sm rounded-full overflow-hidden"},[rl("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z","clip-rule":"evenodd"},null)])}),c8=tq({props:{defaultColor:String,modelValue:String},emits:["update:modelValue","update","change"],setup(e,{emit:t}){let{t:n}=i2(),r=tc(e.defaultColor),a=tc(e.modelValue),i=tc(""),o=tc(!1),s=rP(()=>{let e=["#ffffff","#000000","#e70212","#ea6101","#ee9a01","#fcc902","#fef100","#90c420","#019a44","#019e97","#0169b8","#1e208b","#621988","#920783"].map(e=>e.toLowerCase());return r.value&&!e.includes(r.value)&&(e=[r.value,...e]),e});n$(()=>a.value,e=>{t("update:modelValue",e)},void 0),n$(()=>o.value,e=>{t("update",e)},void 0);let l=e=>{a.value=e},u=e=>{o.value=e};return{t:n,defaultColorsList:s,pickedColor:a,collapseStatus:o,updateCustomColor:e=>{s.value.includes(e)||(i.value=e,l(e))},updatePickedColor:l,updateCollapseStatus:u,updateColorAndHideCollapse:e=>{l(e),u(!1),t("change")}}},render(){return rl("div",{class:"flex flex-auto overflow-auto px-4 pb-4"},[rl("div",{class:"w-full flex flex-col gap-2"},[rl("ul",{class:"grid grid-cols-7 gap-2"},[this.defaultColorsList.map((e,t)=>rl(n1,null,[rl("li",{class:"flex grow justify-center"},[rl("div",{class:"square-div-wrap"},[rl("div",{class:{"du-btn du-btn-circle min-h-fit flex justify-center items-center":!0,"text-white":!uU(e),"text-black":uU(e)},style:{backgroundColor:`${e} !important`},onClick:()=>this.updateColorAndHideCollapse(e)},[this.pickedColor===e?rl(c6,null,null):null])])])]))]),rl("div",{tabIndex:0,class:"du-collapse du-collapse-arrow border-base-300 border"},[tz(rl("input",{"onUpdate:modelValue":e=>this.collapseStatus=e,type:"checkbox"},null),[[r8,this.collapseStatus]]),rl("div",{class:"du-collapse-title text-base font-medium"},[this.t("more")]),rl("div",{class:"du-collapse-content px-2 py-0"},[rl(c4,{modelValue:this.pickedColor,mode:"solid",showColorList:!1,showEyeDrop:!1,type:"HEX",inputType:"HEX",showAlpha:!1,showInputMenu:!1,showInputSet:!0,showButtons:!1,showPickerMode:!1,"onUpdate:modelValue":this.updateCustomColor},null)])])])])}}),c7=tq({props:{defaultColor:String,modelValue:String,placement:String},emits:["update:modelValue"],setup(e,{emit:t}){let n=tc(e.defaultColor),r=tc(e.modelValue),a=tc(e.placement),i=tc(null),o=tc(null);return n$(()=>r.value,e=>{t("update:modelValue",e)},void 0),{defaultColor:n,pickedColor:r,placement:a,dropdownEl:i,dropdownContentEl:o,updateDropdownPlacement:()=>{},hideDropdown:()=>{document.activeElement.blur()}}},render(){return rl("div",{ref:"dropdownEl",class:"du-dropdown w-full"},[rl("div",{tabIndex:0,role:"button",class:"size-[40px] flex justify-center items-center p-1 rounded-sm border-2 border-neutral-200 cursor-pointer",onClick:this.updateDropdownPlacement},[rl("div",{class:"w-full h-full border border-neutral-200",style:{backgroundColor:`${this.pickedColor} !important`}},null)]),rl("div",{ref:"dropdownContentEl",tabIndex:0,class:"du-dropdown-content bg-base-100 rounded-xl z-100 w-full py-4 shadow-sm max-h-[50vh] overflow-auto"},[rl(c8,{modelValue:this.pickedColor,"onUpdate:modelValue":e=>this.pickedColor=e,defaultColor:this.defaultColor,onUpdate:this.updateDropdownPlacement,onChange:this.hideDropdown},null)])])}}),c9=tq({name:"TextInput",props:{showPosition:{required:!1,type:Boolean,default:!1},group:{required:!0,type:Object},change:Function},setup(e){let{t}=i2(),n=nE("commonData"),r=tc(null),a=tc(null),i=tc(e.group),o=tc(i.value._defaultContent||""),s=tc(i.value._color||""),l=tc(i.value._defaultContent||""),u=tc(i.value._color||""),c=tc(i.value._fontFamily||""),d=tc(e.showPosition?i.value._position:""),h=tc(i.value._max),p=rP(()=>{let e=(n.value.designerConfig.fonts||n.value.allFonts||[]).find(e=>e.font_family===i.value._fontFamily),t=n.value.templateDesignConfig?.fonts||[];return e?[e,...t.filter(e=>e.font_family!==i.value._fontFamily)]:t}),f=rP(()=>p.value.find(e=>e.font_family===c.value)),m=rP(()=>l.value.length),g=rP(()=>Math.max(2,o.value.split("\n").length,l.value.split("\n").length)),y=rP(()=>m.value>h.value),_=rP(()=>y.value),b=rP(()=>0===h.value||h.value===1/0?"":h.value),A=rP(()=>({text:l.value,color:u.value,fontFamily:c.value}));return n$(()=>A.value,()=>{let t=p.value.find(e=>e.font_family===c.value);e.change?.({text:l.value,color:u.value,font:t||null})},{immediate:!0}),{t,dropdownEl:r,dropdownContentEl:a,updateDropdownPlacement:()=>{setTimeout(()=>{let e=a.value.scrollHeight,t=r.value.getBoundingClientRect().bottom;r.value.classList.toggle("du-dropdown-top",window.innerHeight-t<e)},300)},group:i,max:h,position:d,originText:o,originColor:s,text:l,color:u,fontFamily:c,fonts:p,selectedFont:f,textLength:m,textRows:g,isOverMax:y,isError:_,textareaMaxLength:b,clear:()=>{l.value=""},changeFont:e=>{c.value=e.font_family,document.activeElement.blur()}}},render(){return rl("fieldset",{class:"du-fieldset"},[rl("legend",{class:"du-fieldset-legend w-full flex justify-between"},[rl("span",{class:{"du-label-text text-base":!0,"text-red-500":this.isError}},[this.t("-")," ",this.position?" on "+this.position.replaceAll("_"," "):""]),rl("span",{class:"du-label-text-alt cursor-pointer",onClick:this.clear},[this.t("-")])]),this.group.enable_color||this.group.enable_fonts?rl("div",{class:"flex gap-2 mb-2 relative items-center h-[40px]"},[this.group.enable_color?rl(c7,{modelValue:this.color,"onUpdate:modelValue":e=>this.color=e,defaultColor:this.originColor},null):null,this.group.enable_fonts?rl("label",{className:"du-select absolute right-0 w-1/2",onClick:this.updateDropdownPlacement},[rl("span",{className:"du-label"},[this.t("")]),rl("div",{ref:"dropdownEl",class:"du-dropdown du-dropdown-end w-full h-full"},[rl("div",{tabindex:"0",role:"button",class:"flex items-center h-full font-dropdown-button"},[this.selectedFont.icon?rl("img",{src:this.selectedFont.icon,alt:"Font Preview",class:"h-[20px] w-auto object-contain max-w-full"},null):this.selectedFont.font_family]),rl("div",{ref:"dropdownContentEl",tabindex:"0",class:"du-dropdown-content bg-base-100 rounded-box z-1 w-40 p-0 shadow-sm max-h-[50vh] overflow-auto"},[rl("ul",{class:"du-menu"},[this.fonts.map(e=>rl("li",{class:"items-start",onclick:()=>this.changeFont(e)},[rl("div",{class:"w-full"},[e.icon?rl("img",{src:e.icon,alt:"Font Preview",class:"h-[20px] w-auto object-contain max-w-full"},null):e.font_family])]))])])])]):null]):null,tz(rl("textarea",{class:{"du-textarea du-textarea-bordered w-full":!0,"du-textarea-error":this.isError},"onUpdate:modelValue":e=>this.text=e,maxLength:this.textareaMaxLength,rows:this.textRows,placeholder:this.originText},null),[[r6,this.text]]),rl("div",{class:"du-label w-full flex justify-between"},[this.max>0&&this.max!==1/0?rl("span",{class:{"du-label-text-alt":!0,"text-red-500":this.isOverMax}},[this.textLength,rc("/"),this.max]):null])])}}),de=tq({name:"SetText",props:{next:Function},setup(e){let t=nE("commonData"),n=nE("updateCommonStepsConfigText"),r=rP(()=>t.value.designerConfig.canShowPlayground),a=tc(JSON.parse(JSON.stringify(t.value.stepsConfig?.textGroups||[])).map(e=>(-1===e._max&&(e._max=1/0),e))),i=(e=null)=>{let t=a.value;return null!==e&&(t=[t[e]]),t.every(e=>!(e._value.length>e._max))},o=rP(()=>{if(a.value.length<=1)return!1;let e=new Set;for(let t of a.value)t._position&&e.add(t._position);return e.size>1});return{textGroups:a,canShowPlayground:r,showPosition:o,next:()=>{i()&&e.next?.()},change:(e,t)=>{let{text:r}=t;a.value[e]._value=r,i(e)&&n(e,t)}}},render(){return rl("div",{class:""},[rl("div",{class:"px-4 py-3 space-y-5"},[this.textGroups.map((e,t)=>rl(c9,{showPosition:this.showPosition,group:e,change:e=>this.change(t,e)},null))]),this.canShowPlayground?null:rl(uX,{next:this.next},null)])}}),dt=tq({name:"ChangeBgColor",props:{next:Function},setup(e){let{t}=i2(),n=nE("commonData"),r=nE("updateCommonStepsConfigBackgroundColor"),a=tc(null),i=tc(null),o=rP(()=>n.value.designerConfig.canShowPlayground),s=rP(()=>(e=>{if(e.startsWith("#"))return 4===e.length?`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`:e;if(e.startsWith("rgb")){let[t,n,r]=e.match(/\d+/g).slice(0,3),a=e=>parseInt(e).toString(16).padStart(2,"0");return`#${a(t)}${a(n)}${a(r)}`}})(n.value.stepsConfig?.defaultBackgroundColor.toLowerCase())),l=tc(s.value);return n$(()=>l.value,e=>{o.value&&r(e)},void 0),{t,dropdownEl:a,dropdownContentEl:i,canShowPlayground:o,defaultBackgroundColor:s,pickedColor:l,next:()=>{r(l.value),e.next?.()}}},render(){return rl("div",null,[this.canShowPlayground?rl("div",{class:" px-4 pb-4"},[rl("fieldset",{class:"du-fieldset"},[rl("legend",{class:"du-fieldset-legend w-full flex justify-between"},[rl("span",{class:"du-label-text text-base"},[this.t("")])])]),rl(c7,{modelValue:this.pickedColor,"onUpdate:modelValue":e=>this.pickedColor=e,defaultColor:this.defaultBackgroundColor},null)]):rl(n1,null,[rl(c8,{modelValue:this.pickedColor,"onUpdate:modelValue":e=>this.pickedColor=e,defaultColor:this.defaultBackgroundColor},null),rl(uX,{class:"z-1",next:this.next},null)])])}}),dn=tq({name:"AiPreprocess",props:{file:{required:!0},type:{required:!1,type:String,default:uu.HEAD,validator:e=>[...Object.keys(uu).map(e=>uu[e])].includes(e)},next:Function,catchError:Function},setup(e){let t=nE("locale"),n=nE("commonData"),r=t_(()=>e.file),a=t_(()=>r.value instanceof Blob?window.URL.createObjectURL(r.value):r.value),i=t_(()=>e.type),o=tc(!1),s=tc(""),l=async()=>{o.value=!0;let a=null;try{a=await u1.post({url:`${n.value.designerConfig.cutfaceApiPrefix}/v1/cut`,params:{image:r.value,type:i.value||uu.HEAD},language:t.value,version:n.value.designerConfig.version})}catch(t){e.catchError?.(t);return}finally{o.value=!1}let l=a.data.data.url;s.value=l,setTimeout(()=>{e.next?.(l)},1e3)};return n$(()=>a.value,async()=>{a.value&&(s.value="",l())},{immediate:!0}),{src:a,processing:o,processedImage:s}},render(){return rl("div",null,[rl("div",{class:"flex items-center justify-center transparent-bg m-4"},[this.processedImage||this.src?rl("img",{class:"object-contain w-4/5 h-4/5",src:this.processedImage||this.src},null):null,this.processing?rl(n1,null,[rl("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",class:"animate-ping absolute w-28 h-28 text-primary"},[rl("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"},null)])]):null])])}}),dr=tq({name:"TransferImage",props:{file:{required:!0},type:{required:!0,type:String},next:Function,catchError:Function},setup(e){let t=nE("commonData"),n=nE("locale"),r=t_(()=>e.file),a=t_(()=>r.value instanceof Blob?window.URL.createObjectURL(r.value):r.value),i=t_(()=>e.type),o=tc(!1),s=tc(""),l=async()=>{o.value=!0;let a=null;try{a=await u1.post({url:`${t.value.designerConfig.cutfaceApiPrefix}/v1/character_animation`,params:{image:r.value,type:i.value,should_resize:1},language:n.value,version:t.value.designerConfig.version})}catch(t){e.catchError?.(t);return}finally{o.value=!1}let l=a.data.data.url;s.value=l,setTimeout(()=>{e.next?.(l)},1e3)};return n$(()=>a.value,async()=>{a.value&&(s.value="",l())},{immediate:!0}),{src:a,processing:o,transferImage:s}},render(){return rl("div",null,[rl("div",{class:"flex items-center justify-center transparent-bg m-4"},[this.transferImage||this.src?rl("img",{class:"object-contain w-4/5 h-4/5",src:this.transferImage||this.src},null):null,this.processing?rl(n1,null,[rl("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",class:"animate-ping absolute w-28 h-28 text-primary"},[rl("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"},null)])]):null])])}}),da=tq({name:"BaseAlert",props:{type:{type:String,required:!1,default:"",validator:e=>["","warning"].includes(e)}},setup(e,t){let n=t_(()=>t.slots.default?.());return{type:e.type,defaultSlots:n}},render(){return rl("div",{class:{"du-alert":!0,"rounded-none px-4 py-2 break-words flex justify-items-start items-center gap-0":!0,"du-alert-warning":"warning"===this.type}},[rl("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:{"stroke-info":!this.type,"stroke-current":!!this.type,"shrink-0 w-6 h-6 mr-1":!0}},[rl("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null)]),rl("p",null,[this.defaultSlots])])}}),di=tq({name:"DesignSelectedImages",setup(){let e=nE("commonData"),{t}=i2(),n=rP(()=>Number(e.value.currentStep.split("_")[1])),r=rP(()=>e.value.stepsConfig?.imageGroups||[]),a=rP(()=>e.value.stepsConfig?.imageGroups.length||0),i=rP(()=>r.value.filter(e=>!!e._image).length);return{t,stepIndexOfGroup:n,imageGroups:r,imageGroupsCount:a,selectedImageCount:i,getPreview:(e,t)=>{let r=e._image;return r&&n.value>t?r instanceof Blob?window.URL.createObjectURL(r):r:e._originalPreview}}},render(){var e;let t;return rl("div",null,[tz(rl(da,{class:"mb-2 text-left"},"function"!=typeof(e=t=this.t("",[this.imageGroupsCount]))&&("[object Object]"!==Object.prototype.toString.call(e)||rr(e))?{default:()=>[t]}:t),[[rB,this.selectedImageCount!==this.imageGroupsCount]]),rl("ul",{class:{"grid grid-cols-6 gap-2 px-4":!0,"pb-2":this.selectedImageCount>0}},[this.imageGroups.map((e,t)=>rl("li",{class:{"rounded-sm border-2 border-neutral-200 bg-white":!0,"border-primary":this.stepIndexOfGroup===t}},[rl("div",{class:"square-div-wrap"},[rl("div",null,[rl("img",{src:this.getPreview(e,t),alt:"Preview",class:{"object-contain w-full h-full":!0,"opacity-50":!e._image||this.stepIndexOfGroup<=t}},null)])])]))])])}}),ds=tq({name:"DesignBySteps",setup(){let{t:e}=i2(),t=nE("commonData"),n=nE("updateCommonMode"),r=nE("updateCommonCurrentStep"),a=nE("getPrevStep"),i=nE("updateCommonStepsConfigImage"),o=nE("updateCommonStepsConfigImageToCrop"),s=nE("updateCommonStepsConfigImageToPreprocess"),l=nE("updateCommonMessageData"),u=nE("updateCommonStepsConfigImageToTransfer"),c=nE("updateCommonStepsConfigObjectsImageToShape"),d=nE("updateCommonStepsConfigObjectsImage"),h=rP(()=>t.value.steps),p=rP(()=>Number(t.value.currentStep.split("_")[1])),f=rP(()=>t.value.stepsConfig?.imageGroups||[]),m=rP(()=>f.value.length||0),g=rP(()=>t.value.currentStep.includes(uf)),y=e=>Number(e.split("_")[1]),_=e=>Number(e.split("_")[3]),b=e=>t.value.stepsConfig?.imageGroups?.[e]._objects,A=e=>{let t=y(e),n=_(e);return b(t)[n]},w=()=>{let e=t.value.currentStep;r(a(t.value.steps.findIndex(t=>t===e)-1))},x=()=>{let e=t.value.currentStep,a=t.value.steps.findIndex(t=>t===e);a===t.value.steps.length-1?n(up):r(t.value.steps[a+1])},C=e=>{o(p.value,e)},S=e=>{s(p.value,e)},k=e=>{u(p.value,e)},E=(e,t)=>{c(p.value,e,t)},T=(e,t,n=null)=>{i(p.value,e),d(p.value,e,t,n)},O=(e,t)=>{b(p.value).forEach((n,r)=>{E(e,r),T(e,r,t)})};return{frontalFaceImage:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADb/2wBDAFA3PEY8MlBGQUZaVVBfeMiCeG5uePWvuZHI////////////////////////////////////////////////////2wBDAVVaWnhpeOuCguv/////////////////////////////////////////////////////////////////////////wAARCAGUAzQDASIAAhEBAxEB/8QAGQABAAMBAQAAAAAAAAAAAAAAAAEDBAIF/8QAQBAAAgECAgYHBwIGAgIBBQAAAAECAxEEMRIhM0FRcRMUMlNhgZEiUnKCobHwQmMFIzQ1wdFDYkSS4SQlc6Lx/8QAGAEBAQEBAQAAAAAAAAAAAAAAAAECAwT/xAAhEQEBAQEBAAMBAQADAQAAAAAAARECMRIhQQNREzJx8P/aAAwDAQACEQMRAD8AYnESc+jp3W7VmzmOEqNXlOzGEV685PcbQMfU594h1OfeI2Agx9Tn3iHU594jYAMfU594h1OfeI2ADH1OfeIdTn3iNgAx9Tn3iHU594jYAMfU594h1OfeI2ADH1OfeIdTn3iNgAx9Tn3iHU594jYAMfU594h1OfeI2ADH1OfeIdTn3iNgAx9Tn3iHU594jYAMfU594h1OfeI2ADH1OfeIdTn3iNhAGTqc+8Q6nPvEbABj6nPvEOpz7xGwAY+pz7xDqc+8RsAGPqc+8Q6nPvEbABj6nPvEOpz7xGwAY+pz7xDqc+8RsAGPqc+8Q6nPvEbABj6nPvEOpz7xGwAY+pz7xDqc+8RsAGPqc+8Q6nPvEbABj6nPvEOpz7xGwAYIVauHnozu1wf+D0E00mtaZlxyXRJ70y+jsYfCiiK1VUqblv3Iyxp1q/tynZPI7/iHZhzNMVaKXgBk6pU737jqlTvfubAQY+qVO9+46pU737mwAY+qVO9+46pU737mwgDJ1Sfe/cdUn3v3NLdiuU7AU9Vn3v3IeHkv+X7ncqhW6hRHQy737jopd6cuoRpgdqjJ/wDL9zpYaT/5fucKZbCYDqk+9+46pPvfuaIyudogydUqd79x1Sp3v3NZIGPqlTvfuOqVO9+5sAGPqlTvfuOqVO9+5sAGSnVqUaihVd4vebTFjuzDmzXHsrkUc1qqpQ0n5IyRjXxHtOWjHdrsdY7XUpx3Gq1tSyQGTqlXvfuOqVe9+5sBBj6pV737jqlXvfubABj6pV737jqlXvfuaznpadr9JH1AzdUq979x1Sr3v3LZYqlHJuXIpljJPsxS56yieqVe9+46pV737lfWq3vfQdare8vQCzqlXvfuOqVe9+5wsZV/6vyO1jX+qC8mA6pV737jqlXvfuaadSNVXi/LgdkGPqlXvfuOqVe9+5sAGPqlXvfuOqVe9+5sAGPqlXvfuOqVe9+5sAGPqlXvfuQ418P7SlpR53NpDSaaeT1Ac0q0akFK9vAHm6Uo3Se8FGnBbWp+bzYY8Ftan5vNhAAAQAAAAAAAAAAAAAAAAAAAAjJXeQEgpniaUP1XfhrM9TGSeqC0Vx3hW2UlFXk0l4lE8XTj2byfoYG3J3bbfFkFGmWMqPs2iUyq1Jdqcn5nAAm5AAHSlJZSa8zuOIqxym3z1lQA2U8buqR80aoyU46UXdM8kuoVnSn/ANXmgPSBCd1dZEkQAAAAAAAAAAAAAAAAAAAAAZ8bsPmRdR2MPhRTjdh8yLqOxh8KKrP/ABDsw5s0rsrkZv4h2Yc2aV2VyAkAEQAAAhg5kBXOVjPOZZUZnkrsKhyObnajcnQKKgW9GOjArR3GVidAi1gNFOZfGVzFB6zVTZBcSQiQgAAAAAy4/sQ5mqHYjyMuP7EOZqh2I8iqyY3b0/zeazJjdvT/ADeayAAAgQSAM1arWpN+zFx3OxjnN1JOUrX8EeqYcUru8aeilvta5VZgAAAAAAAdQnKElKLsz0KFZVY8JLNHmnUJuElKOaA9UERalFSWTVySIAAAAAAQCA8iXafMCXafMFVrwW1qfm82GPBbWp+bzYQAAEAAAAAAAAAAAAAAAACurVVKGk9fBFhgxlRTqJLKOoKTxlSXZtEolOU37Um+ZyCgAAAAAAAAAAAAAAADbg6t10betZGs8hNp3TszXSxjyqK64oDYCE01dO6ZJEAAAAAAAAAAAAAAAAAABnxuw+ZF1HYw+FFON2HzIuo7GHwoqs/8Q7MObNK7K5Gb+IdmHNmldlcgJABEAABBzLI6IkBnqIqUbsvmjlIKRgddGdRO0FV9GOjLQBRKBTOJqkUTQFUVrNNMpitZfTQRajohEhAAAAABlx/YhzNUOxHkZcf2IczVDsR5FVkxu3p/m81mTG7en+bzWQAAEAABDaSbeSK4RcnpzWt5LgvzMmtrjGPvSSZ2FjnQjvivQ5dGk84R9CwBXm1qfRVHHduKzbjKelBTS1xz5GMqIBIAgAAejhHfDx8NRcZ8HsPNmggAAIAAAEAgPIl2nzAl2nzBVa8Ftan5vNhjwW1qfm82EAABAAAAAAAAAAAAAAAAFWIqdHSbWb1I8w1Y2V6qjwRlKoAAAAAAAAAAAAAAAAAAAAA04WtoS0Jdl/Q3njnp4efSUU3mtTILQAEAAAAAAAAAAAAAAAAZ8bsPmRdR2MPhRTjdh8yLqOxh8KKrP/EOzDmzSuyuRm/iHZhzZpXZXICQARAAAQcs6OWFVshI6aJsFckpiwSA7TIbCDA4kyt6yxojRA4SLoHKR3FBHaAQCJAAAAAZcf2IczVDsR5GXH9iHM1Q7EeRVZMbt6f5vNZkxu3p/m81kAABAAAV1covhNHM66UnGEXOS3I6qu6UFnJr6byqt0s9LRuop2SW8Kn/AOqlrtCPgWw0tH27aXgcdXpp+zpJ8VJlkU0rOTl4sKkxYynGLjKKtfM2mbFxc9BJN6wVOHiqVHTlqb1tkYlKVDTtrWV1rLZ09KSV2oxytxKcZO1NQ3vWBjAOoQc5qKzZUb8KrYePjrLiIpRiorJKxJEAAAAAAIBAeRLtPmBLtPmCq14La1PzebDHgtrU/N5sIAACAAAAAAAAAAAAAAAAPPxu3fJGc1Y5e3F8UZSqAtw8FUrKMsmao4SCne7a4MCihh5VNb1R48TirSlTqaOd8vE9Iiyve2tbyauMkMG3C8pWluRV1eaqqEla7zPRA0xjlgn+id+ZS8PVi7OD8j0gNMY+pS99EU8LJVFppOO+zNoGmM8sJTeTkvqVPBy3TT5m0gDiVGnPOC8tRlxFCNKKlFuzdrM2mbG7OPMDEACoGzAPtrkzGb8FG1Fv3mBpABEAAAAAAAAAAAAAAAAZ8bsPmRdR2MPhRTjdh8yLqOxh8KKrP/EOzDmzSuyuRm/iHZhzZpXZXICQARAAAQQyQBw0EdNEBSwsSgFQASgqLENHRDCObHSQSOkECSCQgAAAAAy4/sQ5mqHYjyMuP7EOZqh2I8iqyY3b0/zeazJjdvT/ADeayAAAgcTnopart6kuJ2cTjpJWdmndMBCOjdyd5PNnRxGUlJRmld5NZHYaAARQgk5vZX4FFFXFRheMVeS45GSUnKTlJ3bLKtJqEai3rXzKishuwlLQhpvtS+iMNrux6uQEgAiAAAAAAEAgPIl2nzAl2nzBVa8Ftan5vNhjwW1qfm82EAABAAAAAAAAAAAAAAAAGXHK9OMuDsYT0sUtLDy8NZ5pVX4Pbrkz0DDgV/Nb4I3EqwABFAAAAAAAACGSAIM+MX8lPgy85qw6SlKO/cVHmAlq2ZBUTmerTjoU4x4I8/Cw068eC1s9IgAAIAAAAAAAAAAAAAAAAz43YfMi6jsYfCinG7D5kXUdjD4UVWf+IdmHNmldlcjN/EOzDmzSuyuQEgAiAAAEAADk6OWFCTm5IUCACpIIbFwjpEkIkMpBAAkAAAABlx/YhzNUOxHkZcf2IczVDsR5FVkxu3p/m81mTG7en+bzWQAAEAABVX1R007OOQ0ajzqJfDH/AGWFdLVppdlSsvALFgADQV1XalPlY7bsteRXtWlHsJ3b4+CCO9FOOi1dWsefWpOlO255M9IiUYyVpJNeIHmQ7ceaPV3medGnGUJKNlpWdjQEAAEAAAAAAIBAeRLtPmBLtPmCq14La1PzebDHgtrU/N5sIAACAAAAAAAAAAAAAAAQAktKLjxVjyWrOzPVU43spRvzPPrU31mUFverzCtGChaDk/1ZGkhJRSiskrCUowjpSaSCpBknjfcj5s4WMqLPRfkMNbgZ6eLhLVL2X9DQmmrp3XgAABFAAADyDdld6kUVMVTjqj7T+hUXAx9cl7kS2nioS1S9l/QGqsZTtNTWUs+ZlPRrx06MvVHnFRuwMLQlPjqNRmpVoQpxjFSlZa2kXQqRqRvF3RB2AAgAAAAAAAAAAAAAAADPjdh8yLqOxh8KKcbsPmRdR2MPhRVZ/wCIdmHNmldlcjN/EOzDmzSuyuQEkAEQFyGzlyA6uRpHDkc6RWdWaRy5HFyLg1YmdIriyxEblSAQFQzm5MmVthm1YpHSkUpkqRWdXpk3KVI6UiLqwHKZ0FSCCQMuP7EOZqh2I8jLj+xDmaodiPIqsmN29P8AN5rMmN29P83msgAAIAAAUpum3Fxk1dtOKve5cAqvpJPKlPzsjmc6iteKjHfLtWLiAarVJPXNub8cvTIsOKOqGj7raOwqJu0JPwJWRXW7Cj70kiwDmcdODje194py043tZ5NcGTKSjFyeSMsJyhUcnr9/88AlrYCE7q6yJCAAAAAAEAgPIl2nzAl2nzBVa8Ftan5vNhjwW1qfm82EAABAAAAAAAAAAAAAAKJrpazp3tCKvK29l5TDViqi95JoKdDQerRj5MqVFQxUEm7Wurl8qdN5wj6FM706lN5xUrJvdfd/oK0nM6cJ204p2OiJX0Xo2vuuBx0FLu0cvDUX+m3JlipzedV/KkjPKdqzg60opb3ruwJeChulJERw9Wk706iKVXqKdukk43Nr6WGdqi8FZ/noETBza9uKT8HmdERkpJOLumFJNtJ61mFSV1KjjqjCUn4LUWHMpqC13d8kt4GWVHEVu3ZLhcmOC96foi+XS6Dk2oJK9lrf55GOFec5pTquK4oqNCwtJZpvzJ6tR9z6nFGTqVJQ6WbtrTRc4TXZqX8JIiuoxjGKjFWXAw06aWIcZW0Yu7vwNxTCKliKkmuy0kBaqsckpW8Is4ktDEwkv13TLUVz9rE04+6nJgXAAMgAAAAAAAAAAAAAAAM+N2HzIuo7GHwopxuw+ZF1HYw+FFVn/iHZhzZpXZXIzfxDsw5s0rsrkAOWyWVyZGbRyOGw2QVi0uACshBJAEplikVEpkblXaRDkV6RFxjXyS2cgBi0BIKyi5KZAC6sUjtSKEzuLI1KuTJOIs7RG2bH9iHM1Q7EeRlx/YhzNUOxHkVWTG7en+bzWZMbt6f5vNZAAAQAAAAAAABUvZrNbpq/mWFLmusq8klHVrZZ0kFnOPqGohrSqp7oL6v/AODtuyu9SKnXj+haXjkvUolOVR63pfSK/wBjEvUjurUUrW7Cf/s/A5irLXm9bCWu7d3xBpyt1bQlZ9G+cf8AReY3fNZrWjVCSnBSWTJW+bsdAAigAABAIDyJdp8wJdp8wVWvBbWp+bzYY8Ftan5vNhAAAQAAAAAAAAAAAAACmv7LhVX6XZ8mXENKSaeTAZopxEW6MuK1ii3BujLNdl8UWyWlFrirBoi9KKlxVySrDO9CPhqLQBTWw8ar0r6Mi4AZ6WFjCWlJ6TXgabkAGIUUm2t7uzlaq8vGKfodnC113/1jb1A7I0VpKW9KxICpbvqa1GWeDi3eEreDVzSAmKqVGNFOzu3mzs6OQJWZTh1eM5e9Nlt7Js4wqth4+N2BaVUPblOrubsuSFaTdqUe1LPwRZGKjFRWS1BK6AAQAAAAAAAAAAAAAAABnxuw+ZF1HYw+FFON2HzIuo7GHwoqs/8AEOzDmzQuyuRn/iHZhzZo/SuQHMmVtncmVsRz6qAAVgAAAAAQCQBAJAEEgAAABBBJF+GsLJb4Eo5vy9SUybG/+Pqfi2LLUyiLLYsLFGO7EOZrh2I8jJjtnDma4diPINMmN29P83msyY3b0/zeayAAAgAAAAAESajFyeSVySnEO6UOOt8kBRoyau5LXraauNF8YrlE7Bpy1zoJ9puXMlkgI5AAAsw8rSlDc/aX+SslPRlGXB6+TDXN+2sHE6kYam9fBFbrvdFLmzLtObV4KY175x9NZZGSkrxd0Cyx0EAgy8iXafMCXafMFVrwW1qfm82GPBbWp+bzYQAAEAAAAAAAAAAAAAAAAV1afSRVnaS1p8DmFb2tCqtGf0ZcczhGatJXQVThvZnVhwlcvM8KfQ4lJNtTTzNAWAAIoAABxS1qUvek/wDR1OWjCUuCuRTjo04rgio6ABFAAAIeZJDKOKjtSm/BlcKujThCmtKdslkuZ1iHahP0LKcI04qMVbiEqKVPQvKTvOWbLAAyAAAAAAAAAAAAAAAAAADPjdh8yLqOxh8KKcbsPmRdR2MPhRVZ/wCIdmHNl/6VyKP4h2Yc2XPsrkEriRwzqRwHOgIJKykAAAAAAAAAAAAAAIAhvdu3nOt7vQN6l6nVKo6cr5p5nO3a9vPPx5+nAV81fmaJUVNqUHZPM5qzSj0cMt4w+W+K4ytr9S+LM6zLaT9leBZXP+kz7c43Zw5muHYjyMeN2cOZsh2I8jTLJjdvT/N5rMmN29P83msgAAIAAAAABlctKcpbr2XJF9SWhTlLelqM6VklwRYz3fpIGSC1q5XMAAEMglkAA8rcSIu977nYN5+hLXT+fO9Ibd9V/wDZGWomLcZJrNF8oxrx0o6pIx69VuM6vuvc7hNxd1n9y1uOHhZa5sz3trHhL8m2MlKKksmdIow71yj5ovRpwsyvIl2nzAl2nzBRrwW1qfm82GPBbWp+bzYQAAEAAAAAAAAAAAAAAAAAABTiPZ6OfuyLTmrDTpSjxRFGenSjLw1hY7ABGgAARKKlFxeTVjiM2noT7W57pfm9FgKgACKAAAQySCinEa4wj700jQUT9rEUo8LyZeGaAAIAAAAAAAAAAAAAAAAAADPjdh8yLqOxh8KKcbsPmRdR2MPhRVZ/4h2Yc2Wt6lyKsf2Yc2dvJcglcs5JZBXKoJRBKCJAAAAAAAAAAAAACCSAOHkvQ6p03UlZZb2Q16MjXHJtcjnZle3nr5TYvdaNNqEFdLM5q0010kMt6KQm7WTdnuGk5z7iVmd0svM48FmyyKtqLHP+t/HOM2cOZsh2I8jFi9nHmbYdiPI0xGTG7en+bzWZMbt6f5vNZFAAEAAAAAFOIfsRjxkv9lZ3Xd6sVwTZwWOffrmezlyOstRzPJLi0dFZAABDyIJZAELtSXJh7/Uf8nNEvjvRK6/z6zpyk5NJZsvvHDxstc2UZa4vkyG23du7MePTZv8A40SjGvHThqks0Z/AlNxd02gtWvfuQ9JMXYdfzJvwsaEV0YaELPN62WI04W7XkS7T5gS7T5go14La1PzebDHgtrU/N5sIAACAAAAAAAAAAAAAAAAAAAFFP+XWlT3S9qP+S8qrQcoqUe3F3QVYDmnNVIKS3/Q6DQcy01bRSa3pux0AjjpGu1TmvK/2HTQ/7f8Aqzs4vW4Q9WA6WO6M3yiyYyk27wcVuu9ZMdK3tWv4EgAARQgMqrNtKnHtT+iKhQ9uU6u5uy5IvOYxUYqKyWo6CAACAAAAAAAAAAAAAAAAAAAz43YfMi6jsYfCinG7D5kXUdjD4UVVGP7MObOnkuRGNi3TUluesmE1OKaevegOWjktaOXEMXlWSibCxWcATYWCYgE2FgYgE2FgYgE2FgYgE2FgYgg6sLAxwQ093ozuxFiNc2zxx8pKUn4HaR0okyOnz6rmMLHaR0kTYJjPi1/LjzNkOxHkYsRJVHGnDW7m5KySKrHjdvT/ADeazNjYNxU1+nMspV4VEtaUt6YFoI0o+8vUaUfeXqREgjSj7y9RpR95eoEgjSj7y9RpR95eoGeo71p+CSIIunKbutcmLrivU05deol2oLxbOjmVu0pJNHShJpPTp61v1Akt8ANGa9x8pC0vc/8A2QPjUMgm03+lLnJEqnJ51ILlrGrOa4l2ovxsScxSspN3dt7OrrivUJUwg5ynouzVvMh05rOm/IsoNKc9ayW/mX6UfeXqZsduerIyKnNvVTtzL6dFRelJ6UvsWaUfeXqNKPvL1GLerfUhHOlH3l6ldWvCnF2knLckEedLtPmDRSwsqkFLiCjvBbWp+bzYY8Ftan5vNhAAAQAAAAAAAAAAAAAAAAAAAAAY6cnSqVJPsObT8PE1lNJJzrxaunIiL6CWhJ+w+zLh4BpeAAoACAAAABxUqKmrvXwS3lEVKkacby8lxFGm1ec+3L6LgUVoPoJ1KnbdrLhrNYZqQAEAAAAAAAAAAAAAAAAAAAAAGfG7D5kXUdjD4UU43YfMi6jsYfCiq7aTTT1ozPBxv7Mmlwtc1ADL1T9x+g6n+4/Q1ADJ1L9x+g6l+4/Q1gDJ1P8AcfoOp/ufQ1gJjJ1P9x+g6n+4/Q1gGMnU/wBx+g6n+4/Q1gGMnU/3H6Dqf7j9DWAYydT/AHH6Dqf7j9DWAYydT/cfoOp/uP0NYC4ydT/cfoOp/uP0NYAydT/cfoT1P9x+hqAGXqn7j9B1T9x+hqAFNKhCk7rXLiy4ACMzPPB05O8W48jSAMfUY++/QdRj779DYAMfUY++/QdRj779DYAMfUY++/QdRj779DYAMfUY++/QdRj779DYAMfUY++/QdRj779DYAMfUY++/QdRj779DYAMfUY++/QdRj779DYAMfUY++/QdRj779DYAMfUY++/QdRj779DYAMfUY++/QdRj779DYAMfUY++/Q7p4OnF3leXM0gCASAMOC2tT83mwx4La1PzebCAAAgAAAAAAAAAAAAAAjJXeRXLEUo5zT5awLQZ+s37FKT56jl1qzyUFz1jDY1Axzq1lFvTWrgib1XnWfki4nyi2n/AFFZciyUVOLjJXTKMPdVql5Nuy1s0Ebn3FClKhqneVPdLeuZemmrp3T3kNFPRODvRlo/9XkBeCnpK3cr/wBh0lbuo/8AsBcCnTr93H/2IcKtTaTUV7sQOp1knowWnPgslzFOm1LTm9KfHhyOoU4wVoqyOwKcV/TvmizpabyqR9SvF7HnJFehC/Zj6FjPXWNSknlJPzJMFOnCULuO86ULdmc48mMZ+UbQZNOtHKal8SOliZLt0nziyYuxpBVCvTnlKz4PUWBUgAAAAAAAAAAAAAAAz43YfMi6jsYfCinG7D5kXUdjD4UVXUmoptuyRkeJq1JNUYauRZjXag/FnWGSVCFt6uBTp4z3fohp4z3fojWCDJp4z3fohp4z3fojWAMmnjPd+iGnjPd+iNTaSu3ZcWUzxdKOTcuQFenjPd+iGnjPd+iHXY+4/UupYinVdldPgyinTxnu/RDTxnu/RGsEGTTxnu/RDTxnu/RGsAZNPGe79ENPGe79EawBk08Z7v0Q08Z7v0RrAGTTxnu/RDTxnu/RGsAZNPGe79ENPGe79EawBk08Z7v0Q6TFrOP0NYApw+IVX2WrSNBhqrRx0Gt9rm4orqVI0o6UmZliK9TXTp6uQxH8zFwpvI1JJKyVkgM3S4vu16DpcX3a9DUCDL0uL7teg6XF92vQ1ADL0uL7teg6XF92vQ1ADL0uL7teg6XF92vQ1ADL0uL7teg6XF92vQ1ADL0uL7teg6XF92vQ1ADL0uL7teg6XF92vQ1ADL0uL7teg6XF92vQ1ADL0uL7teg6XF92vQ1ADL0uL7teg6XF92vQ1ADL0uL7tegWKnCVq0LeKNRxVgqlOUXwA7jJSScdaYMNCs4U9FcQUdYLa1PzebDHgtrU/N5sIAACAAAAAAAcTqQpr25W8AOyG1FXk0l4meVapLsR0VxlmcaCbvNub8S4l6kWvExygnN+GRw6laW+MF4a2AMYvdcdGn23KT8WdJJZJIkFZ20AAESV4SXFEU3enF+B0cU/ZcocHdBfx3SdsSv+0bGkyTvZSjnF3RqjJTipRyZmuvF+ki1wCNosLEgojRJSsAAAIbUU23ZICnEu8qcPHSZxN2hJ+BCbnJ1Hv1LkRU16MOL18ixx6u1MFaEV4HQBWAgkActKWaTIipQ2c3HwzRICy2O44iUdpDVxiXwqRqK8JJmUhwTd1eL4omNTr/W0GWNacO2tNcVmX06kaivCVyN+uwAAAAAAAAABnxuw+ZF1HYw+FFON2HzIuo7GHwoqqsdsPmO6GwhyOMdsPmO6GwhyAsABEDLicRKnLRha9tbNR5dW7rTvndhUTqTn2pNnBbHD1JRUlHU2ddVq6/Zy8cyig6jJxkmnrRcsJV8F5kTw0oU3Ntas0Bro141VbKXAuPJhJwmpLNM9VEEgAIAAAAAAAAAAAAAMdf8Arafl9zcYa/8AW0/L7m4qsVT+4R8jWZKn9wj5GsgAAIAAAAAAIKpYmlH9V+WsC4jJXMdTGt6qat4szznKbvKTfMK9F1qSzqR9Qq1J5VI+p5YKPXWtXWRJ5dKrKlK8XzXE9KElOKlHJkHQACAAAAAAQ8nyJIeT5AebS7PmBS7PmCqvwW1qfm82GPBbWp+bzYQAAEAAAIbSV27INqKbbskZZydZ67qnuXEFuOpV5TuqWpe8/wDBxGCTvrcuLOgacr1aAAIAAAAAAAAHE/Zamt2p8jsAh4oinPoZWezl9GcReg9B9l9llngwsvxrSDLCcqOqzlDhvRohUjUV4STMu0uugARoAKp4iEXaPty4IqLW0k23ZIyzn0zstVNfUiWlUd6j1boo6LI59d/4HFP2m5vfqXISem9Fdldp/wCDsrHgAAgAAIZB0QBAAAEOOvSi9GXFEgKshiLPRq6nuluZeZGk1Z60TCo6PGVP6omNzrWsERkpRTi7p5MkjQAAAAAz43YfMi6jsYfCinG7D5kXUdjD4UVVWO2HzHdDYQ5HGO2HzHdDYQ5AWAAiBicf/uHnc1TloRuldt2SKqcW8TOU0rqKyCrwZ5ualfrEV4W1FtOUpL2tF+MWFdldWOnTlFZtE1JOMfZ0ecnqKo6Td3idfBLUBlw8dKvFcHdnpmRQlHEz0Lpu2STzNFOTnBN5+AR2AAgAAAAAA5nONNXm7IzSxsf0wvzYGsGRY1b4ejL6dWFVew/LeBYAAMdf+tp+X3Nxhr/1tPy+5uKrFU/uEfI1mSp/cI+RrIAACAAAAADNjKmjT0FnL7GA0Yz+ofJFCV8syqgFzw9RSjG2t6yVhqrbWjl9QKAXLDVXf2bW4nXVKminqvwAzl1GvOlqWuPA6lhZRp6V1qV2uBnA9aE1OKlHJnRjwMu1HzNhAAAQAAAh5PkSQ8nyA82l2fMCl2fMFVfgtrU/N5sMeC2tT83mwgAAIAFdep0dNtZvUuYFNaXSz0F2I5+LBEY6MUvUk05dXaAAIAAAAAAAAAAAAAIaUlZ5HF5U1aV5R4rcWAGoTUldO6IcIt3yfFaiHTi3dXi+KH8xb4y56gv/AI6Uqscqt/iQ06z/AORLlE50576b8mNOXdyIu9f/AGJcHLtzlLzJSUVZJI50p7qfqxao85KPIqXb66bUVduxzeVRavZjx3sKnFO79p8WdgQkoqyyJACAAAAAAQyQByAAAAAAABCTou61wea4eJri1KKkndMyE0Z9FPRfYll4MldOb+NYAI0AADPjdh8yLqOxh8KKcbsPmRdR2MPhRVVY7YfMd0NhDkcY7YfMd0NhDkBYACI4qR04NLU81zOIyvVjLJtOLXBrWXFVWKTjUtri1d+GQV1KnGUdFrVe+rURKMYwdlbVY7OZptas0724hRxUu0k3axEacYR0UtV769Z2AKFJ6dSMe23blqzLoxUYqKyWo5o9mUvek2WBAABAAACutVVKGk9b3IsPOxVTpKz4LUgquc5VJaUndnBfh6HSttu0UTiqSpzTirRZRnJi3Fpp2aIOmmknbU8gPQw9bpYa+0sy487Cz0a8eD1HokGOv/W0/L7m4w1/62n5fc3FGKp/cI+RrMlT+4R8jWQAAEAAAAAGHHK1VPii3CRXQp2V7vWRjo3pxlwdi6lHo6MYvVZawsdgq6xSvbTRandXTugoACK4qq9Oa8GeWen0tPStpxvzMWIp6FZpLU9aLErTgoWpOXFmk4pKMYKKaeirOx2GQAAAAAIeT5EkPJ8gPNpdnzApdnzBVX4La1PzebDHgtrU/N5sIAACBlqy069t0PuaJzUISk9yMtNNR15vWyxnq5HQAK5gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOQAAAuhdE2ABdAoESjpRaJAVfQqdJSTea1MtMtGWhW0d0/uajLrLoAAM+N2HzIuo7GHwopxuw+ZF1HYw+FFVVjth8x3Q2EORxjth8x3Q2EOQFgAIgRJKUXF5PUROpGHakkVvEJJtQk0vCwHVOTs4y7UdT8fEmSecW78LlK0qlWUlaMklbXdb8yzporVNOL4Wv9g1HcU1rbbZzUk0rR7UtS/PAjpU9UIyk+VkVyvTqQlL2pO99wF8IqEFFZJHRSsRBq70ori0WRnGfZknyYZdAAAAAOKs9ClKXBHlm7GytSUeLKFQtCnO99JrVYqtdFKnSjFtJ2u9Z1UhGpBxlkV1KVuxShK713O4RjTjZJK7IrFWw8qWu6ceJzT9qlUjwWkvI21Kbk3KMYaXGWs4qx0KM5O2la10rFRhTs01uPWT0knx1nkHpYWelQj4agKa/9bT8vubjDX/rafl9zcBiqf3CPkazJU/uEfI1kAABAAADiq3GlJxzSOyM1Z5AZqsFBX0Lq6elpa/M0TtovSjpLha5xFXi6Ms0rLxRNJ6VKL8A0pqOlC2nQtfkdUejTi4acL5JvU/z1LZQjJpta1kydFWSsrLJAE08nlqM9Zpt6c5OK3R1Jcy6nnUtlpnTjFq1la9/MDNCnTkrxouS46V/8k1YJ9Fox320XqLo04042grIh661NcE3/gDnR0Z037Ok3b2VbVYvKoe3Nz/StUfHiy0IAAIAAAQ8nyJIeT5AebS7PmBS7PmCqvwW1qfm82GPBbWp+bzYQAAEZ8S7uFPi7vkckN6dac9y9lEmo59X7AAGQAhNNXTugJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhuwbshFaV5SdoolpIhKUnaKDSjJJu632IvnbUnuIMK6bha0YW8bhSSVnCLOQDXS0dJ6SaXgGkraMrnIAm9tTJDnpRtJXfENOLs0alETT0brNa0a6c1OCkt6Mp3hnoylT+ZFrXN/GkAEbZ8bsPmRdR2MPhRTjdh8yLqOxh8KKqrHbD5juhsIcjjHbD5iaUlDDQk9yA7nUjBa83klmymU5yzeguEc/UjW25S7T+ngBjnev8QklktYaumuKJBWChK04t/qWi+aNJkatd2unmjqFdpWuprnZ+ZLHXnppM9eXt6v0r6siVdvUmoed2cxWTaslkv8sSHXSUrJLgrEOKeaVzohlckxqThk9JcJf7L4TU1deae4zEqThLTW7NcUTG51/rWCE00mtaZJG2HHP+ZFcEcU6+jScGr6014E4zbvkjOVXr3vrWTOZvXFcWVYSpp0tF5x+xbLSW5SXCxFdFGMf8h+LRcr/qa8jJjKl2oLdrYGQ04KejU0XlL7mY7pO1WD8UVGmv8A1tPy+5uMVf8Arqfl9zaBiqf3CPkazJU/uEfI1kAABAAAAABzKCna901k1mjiinFSg3dxl99ZaV9mv4TX1X/wFjsABpxQ2MXx1s7IUUm2la+tkhDcVOCnWs27KOtLfdlrOKWudSW69l5ArtKyssiQAyAAAAABDyfIkh5PkB5tLs+YFLs+YKq/BbWp+bzYY8Ftan5vNhAOKs+jpSlwWo7M+Kd9CHF3fkEVwWjBLedAGnEAAA4o7PzZ2cUdn5sL+OwAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA5lkKEVpy16ksyHa+rImUdFLXmrnJzUAAQAAAAlJt2WthUHWleOi1fgdyoOMb3vYqC+JWp2Yb0JRqL9L18iZyUmnva1kL2o2fJmp/h5WzkSU4aV6VnnHUXB0Z8bsPmRdR2MPhRTjdh8yLqOxh8KKqrHbD5iqL0oQW6K+pbjth8xVSVqcQz1cjoAFcgAACGk80nzJAEJJZJLkiQABDyJIYEAPUm+AWtJgWUJWlobnrj/o0GNtr2lnHWa000msmSuvN2MeNpvT6Tc9RkPUlUpWalOPijK6dLTvBSkuD1L1DTjDKXSJxdrp2byZs6RrtU5p+GtFCvp3/AFRs47lbgaYSU43j/wDwlJdc6U56oxcFvbz8jBWf8xxWUW0jbXrqkrLXLcuB57d9ZRB1Dtx5nJbQt0qcr2Wt6gNFf+up+X3NpgqyUsZTcXdavubwMVT+4R8jWZKn9wj5GsgAAIAAClQVWrPTV1FpJeR31el3cRS2tX4l9kWlVV1el3cR1el3cS0AVdXpd3EdXpd3EtAFXV6XdxHV6XdxLQBV1el3cR1el3cS0AVdXpd3Eh4enb2Y6L3Nbi4h5AV0pOVKMnm0dldDYQ5FhEAAAIeT5EkPJ8gPNpdnzApdnzBVX4La1PzebDHgtrU/N5sIBkm9LETe6K0Uam1GLk8krmOn2LvOTuWMdeOwAVzACAG85o9h82dLM4o9l/Ewv4sAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAADmWuVjo5TtUTeSZnohJty155HJMneTfFkGVoCdF2vZ24kAACUnJ2WtgEm3Za2aqVNU1xYpU1TXF8SutWzjB82XMbkz7pXq5wj5soAIzbruKTpz4qzOY5tExjpX15K5yu2uRZ6iyi9HEW3TX1RqMM7pKSzi7m1NNJrJq5qunN+lGN2HzIuo7GHwopxuw+ZF1HYw+FBpVjth5oqp7OPItx2w80VU9nHkGO0VOz5o7OJ9hne8rmAAAAAAAAEMk5AS7L5CPZXJB5PkRHsrkgqRFycXByejHVZb+YIWqpzX2BLjtJLJJAAIhq/g1k+BzaV72V+MXY7AJcVuDlnGK8W7s5dCO5suAX5VQqC3yZbGKirJE2IBtqv/wAqnzR6R5v/AJVPmj0iOvPjFU/uEfI1mSp/cI+RrIoAAgcylGCvJpLxK6lWzcYWb3t5Iqtr0m25cWXEvUi6hJSlUksm/wDBeZ8NnU+L/BoCwAIuFSAYK2LmqjULJJ2A1qrF1XTWtpXfgWHnQxFR1LQUU5PhmegsteYEgAAQ8mSQ8gM+HqRdOEb2klky8xQSdKKaurFkZzhv0o8HmMY+UaQcwnGavF3OiNBDyfIkh5PkB5tLs+YFLs+YKq/BbWp+bzYY8Ftan5vNhBTinai0s5OxXa2rgTiHetCPBaRBY59gAKwhkEsgCTijlL4mdnFLKfxBfxYAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHLspa8jo5kS+EJrRnJeJydNPRUm73OTC1rpSjOCtu1NFdWjb2oZcClNxelF2ZqpVVUVspLNF9bmVlScnZa2aqVNU1xfE6UIxbaWtlNate8IPmxmLJhWrXvCD5soAJrFugADLqLaTss1Y5Xb8jttdGorO92cQ1tss9adWurcS7CyvRSecXYpO8M7VakeNpGqvKcbsPmRdR2MPhRTjdh8yLqOxh8KDoqx2w80Uw2ceRdjth5lcKc3Si4yi9WTQZ6muZ9iXI7OJqcU1KD1p2s7nUeyuSK52WJAAQAAAAACGSQwIeTIh2I8iRThOStpRVknlxDUmhEs4vxLOhe+o/KJzOnaaWlJq1yavxs+0gArAAc6WrV6savPN68dA40vFehKlq1+qJsbv8uo6IZI3Fc1P/AJVPmj0jzf8AyqfNHpEdufGKp/cI+RrMlT+4R8jWRQrqz0Ias3qRYZqj0qr4R1LnvCW5HKVlYkA04rMNnU+L/BoM+GzqfF/gsqVNHUtcnkiO08TOahbe3klvKpRVnKt7TyS4eC8fElJQTnN3k83/AIX5rOFpVJXWq2/dHlxfF7gqyFRU4RjUl7VtZhxMHCtLg3dGxxVnShm+0+HPx4FsqcJ20op24geVFuMk45p6j1o3cU5KztrRz0VO6ehG68CwAAABDyJIeQGKns48jo4g7U14LeNLxY1mfy6rtNxlpRz3rj+bjTGSlFSWTMal4+pbh5a3F6r60Tda+HXPrQQ8nyJIeT5BHm0uz5gUuz5gqr8Ftan5vNhjwW1qfm81yloxcuCuQZW9KtUl46K8iTikv5avm9Z2acb6AEMIgAADml+v4joilnP4gv47AAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAADk6IYEJtJx3Mhpp2eZLQctKKTWtZM52YrkLU7p2ayZLTi7NWZAPFkq85RtqXForABboAAgdQSbvLsrMRjpZuyWbIk43bWpBUSfBZnUVZWOYq70n5HRqQoTTdsTDxTRBDdqlN/wDY0vPq3G7D5kXUdjD4UU43YfMXUdjD4UR1VY7YeaOqK/kQ5HOO2HmjqhsIciVY5qrWvCMn9CuPZXIsqv2p+FN/U4WSLHPsABXMAAAAACGSQ8gILMOrr5Y/5OEd4bJ/DH/JK6cLrFNZWqQ5MvKa+0hyf+CRvrxwADTg5k/RfUhRlO7SbsQ93I6p1HTldZb0c/a9s5+MyODrRkoqdrLiaOihUaqLJ62uJTVq6fsx7K+ownW+OYvfu3nZWszuOuKNc1x/tzn2q/8AKp80ekec/wCrp80eiVOfGKp/cI+RrMlT+4R8jWRXM5aEHLgZkrK2/eWV3eUYfM/8HBY5938CE7+tiTiCclorOUmv9lZk1bRmoxqSz9rUuJZCOim5a5PXJ/n0IVO1TSvq3R4bvsWGXaRT0bqtSqXUVlH/AGTUqaLVOmrz4JZHU3O+jBa3+p5I49mgmlrk9bbf1f5rCocNCGuT0n2VF7/8+LyNCvZXz3me0lepKTi8k7a34JbuWfE0QvorS7VtZUdAAAAABRiJ2WinnrfIvMdd/wAyXkiVribVaTnJJb9SJnBwdpHJppvpoOM1lvMz7dbcUwpyqXtu3s5i7O17cPBl1ebglTirK2ZQPCW1spz04X35M6eT5FGHftzXJl7yfI042ZXm0uz5gUuz5gqL8Ftan5vLsU7UGlnJ2KcFtan5vNFWl0sUrtNO6ZBTa2rgCvSmtK8dJRdtJHUZxn2X5GnGyx0QyTkIAAART7VTmSRT7dTmF/HYACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIOWuHodMgWBptx0c147iVGLWqaT4PUQ0nzObNcGYxpKi3eyvbgHFrNNEaVtzQc75tsg7dOSV2rc2RFwSu02+G440r7mTaT8BgSau39EFFy1vLgSopeLJNSJoA5KObsTGFSp2VorjI0SWobUVduyIgpVZLRj7Kd9Jl8KEIu79uXFjD6pVYcJ39Sa6TnHON2HzF1HYw+FFON2HzIuo7GHwoNKsdsPNHVDYQ5HOO2HmjqhsIciVXFX/m+FL7nJ1Vyr/KcvMscuwAFYAAAAAAbgAIWZ3hcpckvucHeE7E/iJXTheU19pDk/wDBcUVtrHwi/uSN9eOQAacFb3eh3Rpqbbk9SzIks3u3nLVuXE5+V7eevlz9LpYi0/ZXsr6kVoxlHpIPU8ykJNjT454lb2dQ1RRCV/ZWW9nZrmOH9ut+lT/q6fNHonnP+rp80eiU58Yqn9wj5GsyVP7hHyNFWWhTlLfbURVDelOUuLsuSBCVklwJNOFu1De9ltGnoJykvaf0/N5zRhpNTeS7K4+P+i8lrrzzgADLo5qaeg+jtpeJVGCpR0qktKV7rn+by2pNQV3rbyXEo1t6UneT+nIsY66xDc5S03LRayS12/OJOlU72XogDTl8qaVTvZeiGnU72XogQwfKmnU72Xohp1O9l6IgBflU6dTvZeiOXdt3ek3vsSGroljXHeX7cxSckm7LiW1aqS0KepLNoqau+D4EWfAx49WS/a+NSNWGjUdmsmUJXdibPgPBa/Eep9c/bujK1W+5vRNTyfIyNew0s9xqUtKnpcVc1jhOvl9vOpdnzApdnzBVX4La1Pzea5PRi5cFcwwl1fEyUsm7M04iS6vJxd76lYgYZWoxvm9ZM6FOetxs+K1HcY6MUuCsSFZnRqw7LU1wepnGmr2leL4M2ESgpq0oprxGs3mVmILHhra6cnHwetFUtOG0g0uK1ousXmxJEO3U5olNSydyIbSp5FZdgAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAhkHVtRFgIBNhYCDmfahzO7HFTOHxBY7IIlJRzZ1GnVqZLQXF5gktcyko5ux1GFSpktCPF5l1OhCnrSvLiywmuk4n6rp0IQd7aUuLLACNhVDViqi96KZaVPVi4vjBgrnG7DzRdR2MPhRkxdZTtCLvZ62bKSapQTzSRUU47YeaOqGwhyIxkb0Hbc7kYWanRilnHU0KIqZVfGUV9jk6qdmp/+Rf4ObCOffoBYWKwAWFgAFhYANwsGtQHJbhtnL4mV2LcP2JfEyV049WmerrrPwijQZ5660/JfQka78QBYWNOIcuPB2OrCwWWzxxaXgTot9p+h1YWJkav9Or+iVlZAWBWFT/q6fNHonnR/mYuGjrSf2PRI7Txiqf3CPkW4i/R3WSd2VYq9PEQq21F05RqQhou6lJL/IVSpJu2T4PUzqMOklb9Kz8fD/Z3WSnaFk5Pe/0rj/osjFRioxWpDWZxJUgAjoHFSooas5PJEVKmi9GOuX25lKWbvdvNveJGOusTrbcpO8nv/wBAA047oAABDJAHIAAAACJbuaGjwkxLd8SJTvK0U5PgiY3LZ4aF85Nk3UfZWfBa2dxoyfbeiuEf9lsIRgrRSQ+o18bf+1UShNR0peyrq+9mhRUIaKySIqK9Ka8GcVKyhRTb9px1Ii5J4xUuz5gvw+H06Wk94Kq7FU4yp6TWtHnAANJ8X6jSfFgANJ8WNJ8WAA0nxZOk+L9QAIyF3xAAXfEXfEABd8Rd8QAF3xF3xAAXfEXfEABd8Rd8QAF3xF3xAAXfEXfEABd8Rd8QAF3xF3xAAXfEXfEABd8Rd8QAF3xF3xAAXfEXfEABd8Rd8QAF3xF3xAAXfEXYAC+8nSfF+oAEaT4saT4sABpPixpPiwAGk+LDb3sADVgqcZPSa1o3gAQ+B5uJgqdT2NQAFN3xF3xYAC74sXfFgALvixd8WAAu+LF3xYAC74sXfFgALviSm+LAAaUuL9SLviwAF3xYu+LAAXfFi74sABd8WLviwAF3xYu+IAHo4WnGNPSS1s0AAczhGcdGSumeZVj0NX2G1YACFVqJtqbu89ZPT1e8l6gAR1ir3kvUnpqveS9QAOekmspPiOkn7zABkOln7zHSz95gBMh0s/eY6WfvMAGQ6WfvMdLP3mADIdJP3mOkn7zABkOkn7zHST95gAyDnJ6nJkxq1Iqym0vBgBU9NV7yXqOmq95L1AAdPVf/ACS9TvC041J2krgAeiAAP//Z",t:e,steps:h,imageGroups:f,imageGroupsCount:m,showChooseImage:g,groupStepIndex:p,canShowStep:(e,t)=>e.includes(t),isCurrentStep:e=>t.value.currentStep===e,getGroupStepIndex:y,getGroupObjectIndex:_,getPreprocessType:e=>{let n=y(e);return t.value.stepsConfig?.imageGroups?.[n]._preprocessType},getAspectRatio:e=>{let n=y(e);return t.value.stepsConfig?.imageGroups?.[n]._aspectRatio},getImageToCrop:e=>{let n=y(e);return t.value.stepsConfig?.imageGroups?.[n]._imageToCrop},getImageToPreprocess:e=>{let n=y(e);return t.value.stepsConfig?.imageGroups?.[n]._imageToPreprocess},getImageToTransfer:e=>{let n=y(e);return t.value.stepsConfig?.imageGroups?.[n]._imageToTransfer},getImageToShape:e=>A(e).imageToShape,getTransferType:e=>A(e).transferInfo.type,getShapeInfo:e=>{let t=A(e).cropInfo;return t.shapeUrl&&t.shapeMaskUrl?t:null},getObjectAspectRatio:e=>A(e).cropInfo.aspectRatio,getImageGroupDescription:e=>{let n=y(e);return t.value.stepsConfig?.imageGroups?.[n].description},catchAiPreprocessError:e=>{l({type:ux,message:e.message,duration:5e3}),w()},catchTransferError:e=>{l({type:ux,message:e.message,duration:5e3}),w()},setSelectedImage:e=>{C(e),S(e),k(e),O(e),x()},setCroppedImage:(e,t)=>{let n=t?.url||e;S(n),k(n),O(e,t),x()},setAiPreprocessedImage:e=>{C(e),k(e),O(e),x()},setTransferredImage:(e,t)=>{E(e,t),T(e,t),x()},setShapedImage:(e,t,n)=>{T(e,t,n),x()},takeNextStep:x}},render(){return rl("div",null,[rl(uL,null,null),rl(uF,null,null),rl("section",{class:"flex flex-col flex-auto overflow-auto"},[rl(tZ,null,[this.imageGroupsCount>1?tz(rl(di,null,null),[[rB,this.showChooseImage]]):null]),this.steps.map(e=>rl(n1,null,[this.canShowStep(e,uf)?rl(n1,null,[this.getImageGroupDescription(e)?tz(rl(da,null,{default:()=>[this.imageGroupsCount>1?`${this.t("")} ${this.getGroupStepIndex(e)+1}${this.t("")} `:"",this.getImageGroupDescription(e)]}),[[rB,this.isCurrentStep(e)]]):null,this.getPreprocessType(e)===uu.HEAD&&1===this.imageGroupsCount?tz(rl("div",{class:"w-full px-4"},[rl("img",{src:this.frontalFaceImage,alt:"Example",class:"w-full p-2 bg-white rounded-sm overflow-hidden"},null)]),[[rB,this.isCurrentStep(e)]]):null,tz(rl(uq,{change:this.setSelectedImage},null),[[rB,this.isCurrentStep(e)]])]):null,this.canShowStep(e,um)?tz(rl(u5,{file:this.getImageToCrop(e),aspectRatio:this.getAspectRatio(e),next:this.setCroppedImage},null),[[rB,this.isCurrentStep(e)]]):null,this.canShowStep(e,ug)?rl("div",null,[this.isCurrentStep(e)?rl(dn,{file:this.getImageToPreprocess(e),type:this.getPreprocessType(e),next:this.setAiPreprocessedImage,catchError:this.catchAiPreprocessError},null):null]):null,this.canShowStep(e,uv)?rl("div",null,[this.isCurrentStep(e)?rl(dr,{file:this.getImageToTransfer(e),type:this.getTransferType(e),next:t=>this.setTransferredImage(t,this.getGroupObjectIndex(e)),catchError:this.catchTransferError},null):null]):null,rl(tZ,null,[this.canShowStep(e,uy)&&this.isCurrentStep(e)?tz(rl(u5,{file:this.getImageToShape(e),shapeInfo:this.getShapeInfo(e),aspectRatio:this.getObjectAspectRatio(e),next:(t,n)=>this.setShapedImage(t,this.getGroupObjectIndex(e),n)},null),[[rB,this.isCurrentStep(e)]]):null]),this.canShowStep(e,u_)?tz(rl(de,{next:this.takeNextStep},null),[[rB,this.isCurrentStep(e)]]):null,this.canShowStep(e,ub)&&this.isCurrentStep(e)?rl(dt,{next:this.takeNextStep},null):null]))])])}}),dl=tq({name:"PreviewHeader",setup(){let{t:e}=i2(),t=nE("backToDesignMode");return{t:e,back:()=>{t()}}},render(){return rl(uj,{title:this.t("-")},{leftButton:()=>rl(uN,{onclick:this.back},null)})}}),du=tq({name:"PreviewDesignInfo",setup(){let e=nE("commonData"),{t}=i2();return{t,designName:rP(()=>e.value.designInfo?.name),designSize:rP(()=>e.value.designInfo?.size),designColor:rP(()=>e.value.designInfo?.color)}},render(){return rl(n1,null,[this.designName||this.designSize||this.designColor?rl("div",{class:"w-full px-9 pb-5"},[this.designName?rl("h3",{class:"text-xl font-bold mb-3"},[this.designName]):null,this.designSize?rl("p",{class:"mb-2"},[this.t(""),this.t(""),rc(" "),this.designSize]):null,this.designColor?rl("p",{class:"mb-2"},[this.t(""),this.t(""),rc(" "),this.designColor]):null]):null])}}),dc=tq({name:"SaveButton",props:{onSave:Function},setup(e){let t=t_(()=>e.onSave),n=nE("commonData"),r=nE("updateCommonMessageData"),a=nE("saveParams"),{t:i}=i2(),o=rP(()=>n.value.loadingSaveButton),s=rP(()=>n.value.designerConfig?.canShowPreviewStep),l=nE("updateCommonLoadingSaveButtonStatus"),u=rP(()=>n.value.designerConfig?.saveButtonType||uA),c=rP(()=>u.value===uA?i("-"):i("-")),d=async()=>{if(o.value)return;l(!0);let e=await a();t.value?.(e)},h=async()=>{try{await d()}catch(e){r({type:uC,message:e.message,duration:5e3});return}uY("-")};return t7(()=>{s.value||h()}),{loading:o,buttonText:c,save:h}},render(){return rl(uX,null,{left:()=>null,center:()=>null,right:()=>rl(uD,{class:"flex-1",loading:this.loading,type:"theme",onClick:this.save},{default:()=>[this.buttonText]})})}}),dd=tq({name:"SaveLoading",setup(){let e=nE("commonData"),t=rP(()=>e.value.loadingSaveButton),n=rP(()=>e.value.designerConfig?.saveButtonType||uA);return{loading:t,isAddToCartType:rP(()=>n.value===uA)}},render(){return rl("div",{class:"z-1 absolute top-0 left-0 right-0 bottom-0 modal-shadow-bg flex items-end"},[rl("div",{class:"w-full h-1/3 rounded-lg shadow-sm bg-white m-5 flex items-center justify-center"},[rl("svg",{class:"animate-spin h-40 w-40 text-primary mr-1 absolute",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[rl("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null),rl("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null)]),this.loading?this.isAddToCartType?rl(n1,null,[rl("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"animate-pulse h-12 w-12 text-primary mr-1"},[rl("path",{d:"M2.25 2.25a.75.75 0 000 1.5h1.386c.17 0 .318.114.362.278l2.558 9.592a3.752 3.752 0 00-2.806 3.63c0 .414.336.75.75.75h15.75a.75.75 0 000-1.5H5.378A2.25 2.25 0 017.5 15h11.218a.75.75 0 00.674-.421 60.358 60.358 0 002.96-7.228.75.75 0 00-.525-.965A60.864 60.864 0 005.68 4.509l-.232-.867A1.875 1.875 0 003.636 2.25H2.25zM3.75 20.25a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM16.5 20.25a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z"},null)])]):rl(n1,null,[rl("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"animate-pulse h-12 w-12 text-primary mr-1"},[rl("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-2.625 6c-.54 0-.828.419-.936.634a1.96 1.96 0 00-.189.866c0 .298.059.605.189.866.108.215.395.634.936.634.54 0 .828-.419.936-.634.13-.26.189-.568.189-.866 0-.298-.059-.605-.189-.866-.108-.215-.395-.634-.936-.634zm4.314.634c.108-.215.395-.634.936-.634.54 0 .828.419.936.634.13.26.189.568.189.866 0 .298-.059.605-.189.866-.108.215-.395.634-.936.634-.54 0-.828-.419-.936-.634a1.96 1.96 0 01-.189-.866c0-.298.059-.605.189-.866zm2.023 6.828a.75.75 0 10-1.06-1.06 3.75 3.75 0 01-5.304 0 .75.75 0 00-1.06 1.06 5.25 5.25 0 007.424 0z","clip-rule":"evenodd"},null)])]):rl(n1,null,[rl("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"animate-ping h-12 w-12 text-primary mr-1"},[rl("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z","clip-rule":"evenodd"},null)])])])])}});!function(){let e;class t{constructor(e){this.id=-1,this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,self.Touch&&e instanceof Touch?this.id=e.identifier:n(e)&&(this.id=e.pointerId)}getCoalesced(){return"getCoalescedEvents"in this.nativePointer?this.nativePointer.getCoalescedEvents().map(e=>new t(e)):[this]}}let n=e=>self.PointerEvent&&e instanceof PointerEvent,r=()=>{};class a{constructor(e,{start:a=()=>!0,move:i=r,end:o=r,rawUpdates:s=!1}={}){this._element=e,this.startPointers=[],this.currentPointers=[],this._pointerStart=e=>{0!==e.button||this._triggerPointerStart(new t(e),e)&&(n(e)?((e.target&&"setPointerCapture"in e.target?e.target:this._element).setPointerCapture(e.pointerId),this._element.addEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.addEventListener("pointerup",this._pointerEnd),this._element.addEventListener("pointercancel",this._pointerEnd)):(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd)))},this._touchStart=e=>{for(let n of Array.from(e.changedTouches))this._triggerPointerStart(new t(n),e)},this._move=e=>{let n=this.currentPointers.slice(),r="changedTouches"in e?Array.from(e.changedTouches).map(e=>new t(e)):[new t(e)],a=[];for(let e of r){let t=this.currentPointers.findIndex(t=>t.id===e.id);-1!==t&&(a.push(e),this.currentPointers[t]=e)}0!==a.length&&this._moveCallback(n,a,e)},this._triggerPointerEnd=(e,t)=>{let n=this.currentPointers.findIndex(t=>t.id===e.id);if(-1===n)return!1;this.currentPointers.splice(n,1),this.startPointers.splice(n,1);let r="touchcancel"===t.type||"pointercancel"===t.type;return this._endCallback(e,t,r),!0},this._pointerEnd=e=>{if(this._triggerPointerEnd(new t(e),e))if(n(e)){if(this.currentPointers.length)return;this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd)}else window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)},this._touchEnd=e=>{for(let n of Array.from(e.changedTouches))this._triggerPointerEnd(new t(n),e)},this._startCallback=a,this._moveCallback=i,this._endCallback=o,this._rawUpdates=s&&"onpointerrawupdate"in window,self.PointerEvent?this._element.addEventListener("pointerdown",this._pointerStart):(this._element.addEventListener("mousedown",this._pointerStart),this._element.addEventListener("touchstart",this._touchStart),this._element.addEventListener("touchmove",this._move),this._element.addEventListener("touchend",this._touchEnd),this._element.addEventListener("touchcancel",this._touchEnd))}stop(){this._element.removeEventListener("pointerdown",this._pointerStart),this._element.removeEventListener("mousedown",this._pointerStart),this._element.removeEventListener("touchstart",this._touchStart),this._element.removeEventListener("touchmove",this._move),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(e,t){return!!this._startCallback(e,t)&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}("pinch-zoom {\n  display: block;\n  overflow: hidden;\n  touch-action: none;\n  --scale: 1;\n  --x: 0;\n  --y: 0;\n}\n\npinch-zoom > * {\n  transform: translate(var(--x), var(--y)) scale(var(--scale));\n  transform-origin: 0 0;\n  will-change: transform;\n}\n");let i="min-scale",o="max-scale",s="no-default-pan",l="two-finger-pan";function u(e,t){return t?Math.sqrt((t.clientX-e.clientX)**2+(t.clientY-e.clientY)**2):0}function c(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}function d(e,t){return"number"==typeof e?e:e.trimRight().endsWith("%")?t*parseFloat(e)/100:parseFloat(e)}function h(){return e||(e=document.createElementNS("http://www.w3.org/2000/svg","svg"))}function p(){return h().createSVGMatrix()}function f(){return h().createSVGPoint()}class m extends HTMLElement{constructor(){super(),this._transform=p(),this._enablePan=!0,this._twoFingerPan=!1,new MutationObserver(()=>this._stageElChange()).observe(this,{childList:!0});const e=new a(this,{start:(t,n)=>2!==e.currentPointers.length&&!!this._positioningEl&&((this.enablePan||1==e.currentPointers.length||n instanceof PointerEvent&&"mouse"==n.pointerType)&&(this.enablePan=!0,n.preventDefault()),!0),move:t=>{this.enablePan&&this._onPointerMove(t,e.currentPointers)},end:(t,n,r)=>{this.twoFingerPan&&1==e.currentPointers.length&&(this.enablePan=!1)}});this.addEventListener("wheel",e=>this._onWheel(e))}static get observedAttributes(){return[i,o,s,l]}attributeChangedCallback(e,t,n){e===i&&this.scale<this.minScale&&this.setTransform({scale:this.minScale}),e===o&&this.scale>this.maxScale&&this.setTransform({scale:this.maxScale}),e===s&&("1"==n||"true"==n?this.enablePan=!1:this.enablePan=!0),e===l&&("1"==n||"true"==n?(this.twoFingerPan=!0,this.enablePan=!1):this.twoFingerPan=!1)}get minScale(){let e=this.getAttribute(i);if(!e)return .01;let t=parseFloat(e);return Number.isFinite(t)?Math.max(.01,t):.01}set minScale(e){this.setAttribute(i,String(e))}get maxScale(){let e=this.getAttribute(o);if(!e)return 100;let t=parseFloat(e);return Number.isFinite(t)?Math.min(100,t):100}set maxScale(e){this.setAttribute(o,String(e))}set enablePan(e){this._enablePan=e,this._enablePan?this._enablePan&&"none"!=this.style.touchAction&&(this.style.touchAction="none"):this.style.touchAction="pan-y pan-x"}get enablePan(){return this._enablePan}set twoFingerPan(e){this._twoFingerPan=e}get twoFingerPan(){return this._twoFingerPan}connectedCallback(){this._stageElChange()}get x(){return this._transform.e}get y(){return this._transform.f}get scale(){return this._transform.a}scaleTo(e,t={}){let{originX:n=0,originY:r=0}=t,{relativeTo:a="content",allowChangeEvent:i=!1}=t,o="content"===a?this._positioningEl:this;if(!o||!this._positioningEl)return void this.setTransform({scale:e,allowChangeEvent:i});let s=o.getBoundingClientRect();if(n=d(n,s.width),r=d(r,s.height),"content"===a)n+=this.x,r+=this.y;else{let e=this._positioningEl.getBoundingClientRect();n-=e.left,r-=e.top}this._applyChange({allowChangeEvent:i,originX:n,originY:r,scaleDiff:e/this.scale})}setTransform(e={}){let{scale:t=this.scale,allowChangeEvent:n=!1}=e,{x:r=this.x,y:a=this.y}=e;if(!this._positioningEl)return void this._updateTransform(t,r,a,n);let i=this.getBoundingClientRect(),o=this._positioningEl.getBoundingClientRect();if(!i.width||!i.height)return void this._updateTransform(t,r,a,n);let s=f();s.x=o.left-i.left,s.y=o.top-i.top;let l=f();l.x=o.width+s.x,l.y=o.height+s.y;let u=p().translate(r,a).scale(t).multiply(this._transform.inverse());s=s.matrixTransform(u),l=l.matrixTransform(u),s.x>i.width?r+=i.width-s.x:l.x<0&&(r+=-l.x),s.y>i.height?a+=i.height-s.y:l.y<0&&(a+=-l.y),this._updateTransform(t,r,a,n)}_updateTransform(e,t,n,r){if(!(e<this.minScale)&&!(e>this.maxScale)&&(e!==this.scale||t!==this.x||n!==this.y)&&(this._transform.e=t,this._transform.f=n,this._transform.d=this._transform.a=e,this.style.setProperty("--x",this.x+"px"),this.style.setProperty("--y",this.y+"px"),this.style.setProperty("--scale",this.scale+""),r)){let e=new Event("change",{bubbles:!0});this.dispatchEvent(e)}}_stageElChange(){this._positioningEl=void 0,0!==this.children.length&&(this._positioningEl=this.children[0],this.children.length>1&&console.warn("<pinch-zoom> must not have more than one child."),this.setTransform({allowChangeEvent:!0}))}_onWheel(e){if(!this._positioningEl)return;e.preventDefault();let t=this._positioningEl.getBoundingClientRect(),{deltaY:n}=e,{ctrlKey:r,deltaMode:a}=e;1===a&&(n*=15);let i=1-n/(r?100:300);this._applyChange({scaleDiff:i,originX:e.clientX-t.left,originY:e.clientY-t.top,allowChangeEvent:!0})}_onPointerMove(e,t){if(!this._positioningEl)return;let n=this._positioningEl.getBoundingClientRect(),r=c(e[0],e[1]),a=c(t[0],t[1]),i=r.clientX-n.left,o=r.clientY-n.top,s=u(e[0],e[1]),l=u(t[0],t[1]);this._applyChange({originX:i,originY:o,scaleDiff:s?l/s:1,panX:a.clientX-r.clientX,panY:a.clientY-r.clientY,allowChangeEvent:!0})}_applyChange(e={}){let{panX:t=0,panY:n=0,originX:r=0,originY:a=0,scaleDiff:i=1,allowChangeEvent:o=!1}=e,s=p().translate(t,n).translate(r,a).translate(this.x,this.y).scale(i).translate(-r,-a).scale(this.scale);this.setTransform({allowChangeEvent:o,scale:s.a,x:s.e,y:s.f})}}customElements.get("pinch-zoom")||customElements.define("pinch-zoom",m)}();let dh="",dp=({commonData:e,sample:t,bus:n,updateCommonMessageData:r,updateCommonSampleFile:a,getContentTag:i})=>{let o=rP(()=>e.value.stepsConfig?.imageGroups||[]),s=rP(()=>e.value.stepsConfig?.textGroups||[]),l=rP(()=>e.value.stepsConfig?.backgroundColor||""),u=rP(()=>e.value.templateDesignConfig?.enable_background_color||!1);rP(()=>e.value.designerConfig.canShowPlayground);let c=async()=>{let t=e.value.LessDesignerService;for(let e of(u.value&&(l.value?(window.popTimeStart?.("LessDesignerServiceChangeBackgroundColor"),t.changeBackgroundColor(l.value),window.popTimeEnd?.("LessDesignerServiceChangeBackgroundColor")):(window.popTimeStart?.("LessDesignerServiceResetOriginalBackgroundColor"),t.resetOriginalBackgroundColor(),window.popTimeEnd?.("LessDesignerServiceResetOriginalBackgroundColor"))),s.value))window.popTimeStart?.("LessDesignerServiceChangeText"),await t.changeText({text:e._value,color:e._color,font:e._font},e.object_ids.map(e=>Number(e)),!0!==e.enable_max_length),window.popTimeEnd?.("LessDesignerServiceChangeText");let n=[];for(let e of o.value)if(e._image)for(let r of e._objects.filter(e=>0===e.sameShapeObjectIds.length||e.isFirstSameShape)){let e=r.image;if(!r.isFirstSameShape){n.push(t.changeImage(e,[Number(r.objectId)],r.originalInfo));continue}for(let a of r.sameShapeObjectIds)n.push(t.changeImage(e,[Number(a)],r.originalInfo))}n.length&&(window.popTimeStart?.("LessDesignerServiceChangeImage"),await Promise.all(n),window.popTimeEnd?.("LessDesignerServiceChangeImage"))},d=async()=>{if(!e.value.loadedModel)return Promise.resolve();window.popTimeStart?.("LessDesignerServiceUpdate");let t=e.value.LessDesignerService,n=e.value.modelColor;n&&await t.change2DColor(n),await c(),window.popTimeStart?.("LessDesignerServiceUpdateCanvasTexture"),await t.updateCanvasTexture(),window.popTimeEnd?.("LessDesignerServiceUpdateCanvasTexture"),window.popTimeStart?.("LessDesignerServiceGenerateSample");let r=await t.generateSample();return window.popTimeEnd?.("LessDesignerServiceGenerateSample"),a(r.blob),window.popTimeEnd?.("LessDesignerServiceUpdate"),Promise.resolve()},h=e=>{n.emit(uI,e)},p=async()=>{if(!e.value.loadedModel)return null;let n=i();if(n===dh)return t.value;try{await d(),dh=n}catch(e){return console.error("generateSampleError",e),r({type:uC,message:e.message,duration:5e3}),null}return t.value},f=async()=>{h(!0);let e=await p();h(!1),n.emit(uM,{sample:e})};return{generateSample:d,updateSample:p,updateSampleAndEmitEvent:f}},df=tq({name:"PreviewSample",setup(){let e=nE("commonData"),t=nE("sample"),n=nE("bus"),r=nE("updateCommonMessageData"),{generateSample:a}=dp({commonData:e,sample:t,bus:n,updateCommonMessageData:r,updateCommonSampleFile:nE("updateCommonSampleFile"),getContentTag:nE("getContentTag")}),i=tc(!0),o=tc(!1),s=rP(()=>e.value.loadingSaveButton),l=rP(()=>e.value.designerConfig?.canShowSaveButton||!1),u=rP(()=>e.value.designerConfig?.canShowPreviewStep||!0);return n$(()=>e.value.loadedModel,async()=>{if(e.value.loadedModel){i.value=!0;try{await a()}catch(e){r({type:uC,message:e.message,duration:5e3});return}finally{i.value=!1}uY("-")}},{immediate:!0}),n$(()=>s.value,()=>{if(s.value){o.value=s.value;return}setTimeout(()=>{o.value=s.value},1e3)},void 0),{canShowSaveButton:l,canShowSaveLoading:o,canShowPreviewStep:u,generating:i,sample:t,updateSaveData:e=>{n.emit(uP,e)}}},render(){return rl("div",{class:"relative flex flex-col"},[rl(dl,null,null),rl("div",{class:"flex items-center justify-center flex-col bg-base-100"},[rl("div",{class:"p-5 relative"},[this.generating?rl("svg",{class:"animate-spin h-10 w-10 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[rl("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null),rl("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null)]):rl("svg",{class:"absolute top-6 left-6 z-1 rounded-full shadow-sm bg-white h-10 w-10 p-1 text-primary",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 62.5"},[rl("g",null,[rl("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.343,7.009c0.971-0.401,2.094,0.064,2.498,1.035l6.576,15.882   c0.173,0.427,0.72,0.658,1.152,0.478c0.451-0.186,0.664-0.702,0.478-1.151l-2.317-5.597c-0.193-0.468-0.19-0.983,0.004-1.457   c0.197-0.475,0.562-0.842,1.031-1.035c0.465-0.195,0.983-0.195,1.461,0.002c0.475,0.197,0.841,0.562,1.035,1.032l2.68,6.475   c0.187,0.449,0.698,0.664,1.151,0.478c0.452-0.186,0.664-0.702,0.478-1.151l-1.698-4.107c-0.18-0.433-0.18-0.917,0.004-1.358   c0.181-0.439,0.52-0.782,0.955-0.963c0.901-0.373,1.948,0.057,2.321,0.962l1.897,4.581c0.189,0.454,0.709,0.658,1.152,0.478   c0.455-0.189,0.662-0.704,0.478-1.154l-0.917-2.213c-0.367-0.902,0.062-1.94,0.965-2.313c0.437-0.181,0.918-0.183,1.356,0.004   c0.441,0.181,0.782,0.522,0.963,0.955l5.132,12.506l0.074,0.213c0.458,1.86,0.492,4.098,0.524,6.263   c0.028,1.86,0.056,3.633,0.331,5.194l-13.916,5.761c-3.021-1.824-4.788-2.568-6.21-3.16c-1.615-0.674-2.781-1.159-5.071-2.885   c-1.056-0.794-2.195-1.872-3.296-2.913c-1.345-1.269-2.61-2.469-3.774-3.229c-1.196-0.781-2.433-2.207-2.301-3.003   c0.115-0.655,1.347-0.787,1.872-0.813c0.602-0.034,1.254,0.046,1.858,0.222c0.509,0.151,0.989,0.369,1.426,0.65   c1.071,0.689,4.72,2.929,7.577,3.424c0.356,0.059,0.651,0.067,0.932-0.204c0.248-0.231,0.365-0.653,0.223-0.969L17.312,9.506   C16.909,8.533,17.372,7.412,18.343,7.009 M22.47,7.37c-0.777-1.87-2.933-2.767-4.799-1.988c-1.871,0.774-2.763,2.929-1.99,4.799   l9.432,22.783c-2.331-0.805-4.881-2.392-5.467-2.769c-0.578-0.371-1.213-0.66-1.884-0.857c-0.79-0.235-1.631-0.333-2.445-0.295   c-2.746,0.138-3.382,1.484-3.519,2.277c-0.333,1.974,1.866,3.988,3.075,4.779c1.03,0.672,2.241,1.818,3.527,3.031   c1.136,1.077,2.314,2.187,3.445,3.039c2.469,1.861,3.788,2.409,5.452,3.105c1.502,0.626,3.204,1.336,6.357,3.27   c0.145,0.088,0.303,0.128,0.462,0.128c0.11,0,0.227-0.022,0.337-0.066l15.001-6.211c0.402-0.167,0.624-0.601,0.52-1.023   c-0.377-1.539-0.407-3.487-0.439-5.549c-0.032-2.263-0.068-4.602-0.574-6.656c-0.042-0.174-0.084-0.291-0.152-0.459l-5.135-12.51   c-0.359-0.87-1.039-1.551-1.918-1.912c-0.873-0.365-1.836-0.365-2.704-0.004c-0.618,0.257-1.115,0.674-1.484,1.178   c-0.874-1.521-2.752-2.211-4.411-1.519c-0.602,0.251-1.104,0.662-1.483,1.178c-0.401-0.706-1.009-1.264-1.776-1.581   c-0.913-0.379-1.908-0.377-2.809-0.004c-0.634,0.261-1.161,0.695-1.554,1.24L22.47,7.37z M16.237,1.921   c-1.908,0.788-3.394,2.277-4.184,4.185c-0.793,1.908-0.793,4.01,0,5.92c0.176,0.43,0.389,0.836,0.629,1.214   c0.26,0.409,0.811,0.53,1.216,0.268c0.411-0.261,0.532-0.807,0.269-1.218c-0.187-0.293-0.351-0.606-0.487-0.939   c-0.629-1.519-0.582-3.152,0-4.563c0.584-1.416,1.708-2.61,3.232-3.241c1.475-0.607,3.097-0.61,4.572,0.002   c1.472,0.612,2.62,1.76,3.229,3.232c0.14,0.339,0.249,0.686,0.323,1.031c0.104,0.476,0.554,0.776,1.051,0.674   c0.473-0.103,0.775-0.572,0.674-1.047c-0.099-0.448-0.239-0.893-0.418-1.332c-0.792-1.908-2.277-3.396-4.184-4.186   C20.247,1.13,18.147,1.128,16.237,1.921z M19.23,25.806c-1.719-1.007-3.723-1.287-5.642-0.783   c-1.924,0.501-3.537,1.721-4.542,3.436c-1.007,1.715-1.282,3.717-0.78,5.641c0.5,1.924,1.719,3.536,3.435,4.542   c0.387,0.227,0.786,0.413,1.19,0.564c0.447,0.18,0.965-0.068,1.133-0.517c0.171-0.453-0.06-0.961-0.517-1.132   c-0.309-0.116-0.616-0.259-0.913-0.435c-1.308-0.768-2.241-1.999-2.624-3.465c-0.382-1.468-0.17-2.997,0.598-4.305   c0.768-1.31,1.998-2.241,3.466-2.624c1.471-0.381,2.997-0.168,4.304,0.598c0.303,0.176,0.58,0.377,0.837,0.595   c0.373,0.319,0.929,0.276,1.244-0.094c0.317-0.369,0.273-0.927-0.096-1.245C19.986,26.298,19.624,26.035,19.23,25.806z M3.39,6.724   C3.001,7.015,2.921,7.566,3.21,7.955c0.294,0.391,0.844,0.471,1.236,0.181l0.752-0.562L2.15,28.582l-0.564-0.755   c-0.291-0.391-0.842-0.471-1.232-0.179c-0.391,0.291-0.471,0.845-0.179,1.234l1.836,2.457c0.291,0.39,0.844,0.468,1.232,0.179   l2.457-1.833c0.389-0.292,0.47-0.843,0.178-1.234c-0.293-0.391-0.845-0.469-1.233-0.179l-0.753,0.562L6.94,7.827l0.564,0.755   C7.796,8.97,8.349,9.049,8.736,8.76c0.392-0.293,0.472-0.845,0.179-1.234L7.079,5.069C6.79,4.679,6.236,4.599,5.847,4.89   L3.39,6.724z"},null)])]),tz(rl("pinch-zoom",{class:"border-dotted border border-slate-800"},[this.sample?rl("img",{id:"preview-img",src:this.sample},null):null]),[[rB,!1===this.generating&&this.sample&&this.sample.length]])]),rl(du,null,null)]),!1===this.generating&&this.canShowSaveButton?tz(rl(dc,{onSave:this.updateSaveData},null),[[rB,this.canShowPreviewStep]]):null,this.canShowSaveLoading?rl(dd,null,null):null])}});var dm={889:function(e,t,n){var r=0/0,a=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=u||c||Function("return this")(),h=Object.prototype.toString,p=Math.max,f=Math.min,m=function(){return d.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==h.call(t))return r;if(g(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=g(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var u=o.test(e);return u||s.test(e)?l(e.slice(2),u?2:8):i.test(e)?r:+e}e.exports=function(e,t,n){var r,a,i,o,s,l,u=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw TypeError("Expected a function");function _(t){var n=r,i=a;return r=a=void 0,u=t,o=e.apply(i,n)}function b(e){var n=e-l,r=e-u;return void 0===l||n>=t||n<0||d&&r>=i}function A(){var e,n,r,a=m();if(b(a))return w(a);s=setTimeout(A,(e=a-l,n=a-u,r=t-e,d?f(r,i-n):r))}function w(e){return(s=void 0,h&&r)?_(e):(r=a=void 0,o)}function x(){var e,n=m(),i=b(n);if(r=arguments,a=this,l=n,i){if(void 0===s)return u=e=l,s=setTimeout(A,t),c?_(e):o;if(d)return s=setTimeout(A,t),_(l)}return void 0===s&&(s=setTimeout(A,t)),o}return t=y(t)||0,g(n)&&(c=!!n.leading,i=(d="maxWait"in n)?p(y(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),x.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=a=s=void 0},x.flush=function(){return void 0===s?o:w(m())},x}}},dg={};function dv(e){var t=dg[e];if(void 0!==t)return t.exports;var n=dg[e]={exports:{}};return dm[e](n,n.exports,dv),n.exports}dv.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return dv.d(t,{a:t}),t},dv.d=function(e,t){for(var n in t)dv.o(t,n)&&!dv.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},dv.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),dv.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var dy={};!function(){dv.d(dy,{A:function(){return tb}});let e=window.POP_FABRIC,t={crossOrigin:"anonymous"},n="TEMPLATE_VERSION",r="TEMPLATE_MODE",a="OBJECT_ID",i="CAN_USE",o="QUALITY_LEVEL",s="IS_SUPPORT_OFFSET_PRINTING",l="CARVING_CONFIG",u="BACKGROUND_COLOR_CONFIG",c="MAX_SCALE",d="MIN_SCALE",h="BASE_SCALE",p="TARGET_SCALE_PERCENTAGE",f="ORIGIN_URL",m="ORIGIN_WIDTH",g="ORIGIN_HEIGHT",y="IMAGE_CUSTOMIZE_INFO",_="IS_TILED_OBJECT",b="TILE_INFO",A="TILE_OBJECT_OPACITY",w="TILE_RECT_ID",x="IS_TILING_IMAGE",C="EFFECTS_INFO",S="TEXT_ARC_ANGLE",k="CUSTOM_TYPE",E="CROP_INFO",T="TEXT_CUSTOM_FONT_URL",O="TEXT_COLORS",P="REPLACE_WITH",I=["text","fontSize","fontWeight","fontStyle","fontFamily","charSpacing","lineHeight","textAlign"],M={noScaleCache:!0,objectCaching:!1,statefullCache:!1,selection:!1,evented:!1,excludeFromExport:!1,hasControls:!1,hasBorders:!1,selectable:!1,lockScalingFlip:!0,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0,stateful:!1,renderOnAddRemove:!1,dirty:!1,imageSmoothing:!1},L=[r,n,"REAL_MODEL_NAME","SHOELACES_DATA","CODE","NAME","I18_NAME","WIDTH","HEIGHT","PARAMS","SCALE","PICKING",u,s,"IS_SUPPORT_CARVING",l,"ROTATION_DIRECTION",C,"USED_EFFECT_TYPES",i,d,c,h,p,f,m,g,"IMAGE_ID",y,"NEED_ASSOCIATED_WIDTH_ADN_HEIGHT",_,x,w,b,A,"TEXT_SHADOW_ANGLE","TEXT_SHADOW_DISTANCE",S,k,E,o,...I,"objectCaching","evented","lockScalingFlip","centeredScaling","centeredRotation","base64","trimLeft","trimTop","trimWidth","trimHeight","isLocked",T,O,P,a],D="text-group",R=["image","i-text","rect",D,"group"],N={originX:"center",originY:"center",flipX:!1,flipY:!1,angle:0,visible:!0,lockScalingFlip:!0,centeredScaling:!0,centeredRotation:!0};Object.assign({},N,{originX:"left",originY:"top"});let j=Object.assign({},N,{dirty:!0,textAlign:"center",fontSize:20,fill:"#000000",strokeWidth:0});Object.assign({},N);class F extends Error{constructor(){super("It looks like you have speical symbols in your text, please delete them")}}let B=[...I,"fill","stroke","strokeWidth","strokeLineJoin","strokeLineCap","paintFirst","shadow"].filter(e=>"text"!==e),U=e=>e*Math.PI/180,V=(t,n)=>"paintFirst"===n?t.stroke&&t.strokeWidth?"stroke":"fill":void 0===t[n]?e.Text.prototype[n]:t[n],W=e=>e[O]||[],z=(e,t)=>{let n=W(e);if(0===n.length)return e.fill;let r=t%n.length;return n[r]},H=(t,n)=>new e.IText(t,{originX:"center",originY:"center",...n}),$=e=>{e.stroke&&e.strokeWidth&&e.set("paintFirst","fill");let t=e.text,n=t.replaceAll("\n",""),r=e[S];for(;n.length>0&&e.size()>=n.length;)e.remove(e.item(e.size()-1));0===n.length&&(e._objects=[]);let a={};for(let t of B)a[t]=V(e,t);if(1===n.length||0===r){e._objects=[];let n=((e,t)=>{if(0===W(e).length)return{};let n={},r=t.split("\n"),a=0;for(let[i,o]of Object.entries(r))for(let r in n[i]={},o){if(" "===t[Number(i)+Number(r)]){n[i][r]={fill:e.fill};continue}n[i][r]={fill:z(e,a)},a++}return n})(e,t);e.add(H(t,{...a,styles:n}));return}let i=0;for(let[t,r]of Object.entries(n)){let n=e.fill;if(" "!==r&&(n=z(e,i),i++),void 0===e.item(t)){e.add(H(r,{...a,fill:n}));continue}e.item(t).set({...a,styles:{},fill:n,text:r})}},K=e=>Number(V(e,"charSpacing")||0)/20,q=(e,t)=>{let n=K(e),r=0,a=0;for(let i=0;i<t;i++){let t=e.item(i);r+=Number(t.width),a=Math.max(Number(t.height),a),r+=n}return{allTextWidth:r,maxTextHeight:a}},G=e=>{let t=e.text.replaceAll("\n","").length,n=e[S];if(0===n||1===t){let t,n,r;return void(n=(t=e.item(0)).width,r=t.height,e.set("width",n),e.set("height",r))}let{allTextWidth:r,maxTextHeight:a}=q(e,t),i=Math.abs(n),o=U(i/2),s=i>=180?1:Math.sin(o),l=r/U(i),u=l-Math.cos(o)*l,c=+Number(V(e,"fontSize")),d=s*l*2+Number(c),h=u+a,p=K(e);for(let a=0;a<t;a++){let t=e.item(a),o=q(e,a).allTextWidth/r*i+(t.width+p)*.5/r*i-.5*i;n<0&&(o*=-1);let s=h/2-.6*c,u=Math.cos(U(o))*l,d=Math.sin(U(o))*l,f=l-u-s,m=d;n<0&&(f*=-1,m*=-1),t.set("top",f),t.set("left",m),t.set("angle",o)}e.set("width",d),e.set("height",h)},Y=e=>{$(e),G(e)};var X=dv(889),J=dv.n(X);Object.is("production","production");let Z=t=>new FontFace(t.font_family,`url(${t.url})`).load().then(n=>{e.fontPaths[t.font_family]=t.url,document.fonts.add(n)}),Q=(e,t=0)=>Number(Number(e).toFixed(t));navigator.userAgent.indexOf("Mac OS X");let ee=(e,t)=>{if(!e)return!1;let n=e.replace(/\s*/g,"");return n=n.toLowerCase(),t.includes(n)},et=e=>ee(e,["#ffffff00","#00000000","rgba(255,255,255,0)","rgba(0,0,0,0)"]);J()((e,t)=>{e(t)},300);let en=(t,n)=>{if(!Array.isArray(t)||0===t.length)throw Error("_createSvgGroup image load failed");return e.util.groupSVGElements(t,n)},er=(e,n)=>new Promise((r,a)=>{e.setSrc(n,(e,t)=>t?a(Error(`setImageSrc image load failed ${n}`)):r(e),t)}),ea=({id:t,width:n,height:r,enableRetinaScaling:a=!0,imageSmoothingEnabled:i=!0})=>{let o=new e.StaticCanvas(t,{enableRetinaScaling:a,imageSmoothingEnabled:i});return o.setWidth(n),o.setHeight(r),o},ei=(e,t)=>new Promise(n=>{e.loadFromJSON(t,()=>{n(e)})}),eo=(e,t=[])=>new Promise(n=>{e.clone(e=>{n(e)},t)}),es=(e,t)=>e[s]&&(ee(t,["#ffffff","#fff","white","rgba(255,255,255,1)"])||et(t))?"":e[u]?e[u]:et(t)?"#ffffff":null,el=e=>!!e.type&&!!(ec(e)||eu(e)),eu=e=>"i-text"===e.type,ec=e=>"group"===e.type&&e[k]===D,ed=e=>"image"===e.type&&e[y]?.isCarvingText,eh=e=>!!e&&!!e[E],ep=e=>!!e[x]&&!0===e[x],ef=e=>!0===e[_],em=({canvasWidth:e,canvasHeight:t,multiplier:n,textObject:r})=>{let a=ea({id:"textCanvas",width:e,height:t,enableRetinaScaling:!1});a.add(r),a.renderAll();let i=((e,t=1)=>{let n=e.canvas.width,r=e.canvas.height,a=function(e,t={}){let{alpha:n=0}=t,{data:r,width:a,height:i}=e,o=0,s=i-1,l=0,u=a-1,c=!1,d=!1,h=!1,p=!1;for(let e=0;e<i&&!c;e++)for(let t=0;t<a;t++)if(r[(e*a+t)*4+3]>n){o=e,c=!0;break}for(let e=i-1;e>=0&&!d;e--)for(let t=0;t<a;t++)if(r[(e*a+t)*4+3]>n){s=e,d=!0;break}for(let e=0;e<a&&!h;e++)for(let t=0;t<i;t++)if(r[(t*a+e)*4+3]>n){l=e,h=!0;break}for(let e=a-1;e>=0&&!p;e--)for(let t=0;t<i;t++)if(r[(t*a+e)*4+3]>n){u=e,p=!0;break}return{top:o,bottom:s,left:l,right:u}}(e.getImageData(0,0,n,r),{alpha:0}),i=a.left,o=a.top,s=a.right,l=a.bottom;return{left:(i=Math.max(0,i-0))/t,top:(o=Math.max(0,o-0))/t,width:((s=Math.min(n,s+0))-i)/t,height:((l=Math.min(r,l+0))-o)/t}})(a.getContext("2d",{willReadFrequently:!0}),1);return{base64:a.toDataURL({format:"png",quality:1,left:i.left,top:i.top,width:i.width,height:i.height,multiplier:n}),left:i.left,top:i.top,width:i.width,height:i.height}},eg=(e,t)=>{if(!t[w])return null;for(let n of e.getObjects())if(Number(t[w])===Number(n[a]))return n;return null},ev=(e,t)=>e&&t?e.getObjects().findIndex(e=>e[a]===t[a]):-1,ey=()=>{let e=new window.CustomEvent("image:start_tile");window.dispatchEvent(e)},e_=()=>{let e=new window.CustomEvent("image:complete_tile");window.dispatchEvent(e)},eb=async(t,n,r)=>{let i=n;el(n)&&(i=await ex(t,n));let o=i.getBoundingRect(),s=r.mode||"grid",l=o.width+(r.gapWidth||0),u=o.height+(r.gapHeight||0),c=new window.CustomEvent("COMPLEX_TILE_EVENT");l<0&&(l=o.width,window.dispatchEvent(c)),u<0&&(u=o.height,window.dispatchEvent(c)),l=Math.floor(l),u=Math.floor(u);let d=Math.ceil(t.width),h=Math.ceil(t.height),p=i.getPointByOrigin("left","top"),f={clone:0,createPattern:0},m=Date.now();f.createPattern=Date.now()-m;let g=Math.ceil(p.x)%l,y=Math.ceil(p.y)%u;g>0&&(g-=l),y>0&&(y-=u);let _=h+u;"half-drop"===s&&(_+=u,y-=u);let C=d+l;"half-brick"===s&&(C+=l,g-=l);let S=g,k=y,E=Math.ceil((p.y+u)/u),T=Math.ceil((p.x+l)/l),O=E%2==0,P=T%2==0,I=0,L=0;n[b].points=[];let D=[],R={};for(;k<_;){L++;let t=!i.flipX;for(;S<C;){I++,m=Date.now();let r=null;r=el(n)?await eo(i,[]):e.util.object.clone(i,!1),f.clone=f.clone+(Date.now()-m);let a=k,o=S,c=L%2==0,d=I%2==0;"half-drop"===s&&(a=P===d?k:k+-(u/2*1)),"half-brick"===s&&(o=O===c?S:S+-(l/2*1)),"mirror"===s&&(c?r.flipY=!0===O?i.flipY:!i.flipY:r.flipY=!0===O?!i.flipY:i.flipY,r.flipX=!t,t=!t),r.set({originX:"left",originY:"top",left:o,top:a,opacity:n[A],...M}),R={},"mirror"===s&&(R.flipX=r.flipX,R.flipY=r.flipY),S+=l,("row"!==s||E===L)&&("column"!==s||T===I)&&(n[b].points.push({ox:o,oy:a,...R}),D.push(r))}I=0,S=g,k+=u}let N=eg(t,n);null!==N&&(N._objects=[],t.remove(N));let j=new e.Group(D,{...M});j[x]=!0,j[a]=n[w]=Date.now();let F=ev(t,n);t.insertAt(j,Math.max(0,F-1)),eA(t),t.renderAll()},eA=e=>{for(let[t,n]of e.getObjects().entries())if(ef(n)){let r=eg(e,n);if(null!==r){let n=ev(e,r);-1!==n&&n!==Math.max(0,t-1)&&(e.moveTo(r,Math.max(0,t-1)),e.renderAll(),eA(e))}}},ew=async(e,t,n)=>{let r={...n};r.points&&delete r.points,t[A]=ef(t)?t[A]:t.opacity,t[_]=!0,t[b]=r,t.set("opacity",0),ey(),Date.now(),await eb(e,t,r),e_()},ex=async(t,n)=>{let r=await eo(n,[]),a=1e3/r.getScaledWidth();r.set({opacity:n[A],left:1e3,top:1e3,scaleX:r.scaleX*a,scaleY:r.scaleY*a});let{base64:i}=em({canvasWidth:2e3,canvasHeight:2e3,multiplier:3,textObject:r}),o=await (t=>{if(!t)throw Error("Empty url");return new Promise(/^http.*svg$/.test(t)||t.startsWith("<svg")?t.startsWith("<svg")?(n,r)=>{e.loadSVGFromString(t,(e,t)=>{try{return n(en(e,t))}catch(e){return r(e)}})}:(n,r)=>{e.loadSVGFromURL(t,(e,t)=>{try{return n(en(e,t))}catch(e){return r(e)}},null,{crossOrigin:"anonymous"})}:(n,r)=>{e.Image.fromURL(t,(e,a)=>a?r(Error(`createImage image load failed ${t}`)):n(e),{crossOrigin:"anonymous"})})})(i);return o.set({left:n.left,top:n.top,originX:n.originX,originY:n.originY}).scale(1/a/3),o},eC=async(e,t)=>{if(!ef(t))return;let n={mode:t[b].mode||"grid",gapWidth:t[b].gapWidth,gapHeight:t[b].gapHeight};ey(),Date.now(),await eb(e,t,n),e_()},eS=e=>{let{width:t,height:n}=e.PARAMS;return{width:t,height:n}},ek="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function eE(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),n)}function eT(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on".concat(t),n)}function eO(e,t){let n=t.slice(0,t.length-1);for(let t=0;t<n.length;t++)n[t]=e[n[t].toLowerCase()];return n}function eP(e){"string"!=typeof e&&(e="");let t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}let eI={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,arrowup:38,arrowdown:40,arrowleft:37,arrowright:39,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":ek?173:189,"=":ek?61:187,";":ek?59:186,"'":222,"{":219,"}":221,"[":219,"]":221,"\\":220},eM={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,meta:91,command:91},eL={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},eD={16:!1,18:!1,17:!1,91:!1},eR={};for(let e=1;e<20;e++)eI["f".concat(e)]=111+e;let eN=[],ej=null,eF="all",eB=new Map,eU=e=>eI[e.toLowerCase()]||eM[e.toLowerCase()]||e.toUpperCase().charCodeAt(0);function eV(e){eF=e||"all"}function eW(){return eF||"all"}function ez(e){if(void 0===e)Object.keys(eR).forEach(e=>{Array.isArray(eR[e])&&eR[e].forEach(e=>eH(e)),delete eR[e]}),eG(null);else if(Array.isArray(e))e.forEach(e=>{e.key&&eH(e)});else if("object"==typeof e)e.key&&eH(e);else if("string"==typeof e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let[a,i]=n;"function"==typeof a&&(i=a,a=""),eH({key:e,scope:a,method:i,splitKey:"+"})}}let eH=e=>{let{key:t,scope:n,method:r,splitKey:a="+"}=e;eP(t).forEach(e=>{let t=e.split(a),i=t.length,o=t[i-1],s="*"===o?"*":eU(o);if(!eR[s])return;n||(n=eW());let l=i>1?eO(eM,t):[],u=[];eR[s]=eR[s].filter(e=>{let t=(!r||e.method===r)&&e.scope===n&&function(e,t){let n=e.length>=t.length?e:t,r=e.length>=t.length?t:e,a=!0;for(let e=0;e<n.length;e++)-1===r.indexOf(n[e])&&(a=!1);return a}(e.mods,l);return t&&u.push(e.element),!t}),u.forEach(e=>eG(e))})};function e$(e,t,n,r){let a;if(t.element===r&&(t.scope===n||"all"===t.scope)){for(let e in a=t.mods.length>0,eD)Object.prototype.hasOwnProperty.call(eD,e)&&(!eD[e]&&t.mods.indexOf(+e)>-1||eD[e]&&-1===t.mods.indexOf(+e))&&(a=!1);(0!==t.mods.length||eD[16]||eD[18]||eD[17]||eD[91])&&!a&&"*"!==t.shortcut||(t.keys=[],t.keys=t.keys.concat(eN),!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function eK(e,t){let n=eR["*"],r=e.keyCode||e.which||e.charCode;if(e.key&&"capslock"===e.key.toLowerCase()||!eq.filter.call(this,e))return;if((93===r||224===r)&&(r=91),-1===eN.indexOf(r)&&229!==r&&eN.push(r),["metaKey","ctrlKey","altKey","shiftKey"].forEach(t=>{let n=eL[t];e[t]&&-1===eN.indexOf(n)?eN.push(n):!e[t]&&eN.indexOf(n)>-1?eN.splice(eN.indexOf(n),1):"metaKey"===t&&e[t]&&(eN=eN.filter(e=>e in eL||e===r))}),r in eD){for(let t in eD[r]=!0,eM)if(Object.prototype.hasOwnProperty.call(eM,t)){let n=eL[eM[t]];eq[t]=e[n]}if(!n)return}for(let t in eD)Object.prototype.hasOwnProperty.call(eD,t)&&(eD[t]=e[eL[t]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===eN.indexOf(17)&&eN.push(17),-1===eN.indexOf(18)&&eN.push(18),eD[17]=!0,eD[18]=!0);let a=eW();if(n)for(let r=0;r<n.length;r++)n[r].scope===a&&("keydown"===e.type&&n[r].keydown||"keyup"===e.type&&n[r].keyup)&&e$(e,n[r],a,t);if(!(r in eR))return;let i=eR[r],o=i.length;for(let n=0;n<o;n++)if(("keydown"===e.type&&i[n].keydown||"keyup"===e.type&&i[n].keyup)&&i[n].key){let r=i[n],{splitKey:o}=r,s=r.key.split(o),l=[];for(let e=0;e<s.length;e++)l.push(eU(s[e]));l.sort().join("")===eN.sort().join("")&&e$(e,r,a,t)}}function eq(e,t,n){eN=[];let r=eP(e),a=[],i="all",o=document,s=0,l=!1,u=!0,c="+",d=!1,h=!1;for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(i=t.scope),t.element&&(o=t.element),t.keyup&&(l=t.keyup),void 0!==t.keydown&&(u=t.keydown),void 0!==t.capture&&(d=t.capture),"string"==typeof t.splitKey&&(c=t.splitKey),!0===t.single&&(h=!0)),"string"==typeof t&&(i=t),h&&ez(e,i);s<r.length;s++)e=r[s].split(c),a=[],e.length>1&&(a=eO(eM,e)),(e="*"===(e=e[e.length-1])?"*":eU(e))in eR||(eR[e]=[]),eR[e].push({keyup:l,keydown:u,scope:i,mods:a,shortcut:r[s],method:n,key:r[s],splitKey:c,element:o});if(void 0!==o&&window){if(!eB.has(o)){let e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;return eK(e,o)},t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;eK(e,o);let t=e.keyCode||e.which||e.charCode;e.key&&"capslock"===e.key.toLowerCase()&&(t=eU(e.key));let n=eN.indexOf(t);if(n>=0&&eN.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&eN.splice(0,eN.length),(93===t||224===t)&&(t=91),t in eD)for(let e in eD[t]=!1,eM)eM[e]===t&&(eq[e]=!1)};eB.set(o,{keydownListener:e,keyupListenr:t,capture:d}),eE(o,"keydown",e,d),eE(o,"keyup",t,d)}if(!ej){let e=()=>{eN=[]};ej={listener:e,capture:d},eE(window,"focus",e,d)}}}function eG(e){let t=Object.values(eR).flat();if(0>t.findIndex(t=>{let{element:n}=t;return n===e})){let{keydownListener:t,keyupListenr:n,capture:r}=eB.get(e)||{};t&&n&&(eT(e,"keyup",n,r),eT(e,"keydown",t,r),eB.delete(e))}if((t.length<=0||eB.size<=0)&&(Object.keys(eB).forEach(e=>{let{keydownListener:t,keyupListenr:n,capture:r}=eB.get(e)||{};t&&n&&(eT(e,"keyup",n,r),eT(e,"keydown",t,r),eB.delete(e))}),eB.clear(),Object.keys(eR).forEach(e=>delete eR[e]),ej)){let{listener:e,capture:t}=ej;eT(window,"focus",e,t),ej=null}}let eY={getPressedKeyString:function(){return eN.map(e=>Object.keys(eI).find(t=>eI[t]===e)||Object.keys(eM).find(t=>eM[t]===e)||String.fromCharCode(e))},setScope:eV,getScope:eW,deleteScope:function(e,t){let n,r;for(let t in e||(e=eW()),eR)if(Object.prototype.hasOwnProperty.call(eR,t))for(r=0,n=eR[t];r<n.length;)n[r].scope===e?n.splice(r,1).forEach(e=>{let{element:t}=e;return eG(t)}):r++;eW()===e&&eV(t||"all")},getPressedKeyCodes:function(){return eN.slice(0)},getAllKeyCodes:function(){let e=[];return Object.keys(eR).forEach(t=>{eR[t].forEach(t=>{let{key:n,scope:r,mods:a,shortcut:i}=t;e.push({scope:r,shortcut:i,mods:a,keys:n.split("+").map(e=>eU(e))})})}),e},isPressed:function(e){return"string"==typeof e&&(e=eU(e)),-1!==eN.indexOf(e)},filter:function(e){let t=e.target||e.srcElement,{tagName:n}=t,r=!0,a="INPUT"===n&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(a||"TEXTAREA"===n||"SELECT"===n)&&!t.readOnly)&&(r=!1),r},trigger:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(eR).forEach(n=>{eR[n].filter(n=>n.scope===t&&n.shortcut===e).forEach(e=>{e&&e.method&&e.method()})})},unbind:ez,keyMap:eI,modifier:eM,modifierMap:eL};for(let e in eY)Object.prototype.hasOwnProperty.call(eY,e)&&(eq[e]=eY[e]);if("undefined"!=typeof window){let e=window.hotkeys;eq.noConflict=t=>(t&&window.hotkeys===eq&&(window.hotkeys=e),eq),window.hotkeys=eq}let eX={1:"good",2:"average",3:"poor"};function eJ(e){return{scaleX:e.scaleX*e.canvas.SCALE,scaleY:e.scaleY*e.canvas.SCALE}}function eZ(...e){window.checkQuality&&window.checkQuality(...e)}class eQ{canvases=null;object_tile_points={};static PRINTS_PARAMS_OBJECT_WHITELIST=["type","left","top","width","height","scaleX","scaleY","opacity","angle","flipX","flipY","base64","trimLeft","trimTop","trimWidth","trimHeight","src","image_id",r,n,P];constructor(e){this.canvases=this._normalize(e)}getDesignParams(){return this.canvases}async getPrintsParams(){let e=[];for(let t of this.canvases){let n=this._initPrintsParamsCanvas(t),r=[];for(let e of t.objects){let n=await this._getPrintsParamsObject(t,e);!1!==n&&r.push(n)}n.objects=r,e.push(n)}return Object.freeze(e),e}async _getPrintsParamsObject(e,t){if(!1===t.visible||ep(t))return!1;let n={};if(ef(t)&&(n.opacity=t[A]||1),el(t)){if(""===t.text)return!1;(n=await this._handlePrintsParamsText(e,t,n)).type="e-text"}if("image"===t.type&&!1===(n=this._handlePrintsParamsImage(t,n)))return!1;if(t[b]){let e=this.object_tile_points[t[a]];e&&(n[b]={points:e,gapWidth:t[b].gapWidth,gapHeight:t[b].gapHeight,mode:t[b].mode})}if(eh(t)){let e=t[E];n.cropInfo={shapeUrl:e.shapeUrl,imageUrl:n.src,width:Math.floor(e.width*e.multiplier),height:Math.floor(e.height*e.multiplier),left:Math.floor(e.left*e.multiplier),top:Math.floor(e.top*e.multiplier),angle:Math.floor(e.angle||0)}}for(let e of eQ.PRINTS_PARAMS_OBJECT_WHITELIST)void 0!==t[e]&&void 0===n[e]&&(n[e]=t[e]);return""===n[P]&&delete n[P],n}_handlePrintsParamsImage(e,t){let n=e[C]&&"transfer_original"!==e[C].type;if(e[f]&&(t.src=e[f]),n&&(t.src=e[C].image),eh(e)){let n=e[E].multiplier;t.scaleX=e.scaleX/n,t.scaleY=e.scaleY/n,t.width=e.width*n,t.height=e.height*n}else{let n=e.width,r=e.height;t.scaleX=e.scaleX*(n/e[m]),t.scaleY=e.scaleY*(r/e[g]),t.width=e[m],t.height=e[g]}return null!==t.scaleX&&null!==t.scaleY&&t}_initPrintsParamsCanvas(e){return{code:e.CODE,name:e.NAME,background:e.background,template_mode:e[r],template_version:e[n],print_width:e.PARAMS.width,print_height:e.PARAMS.height,canvas_width:e.WIDTH,canvas_height:e.HEIGHT,final_crop_width:e.PARAMS.crop_width,final_crop_height:e.PARAMS.crop_height,final_crop_left:e.PARAMS.crop_left,final_crop_top:e.PARAMS.crop_top,objects:[]}}async _handlePrintsParamsText(e,t,n){let r=await this._enlivenObject(t);if(ec(r)&&!r.objects&&Y(r),ef(t)&&(r.opacity=t[A]||1,Y(r)),!ef(t)&&null===r.shadow&&!1===/\p{Extended_Pictographic}/u.test(t.text)){ec(r)&&(r.shadow=null,r.stroke=null,r.fill=null,r.clipPath=null);let t=ea({id:"textCanvas",width:e.WIDTH,height:e.HEIGHT});return t.renderOnAddRemove=!1,t.add(r),n.textSvg=this._generateTextSvg(t,e.SCALE),n}let a=null;if(ef(t)){let t=1e3/r.getScaledWidth();r.set({left:1e3,top:1e3,scaleX:r.scaleX*t,scaleY:r.scaleY*t}),a=em({canvasWidth:2e3,canvasHeight:2e3,multiplier:e.SCALE/t,textObject:r})}else a=em({canvasWidth:e.WIDTH,canvasHeight:e.HEIGHT,multiplier:e.SCALE,textObject:r});return n.base64=a.base64,n.trimLeft=a.left,n.trimTop=a.top,n.trimWidth=a.width,n.trimHeight=a.height,this._resetBase64TextAttributes(n),n}_resetBase64TextAttributes(e){e.angle=0,e.flipX=!1,e.flipY=!1,e.opacity=1,e.scaleX=1,e.scaleY=1}_generateTextSvg(e,t){let n=e.width*t,r=e.height*t,a=e.getZoom()*t,i=e.viewportTransform;return e.viewportTransform=[a,0,0,a,i[4]*t,i[5]*t],e.width=n,e.height=r,e.calcViewportBoundaries(),e.renderAll(),e.toSVG(null,e=>e.replaceAll("SVGID_",`SVGID_${(Math.random()+1).toString(36).slice(5)}`)).replaceAll("\n","").replaceAll("	","")}async _enlivenObject(t){let n;return(await (n=[t],new Promise(t=>{e.util.enlivenObjects(n,e=>{t(e)})}))).pop()}_normalize(e){let t=[];for(let n of e){let e=n.toDatalessJSON?n.toDatalessJSON(L):n;e=this._normalizeCanvas(e),t.push(e)}return Object.freeze(t),t}_normalizeCanvas(e){delete e.PICKING,null===e.SHOELACES_DATA&&delete e.SHOELACES_DATA,!1===e.IS_SUPPORT_CARVING&&(delete e.CARVING_CONFIG,delete e.IS_SUPPORT_CARVING),!1===e.IS_SUPPORT_OFFSET_PRINTING&&delete e.IS_SUPPORT_OFFSET_PRINTING;let t=this._normalizeObjects(e);return e.objects=t,Object.freeze(e),e}_normalizeObjects(e){let t=[];for(let n of e.objects){let r=this._normalizeObject(e,n);!1!==r&&t.push(r)}return Object.freeze(t),t}_shouldNormalize(e){if(!0===ep(e)||!R.includes(e.type)||el(e)&&null!==e.text.match(/^\s*$/))return!1}_normalizeObject(e,t){if(!1===this._shouldNormalize(t))return!1;let n={},r=["base64",[w],"QUALITY_LEVEL","backgroundColor",[y],[b]];for(let e in t)r.includes(e)||null!==t[e]&&(n[e]=t[e]);return ef(t)&&t[b].points?(this.object_tile_points[n[a]]=JSON.parse(JSON.stringify(t[b].points)),n[b]={gapWidth:t[b].gapWidth,gapHeight:t[b].gapHeight,mode:t[b].mode}):(delete n[b],delete n[w],delete n[_]),""===t[T]&&delete n[T],""===t[P]&&delete n[P],t.IMAGE_CUSTOMIZE_INFO&&(n.IMAGE_CUSTOMIZE_INFO=this._normalizeImageCustomizeInfo(t.IMAGE_CUSTOMIZE_INFO)),Object.freeze(n),n}_normalizeImageCustomizeInfo(e){let t={id:e.id||"",title:e.title||"",url:e.url};return e.isCarvingImage?{...t,isCarvingImage:e.isCarvingImage}:e.isCarvingText?(""===e.textParams[T]&&delete e.textParams[T],{...t,isCarvingText:e.isCarvingText,textParams:e.textParams}):t}}let e0=e=>{window.POP_IS_WEBGL1||e.fire("fabric:history:add")},e1=async(e,t,n)=>{await ew(e,t,n),e0(e)},e2=async(e,t)=>{await eC(e,t),e0(e)},e5=async(e,t,n)=>{await e3(e,t,n),t.renderAll(),e0(t)},e3=async(e,t,n)=>{await er(e,n.url),e.set({[f]:n.originalUrl,[m]:n.width,[g]:n.height,[y]:n});let r=e[m]/e.width/t.SCALE;e.set({[h]:r/100,[c]:r,[p]:e.scaleX/r*100})},e4=async(e,t)=>{if(ec(t))try{Y(t),e.renderAll()}catch{throw new F}await eC(e,t),t&&t.set({[o]:(e=>{if(!e||!e.canvas||ed(e))return null;let t=Math.max(function(e){if(!e||"image"!==e.type)return null;let{scaleX:t,scaleY:n}=eJ(e),r=Q(e.width*t),a=Q(e.height*n),i=e.height/e.width,o=a/r,s=100*Math.abs(i-o);switch(eZ("getDistortLevel","currentWidth",r,"currentHeight",a,"originalWidth",e.width,"originalHeight",e.height,"originalRatio",i,"currentRatio",o,"diff",s),!0){case s>60:return 3;case s>10:return 2}return null}(e),function(e){if(!e||"image"!==e.type)return null;let{scaleX:t,scaleY:n}=eJ(e);switch(eZ("getUpscaleLevel scaleX",t=Q(100*t*(e.width/e[m])),"scaleY",n=Q(100*n*(e.height/e[g]))),!0){case t>160||n>160:return 3;case t>110||n>110:return 2}return null}(e));return(0===t&&(t=1),eX[t])?{level:t,levelName:eX[t]}:null})(t)}),e.renderAll()},{Scene:e6}=window.BABYLON,{Engine:e8}=window.BABYLON,{SceneLoader:e7}=window.BABYLON,{RenderTargetTexture:e9}=window.BABYLON,{Texture:te}=window.BABYLON,{RawTexture:tt}=window.BABYLON,{PBRMaterial:tn}=window.BABYLON,{StandardMaterial:tr}=window.BABYLON,{Vector3:ta}=window.BABYLON,{Color4:ti,Color3:to}=window.BABYLON,{HemisphericLight:ts}=window.BABYLON,{TransformNode:tl}=window.BABYLON,{MeshBuilder:tu}=window.BABYLON,{Mesh:tc}=window.BABYLON,{ActionManager:td}=window.BABYLON,{ExecuteCodeAction:th}=window.BABYLON,{DracoCompression:tp,DracoDecoder:tf}=window.BABYLON,{KhronosTextureContainer2:tm}=window.BABYLON,{HtmlElementTexture:tg}=window.BABYLON,{ArcRotateCamera:tv}=window.BABYLON;class ty{static _engine=null;static _urls_cached=[];createEngine(e){this._measureStart("create engine");let t=!1;window?.location?.href?.includes("disableWebgl2")&&(t=!0);let n=!0,r=!0;window?.navigator?.userAgent?.includes("Mobile")&&(n=!1,r=!1);let a=null;try{a=new e8(this.canvas,r,{preserveDrawingBuffer:n,antialias:r,stencil:!1,disableWebGL2Support:t,doNotHandleContextLost:!1,audioEngine:!1})}catch(e){if("WebGL not supported"!==e.message||!1===n)throw e;n=!1,r=!1}return a||(a=new e8(this.canvas,r,{preserveDrawingBuffer:n,antialias:r,stencil:!1,disableWebGL2Support:t,doNotHandleContextLost:!1,audioEngine:!1})),a.setHardwareScalingLevel(e),a.enableOfflineSupport=!1,a.disableManifestCheck=!0,a.disablePerformanceMonitorInBackground=!0,a.disableUniformBuffers=!0,this._measureEnd("create engine"),window.POP_IS_WEBGL1=1==a.version,this._setCapabilities(a),a}setFeatures(e){this._features=e??{}}getCapabilities(){return this._capabilities??{}}_setCapabilities(e){this._capabilities={webglVersion:e.version,...e.getGlInfo()};let t=e.getCaps();for(let e in t){if(null===t[e]){this._capabilities[e]=!1;continue}if("object"==typeof t[e]){this._capabilities[e]=!0;continue}this._capabilities[e]=t[e]}}isWebgl2(){if(null===this._engine)throw this._wrapError("This method can only be called after init!",403);return 2==this._engine.version}constructor(e,t=!1,n=.5){this.use_static_engine=t;try{e7.ShowLoadingScreen=!1}catch(e){throw this._wrapError("Please make sure BABYLON is loaded!",403)}e instanceof HTMLCanvasElement?this.canvas=e:this.canvas=document.getElementById(e),this._capabilities={},this._features={use_etc1s_mask:!1},this._measureStart("init engine"),(null===ty._engine||!1===this.use_static_engine)&&(this._engine=this.createEngine(n),ty._engine=this._engine),this.use_static_engine&&ty._engine&&(this._engine=ty._engine);let r=this._engine.getRenderingCanvasClientRect();if(r.width!==r.height)throw this._wrapError("Please make sure the canvas is a square!",403);this._measureEnd("init engine"),this._screenshot_canvas=null,this._selected_scene=null,this._scene_2d=null,this._scene_3d=null,this._actions=[],this.models_2d=[],this.models_2d_colors=[],this.model_3d_colors=[],this.model_3d=null,this.dynamic_textures={},this._enable_highlight_part=!0,this._render_interval=null,this._id=Date.now()+(this.canvas?.id?"-"+this.canvas.id:""),this._samplingMode=7,this._compressionSettings(),this.axios=null,window.popaxios&&(this.axios=window.popaxios.createAxios()),window.addEventListener("resize",()=>{null!==this._engine&&this._engine.resize()})}getId(){return this._id}getSelectedScene(){return this._selected_scene}enableHighlightPart(e){this._enable_highlight_part=e}_compressionSettings(){let e="3ddesigner.oss-cn-hongkong.aliyuncs.com",t=window.location.href;-1!==t.indexOf("popcustoms.com")&&(e="3ddesigner.popcustoms.com"),-1!==t.indexOf("popcustoms.cn")&&(e="3ddesigner.popcustoms.cn"),tp.Configuration={decoder:{wasmUrl:"https://"+e+"/ext/157draco_wasm_wrapper_gltf.js",wasmBinaryUrl:"https://"+e+"/ext/157draco_decoder_gltf.wasm",fallbackUrl:"https://"+e+"/ext/157draco_decoder_gltf.js"}},void 0!==tf&&(tf.DefaultConfiguration=tp.Configuration.decoder),tm.URLConfig={jsDecoderModule:"https://"+e+"/ext/babylon.ktx2Decoder.js",wasmUASTCToASTC:"https://"+e+"/ext/uastc_astc.wasm",wasmUASTCToBC7:"https://"+e+"/ext/uastc_bc7.wasm",wasmUASTCToR8_UNORM:"https://"+e+"/ext/uastc_r8_unorm.wasm",wasmUASTCToRG8_UNORM:"https://"+e+"/ext/uastc_rg8_unorm.wasm",wasmUASTCToRGBA_SRGB:"https://"+e+"/ext/uastc_rgba8_srgb_v2.wasm",wasmUASTCToRGBA_UNORM:"https://"+e+"/ext/uastc_rgba8_unorm_v2.wasm",jsMSCTranscoder:"https://"+e+"/ext/msc_basis_transcoder.js",wasmMSCTranscoder:"https://"+e+"/ext/msc_basis_transcoder.wasm",wasmZSTDDecoder:"https://"+e+"/ext/zstddec.wasm.wasm"},tm.DefaultDecoderOptions.useRGBAIfASTCBC7NotAvailableWhenUASTC=!1,tm.DefaultDecoderOptions.useRGBAIfOnlyBC1BC3AvailableWhenUASTC=!1,tm.DefaultDecoderOptions.bypassTranscoders=["UniversalTranscoder_UASTC_ASTC","UniversalTranscoder_UASTC_BC7","UniversalTranscoder_UASTC_RGBA_UNORM","UniversalTranscoder_UASTC_RGBA_SRGB","UniversalTranscoder_UASTC_R8_UNORM","UniversalTranscoder_UASTC_RG8_UNORM"]}async show2D(){if(!this.models_2d)throw this._wrapError("Please init2DModels first",403);this._selected_scene&&"2d"==this._selected_scene._type?this._startRender(8):this._scene_2d&&(this._measureStart("show2D"),await this._selectScene(this._scene_2d),this._measureEnd("show2D"),this._startRender(8))}_startRender(e=12){this._render_interval&&clearInterval(this._render_interval),this._engine.stopRenderLoop(),this._render_interval=window.setInterval(()=>{this._selected_scene&&this._selected_scene.activeCamera&&this._selected_scene.render()},1e3/e)}async show3D(){if(!this.model_3d)throw this._wrapError("Please init3DModel first",403);this._selected_scene&&"3d"==this._selected_scene._type?this._startRender(24):(this._measureStart("show3D"),this._scene_3d&&(await this._selectScene(this._scene_3d),this._measureEnd("show3D"),this._startRender(24)))}async init2DModels(e,t=[],n=!1,r=""){this.models_2d=e.models,this.models_2d_colors=e.colors;let a=r||this.models_2d_colors[0].name;await this.change2DColor(a);let i=this.models_2d;for(let e of(t.length>0&&(i=this.models_2d.filter(e=>t.includes(e.name))),i))e._should_be_init=!0,e._creating_scene=!0;await this._create2DScenes(i,n)}async init3DModel(e){this.model_3d=e.model,this.model_3d_colors=e.colors,await this.change3DColor(this.model_3d_colors[0].name),await this._create3DScene()}resetEngine(){this._measureStart("reset engine"),this._engine.dispose(),ty._engine=this._engine=null,this._measureEnd("reset engine")}reset(){for(let e in this._reset2D(),this._reset3D(),this.dynamic_textures)for(let t in this.dynamic_textures[e])this.dynamic_textures[e][t].dispose()}_reset2D(){for(let e of this.models_2d)e.scene&&(e.scene.dispose(),e.scene=null);this._scene_2d=null,this._selected_scene=null,this.models_2d=[],this.models_2d_colors=[]}_reset3D(){this.model_3d&&this.model_3d.scene&&(this.model_3d.scene.dispose(),this.model_3d.scene=null),this._scene_3d=null,this._selected_scene=null,this.model_3d=null,this.model_3d_colors=[]}async change2DPreview(e){let t=this.models_2d.find(t=>t.name===e);if(!t)throw this._wrapError("Could not find the preview",404);if(this._measureStart(null,"change preview "+e),!1!==await this._makeSureModelIsReady(t)){if(await this._update2DMaskBySelectedColor(t),null!==this._selected_scene&&e==this._selected_scene._name)return void this._measureEnd(null,"change preview "+e);this._scene_2d=t.scene,await this._selectScene(this._scene_2d),this._measureEnd(null,"change preview "+e)}}_unselectPreviousScene(){for(let e of(this._measureStart("unselect previous scene"),this._selected_scene.actionManager&&this._selected_scene.actionManager.dispose(),this._selected_scene.meshes))e.isPickable=!1,e.actionManager&&e.actionManager.dispose();this._measureEnd("unselect previous scene")}get3DColors(){return this.model_3d_colors||[]}get2DColors(){return this.models_2d_colors||[]}get2DPreviewsData(){let e=[];for(let t of this.models_2d)t.selected_color&&e.push({en_name:t.en_name,zh_name:t.zh_name,ja_name:t.ja_name,preview_name:t.name,preview_url:t.selected_color.preview_url,thumb_url:t.selected_color.thumb_url,is_selected:t.is_selected});return e}async update2DColorMaskUrl(e,t,n){let r=null;for(let a of this.models_2d)if(a.name===t)for(let t of(r=a,a.colors))t.color.name===e&&(t.mask_url=await this._processMaskUrl(n));this._selected_scene&&r&&await this._update2DMaskBySelectedColor(r)}async change2DColor(e){if(!e)return;let t=null;for(let n of this.models_2d_colors)if(n.name===e){if(n.is_selected&&!0===n.is_selected)return;t=n,n.is_selected=!0}else n.is_selected=!1;if(null===t)throw this._wrapError("Could not find the color",404);for(let e of this.models_2d){let n=!1;for(let r of e.colors)r.color.name===t.name&&(e.selected_color=r,await this._update2DMaskBySelectedColor(e),n=!0);!1===n&&(e.selected_color=void 0)}this._selected_scene&&await this._waitForSceneReady(this._selected_scene)}async change3DColor(e){if(!e)return;let t="";for(let n of this.model_3d_colors)if(n.name===e){if(n.is_selected&&!0===n.is_selected)return;n.is_selected=!0,t=n}else n.is_selected=!1;if(null===t)throw this._wrapError("Could not find the color",404);let n=!1;for(let e of this.model_3d.colors)e.color.name===t.name&&(this.model_3d.selected_color=e,this._update3DOtherMaterial(),n=!0);!1===n&&(this.model_3d.selected_color=void 0),this._selected_scene&&await this._waitForSceneReady(this._selected_scene)}update3DPreview(e,t,n,r){if(!this.model_3d||!this.model_3d.print_meshes||!this._scene_3d)return!1;for(let a of(e=e.toLowerCase(),this.model_3d.print_meshes))if(a.name===e&&a?.mesh?.material){if(a.mesh._is_mask_at_top&&!a.mesh.material.albedoTexture.update){this._measureStart("create 3d emb mesh texture "+e),a.mesh.material.albedoTexture=new tt(t,n,r,e8.TEXTUREFORMAT_RGBA,this._scene_3d,!1,!1),this._setAlbedoMaterial(a.mesh,0,.45),this._measureEnd("create 3d emb mesh texture "+e);continue}if(!a.mesh.material.albedoTexture)return this._measureStart("create 3d mesh texture "+e),a.mesh.material.albedoTexture=new tt(t,n,r,e8.TEXTUREFORMAT_RGBA,this._scene_3d,!1,!1),a.mesh.material.albedoTexture.hasAlpha=!1,this._measureEnd("create 3d mesh texture "+e),!0;return this._measureStart("update 3d mesh texture "+e),a.mesh.material.albedoTexture.update(t),a.mesh._is_mask_at_top&&this._setAlbedoMaterial(a.mesh,0,.45),this._measureEnd("update 3d mesh texture "+e),!0}}async change2DPreviewByPart(e){if(!this._selected_scene)return!1;e=e.toLowerCase();let t=this.models_2d.find(e=>e.name===this._selected_scene._name);if(!t)return!1;let n=t.print_meshes.find(t=>t.name===e);if(n)return!0;for(let t of this.models_2d)if(t.scene&&t.print_meshes&&0!==t.print_meshes.length&&(n=t.print_meshes.find(t=>t.name===e)))return await this._selectScene(t.scene),!0;return!1}async updateCanvasTexture(e,t){if(!this._selected_scene)throw Error("Failed to initialize the 3D engine. You may want to try google chrome in computer.");if(t=t.toLowerCase(),!this.dynamic_textures[e]||!this.dynamic_textures[e][t])return!1;let n=Date.now();return this._measureStart("3dpreview update "+n),"2d"==this._selected_scene._type?await this._update2DCanvasTexture(e,t):this._update3DCanvasTexture(e,t),this._measureEnd("3dpreview update "+n),!0}_update3DCanvasTexture(e,t){for(let n of this.model_3d.print_meshes)this.model_3d.code===e&&n.name===t&&n?.mesh?.material&&(n.mesh.material.albedoTexture&&n.mesh.material.albedoTexture.update||(n.mesh.material.albedoTexture=this.dynamic_textures[e][t]),!n.mesh.material.albedoTexture instanceof te&&(n.mesh.material.albedoTexture=this.dynamic_textures[e][t]),n.mesh.material.albedoTexture&&(n.mesh.material.albedoTexture.update(!1),n.mesh._is_mask_at_top?this._setAlbedoMaterial(n.mesh,0,.45):n.mesh.material.albedoTexture.hasAlpha=!1))}async _update2DCanvasTexture(e,t){for(let n of(t=t.toLowerCase(),this.models_2d))if(!1!==await this._makeSureModelIsReady(n))for(let r of n.print_meshes){if(n.code!==e)continue;let a=null,i=n?.piece_linking_meshes?.[t];if(i){for(let e in i)if(e===r.name){a=i[e];break}}if(null===a&&r.name!==t||!r?.mesh?.material||(r.mesh.material.albedoTexture&&r.mesh.material.albedoTexture.update||(r.mesh.material.albedoTexture=this.dynamic_textures[e][t]),!r.mesh.material.albedoTexture instanceof te&&(r.mesh.material.albedoTexture=this.dynamic_textures[e][t]),!r.mesh.material.albedoTexture))continue;r.mesh.material.albedoTexture.update(!1);let o=null!==a?a:1;r.mesh._is_mask_at_top?this._setAlbedoMaterial(r.mesh,0,.45,!1,o):this._setAlbedoMaterial(r.mesh,1,1,!!n.bg_mesh,o)}}async removeCanvasTexture(e,t){if(t=t.toLowerCase(),!this.dynamic_textures[e]||!this.dynamic_textures[e][t]||!this.dynamic_textures[e][t].dispose)return;let n=!1;for(let r of this.models_2d)if(!1!==await this._makeSureModelIsReady(r))for(let a of r.print_meshes){if(r.code!==e)continue;let i=!1,o=r?.piece_linking_meshes?.[t];if(o){for(let e in o)if(e===a.name){i=!0;break}}(!1!==i||a.name===t)&&a?.mesh?.material?.albedoTexture?.dispose&&(!1===n&&(this.dynamic_textures[e][t]?.dispose?.(),delete this.dynamic_textures[e][t],n=!0),a.mesh.material.albedoTexture.dispose(),a.mesh.material._albedoTexture=null,a.mesh._is_mask_at_top&&this._createTopMaskTexture(a.mesh,r.scene))}}_createTopMaskTexture(e,t){e.material.albedoTexture=new te("https://3ddesigner.oss-cn-hongkong.aliyuncs.com/emb_mask.png",t,!1,!1),this._setAlbedoMaterial(e,0,.45)}setCanvasTexture(e,t,n){if(n=n.toLowerCase(),void 0===this.dynamic_textures[t]&&(this.dynamic_textures[t]={}),void 0!==this.dynamic_textures[t][n])return;let r=new tg(t+"-"+n,e,{engine:this._engine,generateMipMaps:!1,samplingMode:this._samplingMode});this.isWebgl2()||(r.wrapU=0,r.wrapV=0),this.dynamic_textures[t][n]=r}async update2DPreview(e,t,n,r,a="",i=""){for(let o of(e=e.toLowerCase(),this.models_2d))if(o.scene&&o.print_meshes&&0!==o.print_meshes.length&&(!a||a==o.code)){if(i){if(o.scene._name===i)return void await this._update2DPreview(o,e,t,n,r);continue}await this._update2DPreview(o,e,t,n,r)}}_setAlbedoMaterial(e,t,n,r=!1,a=1){if(e._is_bg)return;let i=e.material;i.backFaceCulling=!0,i.transparencyMode=null,"3d"!==e._type&&(i.disableLighting=!0),i.albedoTexture&&(e._is_mask_at_top||r)&&(i.albedoTexture.hasAlpha=!0,i.albedoTexture.level=1),i.alpha=a,i.useAlphaFromAlbedoTexture=!0,i.metallic=void 0!==t?t:0,i.roughness=void 0!==n?n:1}createTexture(e){if(!this._selected_scene)throw this._wrapError("scene is not init",403);return new te(e,this._selected_scene,!1,!1,this._samplingMode)}async _update2DPreview(e,t,n,r,a){if(!1!==await this._makeSureModelIsReady(e)){for(let i of e.print_meshes)if(i.name===t&&i?.mesh?.material){if(n instanceof te)return this._measureStart("replace 2d mesh texture "+e.name+" "+t),i.mesh.material.albedoTexture=n,this._setAlbedoMaterial(i.mesh,1,1,!!e.bg_mesh),this._measureEnd("replace 2d mesh texture "+e.name+" "+t),!0;if(!i.mesh.material.albedoTexture||!i.mesh.material.albedoTexture.update)return this._measureStart("create 2d mesh texture "+e.name+" "+t),i.mesh.material.albedoTexture=new tt(n,r,a,e8.TEXTUREFORMAT_RGBA,e.scene,!1,!1),this._setAlbedoMaterial(i.mesh,1,1,!!e.bg_mesh),this._measureEnd("create 2d mesh texture "+e.name+" "+t),!0;return this._measureStart("update 2d mesh texture "+e.name+" "+t),i.mesh.material.albedoTexture.update(n),this._setAlbedoMaterial(i.mesh,1,1,!!e.bg_mesh),this._measureEnd("update 2d mesh texture "+e.name+" "+t),!0}return!1}}generateSamples(e,t){return this.models_2d&&this.models_2d.length>0?this.generate2DSamples([],"",e,t):this.generate3DSamples(e)}async generate2DSample(e,t=[],n=2e3){let r=this.models_2d.find(t=>t.name===e);if(!r)throw this._wrapError("could not find the preview",404);return await this._generate2DSamples([r],"",t,null,n)}async generate2DSamples(e=[],t="",n=[],r=null,a=2e3){let i=this.models_2d;return e.length>0&&(i=i.filter(t=>e.includes(t.name))),await this._generate2DSamples(i,t,n,r,a)}async _makeSureModelIsReady(e){if(this._measureStart(null,"_makeSureModelIsReady"),e.scene instanceof e6)return await this._waitForSceneReady(e.scene),!0;if(!e._should_be_init)return!1;let t=100;for(;t--;){if(e.scene instanceof e6)return await this._waitForSceneReady(e.scene),!0;e._creating_scene&&!0===e._creating_scene&&await new Promise(e=>setTimeout(e,100))}return this._measureEnd(null,"_makeSureModelIsReady"),!1}async _generate2DSamples(e,t="",n=[],r=null,a=2e3){for(let t of e)await this._makeSureModelIsReady(t);this._measureStart(null,"generate 2d samples");let i=[];for(let o in e){let s=e[o];if(t&&t!=s.code||!s.scene)continue;if(!s.scene.activeCamera)throw this._wrapError("generateSamples: Not ready for taking screenshot",403);let l=null,u=s.selected_color;if(u&&n.includes(u.color.name)||u&&!n.length){for(let e of s.scene.meshes)e.material.directIntensity=1;this._measureStart(s.name+" selected "+u.color.hex+u.color.name),await this._update2DMaskBySelectedColor(s),await this._waitForSceneReady(s.scene),l=await this._takeScreenshot(s.scene,null,a),i.push({color:u.color.hex,color_name:u.color.name,name:s.name,blob:l}),r&&r(),this._measureEnd(s.name+" selected "+u.color.hex+u.color.name)}for(let e of s.colors)if((!n.length||n.includes(e.color.name))&&(!u||e.color.hex!==u.color.hex)){for(let t of(s.selected_color=e,s.scene.meshes))t.material.directIntensity=1;this._measureStart(s.name+" change "+s.selected_color.color.hex+s.selected_color.color.name),await this._update2DMaskBySelectedColor(s),await this._waitForSceneReady(s.scene),l=await this._takeScreenshot(s.scene,null,a),i.push({color:s.selected_color.color.hex,name:s.name,color_name:s.selected_color.color.name,blob:l}),r&&r(),this._measureEnd(s.name+" change "+s.selected_color.color.hex+s.selected_color.color.name)}}this._measureEnd(null,"generate 2d samples");let o=this.models_2d_colors.find(e=>e.is_selected);if(o)for(let e of this.models_2d)for(let t of e.colors)t.color.name===o.name&&(e.selected_color=t,await this._update2DMaskBySelectedColor(e));return i}_dumpData(e,t,n){if(this._screenshot_canvas||(this._screenshot_canvas=document.createElement("canvas")),!this._screenshot_canvas.toBlob)throw this._wrapError("Please update your old browser!",405);this._screenshot_canvas.width=t,this._screenshot_canvas.height=n;let r=this._screenshot_canvas.getContext("2d");if(!r)throw this._wrapError("Failed to create screenshot canvas",500);if(e instanceof Float32Array){let t=new Uint8Array(e.length),n=e.length;for(;n--;){let r=e[n];t[n]=r<0?0:r>1?1:Math.round(255*r)}e=t}let a=r.createImageData(t,n);return a.data.set(e),r.putImageData(a,0,0),r.transform(1,0,0,-1,0,n),r.drawImage(this._screenshot_canvas,0,0),new Promise(e=>this._screenshot_canvas.toBlob(t=>{if(window.measureStart){let e=document.createElement("a");e.href=window.URL.createObjectURL(t),e.download="test-"+(Math.random()+1).toString(36).substring(7)+".jpg",e.click()}e(t)},"image/jpeg"))}_takeScreenshot(e,t=null,n=2e3){return new Promise(async(r,a)=>{let i=t||e.activeCamera,o=new e9("screenShot",{width:n,height:n},e,!1,!1,e8.TEXTURETYPE_UNSIGNED_INT,!1,this._samplingMode,void 0,!1,void 0,void 0,void 0,1);o.renderList=null,o.samples=1,o.renderSprites=!1,e.render(),await this._waitForSceneReady(e),this._engine.onEndFrameObservable.addOnce(async()=>{let e=await o.readPixels(void 0,void 0,void 0,!1);r(await this._dumpData(e,n,n)),o.dispose()}),e.incrementRenderId(),e.resetCachedMaterial(),o.render(!0),e.incrementRenderId(),e.resetCachedMaterial(),e.activeCamera=i,i.getProjectionMatrix(!0),e.render(),await this._waitForSceneReady(e),this._engine.endFrame()})}async _createMaskMaterial(e,t){this._measureStart("create 2d mask material");let n=new tr("Mask",t);return new Promise((r,a)=>{let i=new te(e,t,!1,!0,this._samplingMode,()=>{i.hasAlpha=!0,i.getAlphaFromRGB=!1,n.emissiveTexture=i,n.opacityTexture=i,n.backFaceCulling=!0,n.useAlphaFromDiffuseTexture=!1,n.transparencyMode=null,n.disableLighting=!0,n.freeze(),this._measureEnd("create 2d mask material"),r(n)},t=>{a(this._wrapError("failed to load mask "+e+" texture error "+t.message))})})}_updateBackgroundColor(e,t){if(!e.bg_mesh||!t.color.background_color)return;let n=to.FromHexString(t.color.background_color).toLinearSpace();e.bg_mesh.material.albedoColor=n}_create2DCamera(e){this._createSceneDefaultCamera(e,!1);var t=e.activeCamera;t.alpha+=Math.PI,t.checkCollisions=!1,t.mode=1,t.orthoLeft=-1,t.orthoTop=1,t.orthoRight=1,t.orthoBottom=-1,t.minZ=.042675944548140825,t.maxZ=4267.594454814082,t.pinchPrecision=200/t.radius,t.upperRadiusLimit=5*t.radius,t.wheelDeltaPercentage=.01,t.pinchDeltaPercentage=.01}_create2DLight(e){new ts("light1",new ta(0,1,0),e).intensity=8}async processMaskUrl(e){return await this._processMaskUrl(e)}async _processMaskUrl(e){let t=e;if(t.endsWith(".ktx2"))return await this._downloadMask(t);if(this._features?.use_etc1s_mask===!0){let e=this.getCapabilities();e.webglVersion>1&&!0===e.etc2&&(t=t.split("?")[0].replace(".png",".ktx2"))}return await this._downloadMask(t)}async _downloadMask(e){if(!this.axios||!e.startsWith("http")||e.endsWith(".ktx2"))return e;if(ty._urls_cached[e])return ty._urls_cached[e];let t=null;try{t=await this.axios.get(e,{responseType:"blob",shouldRetry:!0})}catch{return e}if(200===t.status&&t.data instanceof Blob){let n=window.URL.createObjectURL(t.data);return ty._urls_cached[e]=n,n}return e}async _update2DMaskBySelectedColor(e){if(!e.mask_mesh||!e.selected_color)return;let t=e.selected_color;if(t.mask_url=await this._processMaskUrl(t.mask_url),!e.mask_mesh.material||!e.mask_mesh.material.opacityTexture){try{await this._createMaskMaterial(t.mask_url,e.scene)}catch(e){throw e}this._updateBackgroundColor(e,t);return}t.mask_url!==e.mask_mesh.material.opacityTexture.url&&(this._measureStart("update mask material "+e.name),e.mask_mesh.material.emissiveTexture.updateURL(t.mask_url),e.mask_mesh.material.opacityTexture.updateURL(t.mask_url),this._updateBackgroundColor(e,t),this._measureEnd("update mask material "+e.name))}_createScene(){let e=new e6(this._engine);return e.useMaterialMeshMap=!0,e.useGeometryIdsMap=!0,e.useClonedMeshMap=!0,e.autoClear=!0,e.clearColor=new ti(1,1,1,1),e.ambientColor=new ti(1,1,1,1),e.useDelayedTextureLoading=!1,e.audioEnabled=!1,e.shadowsEnabled=!1,e.particlesEnabled=!1,e.collisionsEnabled=!1,e.lensFlaresEnabled=!1,e.renderTargetsEnabled=!1,e.probesEnabled=!1,e.fogEnabled=!1,e.spritesEnabled=!1,e.physicsEnabled=!1,e.skeletonsEnabled=!1,e.animationsEnabled=!1,e.postProcessesEnabled=!1,e}async generate3DSamples(e=[]){if(!this._scene_3d)throw this._wrapError("3d scene is not created yet",403);let t=[],n=this._scene_3d.activeCamera;for(let n of this._scene_3d.cameras)if(!0!==n.isDefault)for(let r of(this._scene_3d.activeCamera=n,this.model_3d_colors)){for(let e of(r.is_selected||await this.change3DColor(r.name),this._scene_3d.meshes))e.material&&(e.material.directIntensity=1);let a=await this._takeScreenshot(this._scene_3d,n);(!e.length||e.includes(r.name))&&t.push({color:r.hex,color_name:r.name,name:n.name,blob:a})}this._scene_3d.activeCamera=n;let r=this.model_3d_colors.find(e=>e.is_selected);if(r)for(let e of this.model_3d.colors)e.color.name===r.name&&(this.model_3d.selected_color=e,this._update3DOtherMaterial());return t}async generate3DSample(){if(!this._scene_3d)throw this._wrapError("3d scene is not created yet",403);for(let e of this._scene_3d.meshes)e.material&&(e.material.directIntensity=1);return await this._takeScreenshot(this._scene_3d)}reset3DCamera(){if(!this._scene_3d)throw this._wrapError("3d scene is not created yet",403);this._scene_3d.activeCamera.restoreState()}_isMaskAtTop(e,t){return!!t.mask_at_top_pieces&&!!t.mask_at_top_pieces.find(t=>t.toLowerCase()===e)}async _create3DScene(){this._measureStart(null,"init 3d"),this._measureStart("init scene");let e=this._createScene();e._name="3d",e._code=this.model_3d.code,this._measureEnd("init scene"),this._measureStart("download model "+this.model_3d.model_url);try{await e7.ImportMeshAsync("",this.model_3d.model_url,"",e,e=>{this._setModelProgressDispatchEvent(e)})}catch(e){throw this._wrapError("3d is not supported."+e.message,403)}0===e.meshes.length&&await this._waitForSceneReady(e),this._measureEnd("download model "+this.model_3d.model_url),this._measureStart("create camera"),this._createSceneDefaultCamera(e,!0);let t=e.activeCamera;t.alpha+=Math.PI,t.pinchPrecision=200/t.radius,t.upperRadiusLimit=2*t.radius,t.lowerRadiusLimit=t.radius/2,t.wheelDeltaPercentage=.01,t.pinchDeltaPercentage=.01,t.useFramingBehavior=!0,t.isDefault=!0,t.storeState(),this._measureEnd("create camera"),this._measureStart("create light");var n=new ts("light1",new ta(0,1,1.5),e);n.diffuse=new to(.76,.76,.76),n.intensity=.77,n.position=t.position;var r=new ts("light2",new ta(0,1,-1.5),e);for(let t of(r.diffuse=new to(.76,.76,.76),r.intensity=.77,this._measureEnd("create light"),this._measureStart("handle meshes"),this.model_3d.print_meshes=[],e.meshes)){if(t.freezeWorldMatrix(),t.doNotSyncBoundingInfo=!0,"hdrSkyBox"===t.name&&t.setEnabled(!1),null===t.parent)continue;let n=t.name.toLowerCase();n.endsWith("xian")||(t._is_mask_at_top=this._isMaskAtTop(n,this.model_3d),t._type="3d","others"!==n?(t.material=new tn(t.name,e),t._is_mask_at_top?this._createTopMaskTexture(t,e):this._setAlbedoMaterial(t),this.model_3d.print_meshes.push({name:n,mesh:t})):(t.material||(t.material=new tn(t.name,e)),this.model_3d.other_mesh=t))}this._measureEnd("handle meshes"),e._type="3d",this._scene_3d=e,this.model_3d.scene=e,this._update3DOtherMaterial(),this._measureEnd(null,"init 3d")}_createSceneDefaultCamera(e,t=!1){if(e.createDefaultCamera)return void e.createDefaultCamera(!0,!0,t);e.activeCamera&&(e.activeCamera.dispose(),e.activeCamera=null);let n=e.getWorldExtends(e=>e.isVisible&&e.isEnabled()),r=n.max.subtract(n.min),a=n.min.add(r.scale(.5)),i=1.5*r.length();Number.isFinite(i)||(i=1,a.copyFromFloats(0,0,0));let o=new tv("default camera",-(Math.PI/2),Math.PI/2,i,a,e);o.lowerRadiusLimit=.01*i,o.wheelPrecision=100/i,o.minZ=.01*i,o.maxZ=1e3*i,o.speed=.2*i,e.activeCamera=o,t&&o.attachControl()}_update3DOtherMaterial(){this.model_3d.other_mesh&&this.model_3d.other_mesh.material&&(this.model_3d.other_mesh.material.albedoTexture&&this.model_3d.selected_color.other_url==this.model_3d.other_mesh.material.albedoTexture.url||(this._measureStart("create 3d other texture"),this.model_3d.other_mesh.material.albedoTexture=new te(this.model_3d.selected_color.other_url,this.model_3d.scene,!1,!1),this._setAlbedoMaterial(this.model_3d.other_mesh,0,.45),this._measureEnd("create 3d other texture")))}async _create2DScenes(e=[],t=!1){if(e.length<1)throw this._wrapError("init_models must be more than 1",403);if(!0===t){for(let t of e)t=await this._create2DSceneForModel(t),null===this._scene_2d&&(this._scene_2d=t.scene);return}if(null===this._scene_2d){let t=!1;for(let n of e)!0===n.is_selected&&(n=await this._create2DSceneForModel(n),this._scene_2d=n.scene,t=!0);if(!1===t){let t=e[0];t=await this._create2DSceneForModel(t),this._scene_2d=t.scene}}setTimeout(async()=>{for(let t of e){if(null===this._scene_2d||!this._scene_2d._name)return;t.name!==this._scene_2d._name&&!1===t.is_selected&&(t=await this._create2DSceneForModel(t))}},200)}_setModelProgressDispatchEvent(e){let t=Math.round(e.loaded/e.total*100),n=t;0===t&&(n=1),100===t&&(n=99);let r=new CustomEvent("getModelProgress",{detail:{progress:n,id:this.canvas.id}});window.dispatchEvent(r)}async _create2DSceneForModel(e){this._measureStart(null,"init "+e.name+" "+e.code),this._measureStart("create scene");let t=this._createScene();t._name=e.name,t._code=e.code,t.useRightHandedSystem=!0,t.autoClearDepthAndStencil=!1,this._measureEnd("create scene"),this._measureStart("download model "+e.model_url);try{await e7.ImportMeshAsync("",e.model_url,"",t,e=>{this._setModelProgressDispatchEvent(e)})}catch(t){throw this._wrapError("Failed to load "+e.name+". "+t.message,403)}for(let n of(0==t.meshes.length&&await this._waitForSceneReady(t),this._setModelProgressDispatchEvent({loaded:100,total:100}),this._measureEnd("download model "+e.model_url),void 0===e.print_meshes&&(e.print_meshes=[]),t.meshes))"mask"===n.name.toLowerCase()&&n.dispose();this._measureStart("create own mesh");let n=new tl("root");var r=tu.CreatePlane("mask",{height:2,width:2,sideOrientation:tc.DOUBLESIDE},t);for(let a of(r.renderingGroupId=2,r.setParent(n),e.mask_mesh=r,this._measureEnd("create own mesh"),this._measureStart("handle meshes"),t.meshes))a.name=a.name.toLowerCase(),null!=a.parent&&"mask"!=a.name&&("bg"===a.name&&(a._is_bg=!0,e.bg_mesh=a),a._is_mask_at_top=this._isMaskAtTop(a.name,e),a._is_mask_at_top?a.renderingGroupId=3:a.renderingGroupId=0,a.material=new tn(a.name,t),a.material.disableLighting=!0,a.material.unlit=!0,a.freezeWorldMatrix(),a.doNotSyncBoundingInfo=!0,a.setParent(n));for(let n of t.meshes)n._is_mask_at_top&&(this._createTopMaskTexture(n,t),e.print_meshes.push({name:n.name,mesh:n}));for(let n of t.meshes)!n._is_mask_at_top&&null!=n.parent&&"mask"!=n.name&&(this._setAlbedoMaterial(n,0,.45),n._is_bg||e.print_meshes.push({name:n.name.toLowerCase(),mesh:n}));for(let e of(this._measureEnd("handle meshes"),this._measureStart("remove default materials"),t.materials))e.name.startsWith("default")&&e.dispose();this._measureEnd("remove default materials"),this._measureStart("dispose original meshes"),t.meshes[0].dispose(),this._measureEnd("dispose original meshes"),this._measureStart("create camera"),this._create2DCamera(t),this._measureEnd("create camera"),this._measureStart("create light"),this._create2DLight(t),this._measureEnd("create light");let a=null;return(a=e.selected_color?e.selected_color:e.colors[0]).mask_url=await this._processMaskUrl(a.mask_url),e.mask_mesh.material=await this._createMaskMaterial(a.mask_url,t),this._updateBackgroundColor(e,a),t._type="2d",await this._waitForSceneReady(t),e.scene=t,e._creating_scene=!1,this._measureEnd(null,"init "+e.name+" "+e.code),e}hightlightPart(e){if(this._selected_scene)for(let t of this._selected_scene.meshes)t.name.toLowerCase()===e.toLowerCase()&&(t.material.directIntensity=.6,setTimeout(()=>{t.material.directIntensity=1},500))}async _selectScene(e){if(e){if(this._selected_scene){if(this._selected_scene._name==e._name)return;this._unselectPreviousScene()}this._measureStart("select scene "+e._name),e.actionManager&&e.actionManager.dispose(),"3d"===e._type?this.model_3d.code:this.models_2d[0].code,this._enable_highlight_part&&this._highlightPart(e),this._selected_scene=e,this._measureEnd("select scene "+e._name),await this._waitForSceneReady(e)}}_highlightPart(e){for(let t of e.meshes){if(null==t.parent||!t.material)continue;let n=t.name.toLowerCase();if("others"==n||"mask"==n||"texture"==n||n.startsWith("stone")){t.isPickable=!1;continue}t.isPickable=!0,t.actionManager||(t.actionManager=new td(e));let r=new th(td.OnPointerOverTrigger,()=>{t.material.directIntensity=.6,setTimeout(()=>t.material.directIntensity=1,500)}),a=new th(td.OnPickTrigger,e=>{let n=new CustomEvent("PartPicked",{detail:t.name});window.dispatchEvent(n)});t.actionManager.registerAction(r),t.actionManager.registerAction(a)}}async _waitForSceneReady(e){for(this._measureStart("wait for scene "+e._name);!1===e.isReady();)await e.whenReadyAsync();this._measureEnd("wait for scene "+e._name)}_wrapError(e,t){let n=Error(e);return n.code=t,n}_measureStart(e,t=""){window.measureStart&&window.measureStart(e,t)}_measureEnd(e,t=""){window.measureEnd&&window.measureEnd(e,t)}}class t_{static loadSvgGroupFromUrl(n){return new Promise(r=>{e.loadSVGFromURL(n,(t,n)=>{r(e.util.groupSVGElements(t,n))},null,t)})}static generate({imageUrl:n,cropInfo:r}){return new Promise(async a=>{let i=await t_.loadSvgGroupFromUrl(r.shapeUrl);e.Image.fromURL(n,t=>{let n=e.util.findScaleToCover({width:i.width,height:i.height},{width:r.width,height:r.height});i.scale(n);let o=i.left*n,s=i.top*n;i.set({left:r.left+o,top:r.top+s,absolutePositioned:!0}).setCoords(),t.set("clipPath",i);let l={format:"png",quality:1,left:r.left,top:r.top,width:r.width,height:r.height};a(t.toDataURL(l))},t)})}}class tb{static MODEL_LOADED_EVENT_NAME="modelLoaded";debug=!1;canvasSize=500;sampleCanvasSize=500;previewCanvasId="PreviewModelCanvas";allFonts=[];designParams=[];replacedDesignParams=[];canvasList=[];previewInstance=null;isLoadingModel=!0;isInitingModel=!0;modelColor=null;originalObjectPoints={};apiConfig={apiPrefix:"",designerApiPrefix:""};currentController=null;isRequestInProgress=!1;constructor({canvasSize:t=null,designParams:n,allFonts:r,apiConfig:a=null,debug:i=!1}){t&&(this.canvasSize=t,this.sampleCanvasSize=t),this.designParams=n,this.allFonts=r,a&&(this.apiConfig=a),this.debug=i,e.Object.NUM_FRACTION_DIGITS=20,e.Object.prototype.set({objectCaching:!1})}_createCanvas(e){let t=document.createElement("canvas");return t.id=e,this.debug&&document.body.append(t),ea({id:e,width:this.canvasSize,height:this.canvasSize,enableRetinaScaling:!1})}async postRequest(e,t){this.isRequestInProgress=!0,this.currentController=new AbortController;let n=this.currentController.signal,r=null;try{let a=await fetch(e,{signal:n,headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(t),method:"POST"});r=await a.json()}finally{this.isRequestInProgress=!1}return r}cancelRequest(){!this.isRequestInProgress||this.currentController&&this.currentController.abort()}_loadDesignUsedFonts(e){let t=[],n=[];for(let r of e)for(let e of r.objects){let r=e.fontFamily;if(r&&t.includes(r))continue;let a=null;(a=e[T]?{url:e[T],font_family:r,name:r}:this.allFonts.find(e=>e.font_family===r))&&(t.push(r),n.push(a))}return Promise.all(n.map(e=>Z(e).catch(()=>{})))}loadDesignUsedFonts(){return this._loadDesignUsedFonts(this.designParams)}async loadDesign(){for(let e of this.designParams){let t=this._createCanvas(e[a]);this.canvasList.push(t),t.WIDTH=t.getWidth(),t.HEIGHT=t.getWidth(),t.SCALE=e.PARAMS.width/t.getWidth();let n=t.getWidth()/e.WIDTH;for(let t of e.objects)t.left=t.left*n,t.top=t.top*n,t.scaleX=t.scaleX*n,t.scaleY=t.scaleY*n,"image"===t.type&&(t[h]=t[h]*n,t[c]=t[c]*n),ef(t)&&(t[b]={...t[b],gapWidth:Math.round(t[b].gapWidth*n),gapHeight:Math.round(t[b].gapHeight*n)});for(let n of(e.WIDTH=t.getWidth(),e.HEIGHT=t.getWidth(),e.SCALE=e.PARAMS.width/t.getWidth(),this.replacedDesignParams.push(e),await ei(t,e),t.getObjects()))ef(n)&&(n[A]&&(n.opacity=n[A]),await e1(t,n,n[b])),t.renderAll()}}_getObjectFromDesignParams(e){let t=null;for(let n of this.replacedDesignParams)for(let r of n.objects)r[a]===e&&(t=r);return t}async changeImage(e,t,n=null){for(let r of this.canvasList)for(let i of r.getObjects()){if(!t.includes(i[a]))continue;let o=await er(i,e);i.set({[m]:n?.width||o.width,[g]:n?.height||o.height,[f]:n?.url||e,[y]:{url:n?.url||e}}),delete i[C],delete i[E],this._scaleToSame(i),ef(i)&&await e2(r,i),r.renderAll()}}_getOriginObjectScaleData(e){let t=this._getObjectFromDesignParams(e[a]);return{scaleX:t.scaleX,scaleY:t.scaleY}}_getOriginObjectScaledSize(e){let t=this._getObjectFromDesignParams(e[a]);return{width:t.width*t.scaleX,height:t.height*t.scaleY}}_scaleToSame(e){let t=this._getOriginObjectScaledSize(e);e.set({scaleX:t.width/e.width,scaleY:t.height/e.height}),e.setCoords()}_scaleToFitWithSameRatio(t){let n=this._getOriginObjectScaleData(t),r=n.scaleX/n.scaleY,a=this._getOriginObjectScaledSize(t),i=e.util.findScaleToFit({width:t.width,height:t.height},{width:a.width,height:a.height});t.set({scaleX:i,scaleY:i/r}),t.setCoords()}_scaleToFit(t){let n=this._getOriginObjectScaledSize(t),r=e.util.findScaleToFit({width:t.width,height:t.height},{width:n.width,height:n.height});t.scale(r).setCoords()}resizeText(e){let t=this._getOriginObjectScaledSize(e),n=this._getOriginObjectScaleData(e);e.set({scaleX:n.scaleX,scaleY:n.scaleY}).setCoords();let r={width:e.getScaledWidth(),height:e.getScaledHeight()};(Number.parseInt(r.width)>Number.parseInt(t.width)||Number.parseInt(r.height)>Number.parseInt(t.height))&&this._scaleToFitWithSameRatio(e)}_getTextPosition(e,t){let n={originX:"center",originY:t?"center":"top"};return"left"===e.textAlign&&(n={originX:"left",originY:"top"}),"right"===e.textAlign&&(n={originX:"right",originY:"top"}),n}async changeText(e,t,n=!0){let r=e.text,i=e.color,o=e.font;for(let s of(o&&await Z(o),this.canvasList)){for(let l of s.getObjects()){if(!t.includes(l[a]))continue;if(ed(l)){await this._changeCarvingText(e,l,s);continue}let u=this._getTextPosition(l,n),c={};if(!this.originalObjectPoints[l[a]]){let e=l.getPointByOrigin(u.originX,u.originY);this.originalObjectPoints[l[a]]=e}c=this.originalObjectPoints[l[a]];let d={text:r};i&&(d.fill=i),o&&(d.fontFamily=o.font_family,d[T]="custom"===o.type?o.url:""),l.set(d).setCoords(),await e4(s,l),n&&this.resizeText(l),l.setPositionByOrigin(c,u.originX,u.originY),await e4(s,l)}s.renderAll()}}async _loadCarvingFont(e){let t=this.allFonts.find(t=>t.font_family===e);await Z(t)}async _changeCarvingText(t,n,r){this.cancelRequest();let o=n[y].textParams;o.text=t.text,t.color&&(o.fill=t.color),t.font?(o.fontFamily=t.font.font_family,o[T]="custom"===t.font.type?t.font.url:""):await this._loadCarvingFont(o.fontFamily);let s=((t,n)=>{let r,o,s;if(!t)throw Error("canvas is not initialized");let l={width:eS(t).width*t.PARAMS.multiplier,height:eS(t).height*t.PARAMS.multiplier},u=(r=n[S]||0,s={...j,[a]:Date.now(),[i]:!0,[p]:50,[h]:.02,[d]:0,[c]:2,...n,[S]:r},$(o=new e.Group([],{...s,[k]:D})),G(o),o),f=e.util.findScaleToFit({width:u.width,height:u.height},{width:l.width/2,height:l.height/2});return u.scale(f).setCoords(),u.set({left:l.width/2,top:l.height/2}),em({canvasWidth:l.width,canvasHeight:l.height,multiplier:1,textObject:u})})(r,o),u=r[l][0],f={text_image:s.base64,carving_params:[{model_color:u.model_color,shadow_color:u.shadow_color,shadow_opacity:u.shadow_opacity,result_color:u.result_color}]},m=await this.postRequest(`${this.apiConfig.apiPrefix}/images/effects/carvings`,f);if(!m)return;let g=m.data[0];await e5(n,r,{id:"",title:o.text,width:g.info.width,height:g.info.height,url:g.thumb,originalUrl:g.thumb,isCarvingText:!0,textParams:o}),this.resizeText(n),r.renderAll()}changeBackgroundColor(e){for(let t of this.canvasList){let n=es(t,e),r=null===n?e:n;t.setBackgroundColor(r),t.renderAll()}}resetOriginalBackgroundColor(){for(let e of this.canvasList){let t=this.designParams.find(t=>t[a]===e[a]);if(!t)continue;let n=t.background,r=es(e,n),i=null===r?n:r;e.setBackgroundColor(i),e.renderAll()}}_dispatchLoadedModelEvent(){let e=new window.CustomEvent(tb.MODEL_LOADED_EVENT_NAME);window.dispatchEvent(e)}_getModelProgress({detail:e}){e.id!==this.previewCanvasId||99===e.progress&&(this.isLoadingModel=!1,this.isInitingModel||this._dispatchLoadedModelEvent())}async loadModel(e,t=""){this.isLoadingModel=!0,this.isInitingModel=!0,window.addEventListener("getModelProgress",this._getModelProgress.bind(this),!1);let n=document.createElement("canvas");n.id=this.previewCanvasId,n.width=this.sampleCanvasSize,n.height=this.sampleCanvasSize,this.debug&&document.body.append(n),this.previewInstance=new ty(n,!1,1);let r=this.previewInstance.getCapabilities();window?.posthog?.capture?.("$set",{$set:{babylonjs:r}}),e.colors.length>0&&t&&(this.modelColor=t),await this.previewInstance.init2DModels(e,[],!0,this.modelColor),await this.previewInstance.show2D(),this.isInitingModel=!0,this.isLoadingModel||this._dispatchLoadedModelEvent()}updateCanvasTexture(){for(let e of this.canvasList)this.previewInstance.isWebgl2()&&(this.previewInstance.setCanvasTexture(e.getElement(),e.CODE,e.NAME),this.previewInstance.updateCanvasTexture(e.CODE,e.NAME))}async change2DColor(e){if(this.modelColor===e)return;await this.previewInstance.change2DColor(e),this.modelColor=e;let t=this.previewInstance.get2DPreviewsData()[0].preview_name;await this.previewInstance.change2DPreview(t)}async generateSample(e=this.sampleCanvasSize){let t=this.modelColor?[this.modelColor]:[];return(await this.previewInstance.generate2DSamples([],"",t,()=>{},e))[0]}async getParams(){let e=new eQ(this.canvasList);return{designParams:e.getDesignParams(),printsParams:await e.getPrintsParams()}}static generateShapeImage(e,t){return t_.generate({imageUrl:e,cropInfo:t})}}window.LessDesignerService=tb}(),dy.A;let d_=tq({name:"PLayground",setup(){let e=nE("commonData"),t=nE("sample"),n=tc(!0),r=rP(()=>e.value.steps),a=rP(()=>window.DEBUG_PLAYGROUND_PREVIEW||!1),i=rP(()=>r.value.find(e=>e.includes(u_))),o=rP(()=>r.value.find(e=>e.includes(ub)));return n$(()=>e.value.loadedModel,async()=>{e.value.loadedModel&&(n.value=!1)},{once:!0}),{debugPlaygroundPreview:a,canShowTexts:i,canShowBackgroundColors:o,loading:n,sample:t}},render(){return rl("div",{class:{"w-full h-full relative":!0,"pointer-events-none":this.loading}},[this.canShowBackgroundColors?rl(dt,null,null):null,this.canShowTexts?rl(de,null,null):null,tz(rl("div",{class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},[rl("svg",{class:"animate-spin h-10 w-10 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[rl("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null),rl("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null)])]),[[rB,this.loading]]),this.debugPlaygroundPreview?rl("img",{src:this.sample},null):null])}}),db=window.LessDesignerService,dA=tq({name:"LessDesigner",props:{templateDesignConfig:{required:!0,type:Object},designParams:{required:!0,type:Array},modelData:{required:!0,type:Object},modelColor:{required:!1,type:String},designInfo:{require:!0,type:Object},designerConfig:{required:!1,type:Object,default:()=>({locale:"en"})},showMessage:Function,onSave:Function,onPreview:Function,onGeneratingPreview:Function,onClose:Function,onModelLoaded:Function},setup(e,t){let{locale:n}=i2(),r=t_(()=>e.modelColor),a=t_(()=>e.showMessage),i=t_(()=>e.onSave),o=t_(()=>e.onPreview),s=t_(()=>e.onGeneratingPreview),l=t_(()=>e.onClose),{initCommonProvider:u}={initCommonProvider:e=>{let t,n=tc({mode:uh,currentStep:"",steps:[],stepsConfig:{},recentImages:[],templateDesignConfig:e.templateDesignConfig||{},designParams:e.designParams||[],modelData:e.modelData||{},modelColor:e.modelColor||"",designerConfig:{...uw,...e.designerConfig||uw},designInfo:e.designInfo||{},LessDesignerService:null,loadedModel:!1,messageData:null,loadingSaveButton:!1,sampleFile:null,isClose:!1}),r=n.value.templateDesignConfig.groups.filter(e=>"image"===e.type),a=n.value.templateDesignConfig.groups.filter(e=>"text"===e.type);r.length&&(n.value.stepsConfig.imageGroups=r.map(e=>{var t;let r;return{...e,...{_originalPreview:(r=uk(t=n.value.designParams,e.object_ids[0])).src,_objects:e.object_ids.map(n=>{let r,a=((e,t,n)=>{let r={};t.object_ids.forEach(t=>{let n=uO(uk(e,t));n&&n.shapeUrl&&(r[n.shapeUrl]?r[n.shapeUrl].push(t):r[n.shapeUrl]=[t])});let a=Object.keys(r);if(!(a.length&&a.some(e=>!!r[e].length)))return[];let i=a.find(e=>r[e].includes(n));return i?r[i]:[]})(t,e,n),i=uk(t,n);return{objectId:n,aspectRatio:uE(i),transferInfo:e.enable_transfer&&((r=i?.EFFECTS_INFO?.type&&!["transfer_original",us,ul].includes(i.EFFECTS_INFO.type)?i.EFFECTS_INFO.type:"")||(r=(i.USED_EFFECT_TYPES||[]).find(e=>e.includes("transfer"))),r&&"transfer"!==r)?{type:r}:null,cropInfo:uO(i),imageToShape:null,sameShapeObjectIds:a,isFirstSameShape:a.includes(n)&&a[0]===n,image:null,originalInfo:null}}),_imageToCrop:null,_imageToPreprocess:null,_imageToTransfer:null,_image:null,_preprocessType:e.preprocess?uc[e.preprocess]:"",_aspectRatio:uE(r)}}}),n.value.stepsConfig.imageGroups.forEach((e,t)=>{n.value.steps.push(`${uf}_${t}`),e.preprocess||uT(n.value.designParams,e)||n.value.steps.push(`${um}_${t}`),e.preprocess&&(n.value.steps.push(`${ug}_${t}`),uT(n.value.designParams,e)||n.value.steps.push(`${um}_${t}`)),e._objects.forEach((e,r)=>{!e.cropInfo&&e.transferInfo&&n.value.steps.push(`${uv}_${t}_transfer_${r}`),e.cropInfo&&(0===e.sameShapeObjectIds.length||e.sameShapeObjectIds.length>0&&e.isFirstSameShape||0)&&(e.transferInfo&&n.value.steps.push(`${uv}_${t}_transfer_${r}`),n.value.steps.push(`${uy}_${t}_shape_${r}`))})})),a.length&&(n.value.stepsConfig.textGroups=a.map(e=>{var t,r;let a,i,o;return{...e,...{_value:"",_max:(r=i=uk(t=n.value.designParams,a=e.object_ids[0]),o=0,r&&(o=e.enable_max_length?e.max_length:-1),o),_isCarvingText:i&&!0===i._isCarvingText,_position:((e,t)=>{for(let n of e)for(let e of n.objects)if(Number(e[ud])===Number(t))return n.NAME;return null})(t,a),_defaultContent:i.text||"",_color:e.enable_color&&i.fill||"",_fontFamily:e.enable_fonts&&i.fontFamily||"",_font:null}}}),n.value.steps.push(`${u_}_0`)),n.value.templateDesignConfig.enable_background_color&&(n.value.stepsConfig.defaultBackgroundColor=n.value.designParams[0].background||"",n.value.stepsConfig.backgroundColor="",n.value.steps.push(`${ub}_0`)),n.value.currentStep=n.value.steps[0],window.popLog?.log("commonData",n.value),nk("commonData",n),nk("locale",rP(()=>n.value.designerConfig.locale));let i=rP(()=>n.value.mode===uh);nk("isDesignMode",i);let o=rP(()=>n.value.mode===up);nk("isPreviewMode",o);let s=rP(()=>{let e=n.value.sampleFile;return e?window.URL.createObjectURL(e):""});nk("sample",s);let{getRecentImages:l,addRecentImage:u,removeRecentImage:c}={getRecentImages:async()=>{let e=null;try{e=await uo.images.orderBy("created").reverse().toArray()}catch{return[]}return e?(e.length>8&&t(e.pop().blob),e):[]},addRecentImage:async(e,t)=>{let n=ui(e),r=null;try{r=await uo.images.where("hash").equals(n).first()}catch{return}if(!r)try{await uo.images.add({hash:n,url:t||null,blob:e,created:Date.now()})}catch{return}},removeRecentImage:t=async e=>{let t=ui(e);try{await uo.images.where("hash").equals(t).delete()}catch{return}}},d=async()=>{let e=await fetch(`${n.value.designerConfig.designerApiPrefix}/fonts?api_key=UFbQR6V74iob8WFx&flatten=1`),t=await e.json();n.value.allFonts=t.data};nk("getAllFonts",d);let h=async()=>{let e=await l();n.value.recentImages=[],e.forEach(e=>{e.blob&&(e.objectUrl=window.URL.createObjectURL(e.blob),n.value.recentImages.push(e))})};nk("updateCommonRecentImages",h),nk("addCommonRecentImage",async(e,t)=>{await u(e,t),h()}),nk("removeCommonRecentImage",e=>{c(e),h()});let p=e=>{n.value.mode=e};nk("updateCommonMode",p);let f=e=>{n.value.currentStep=e};nk("updateCommonCurrentStep",f);let m=e=>{let t=n.value.steps[Math.max(0,e)];return t.includes(uv)&&(t=m(e-1)),t.includes(ug)&&(t=m(e-1)),t};nk("getPrevStep",m),nk("updateCommonStepsConfigImage",(e,t)=>{n.value.stepsConfig.imageGroups[e]._image=t}),nk("updateCommonStepsConfigImageToCrop",(e,t)=>{n.value.stepsConfig.imageGroups[e]._imageToCrop=t}),nk("updateCommonStepsConfigImageToPreprocess",(e,t)=>{n.value.stepsConfig.imageGroups[e]._imageToPreprocess=t}),nk("updateCommonStepsConfigObjectsImageToShape",(e,t,r)=>{n.value.stepsConfig.imageGroups[e]._objects[r].imageToShape=t}),nk("updateCommonStepsConfigImageToTransfer",(e,t)=>{n.value.stepsConfig.imageGroups[e]._imageToTransfer=t}),nk("updateCommonStepsConfigObjectsImage",(e,t,r,a=null)=>{n.value.stepsConfig.imageGroups[e]._objects[r].image=t,n.value.stepsConfig.imageGroups[e]._objects[r].originalInfo=a}),nk("updateCommonStepsConfigText",(e,t)=>{n.value.stepsConfig.textGroups[e]._value=t.text,n.value.stepsConfig.textGroups[e]._color=t.color,n.value.stepsConfig.textGroups[e]._font=t.font}),nk("updateCommonStepsConfigBackgroundColor",e=>{n.value.stepsConfig.backgroundColor=e});let g=e=>{n.value.LessDesignerService=e};nk("updateCommonLessDesignerService",g);let y=()=>{n.value.loadedModel=!0};nk("updateCommonLoadedModel",y);let _=e=>{n.value.messageData=e};nk("updateCommonMessageData",_);let b=e=>{n.value.loadingSaveButton=e};nk("updateCommonLoadingSaveButtonStatus",b);let A=e=>{n.value.isClose=e};nk("updateCommonCloseStatus",A);let w=()=>{p(uh);let e=n.value.currentStep;f(m(n.value.steps.findIndex(t=>t===e)))};nk("backToDesignMode",w);let x=e=>{n.value.modelColor=e};nk("updateCommonModelColor",x);let C=e=>{n.value.sampleFile=e};nk("updateCommonSampleFile",C);let S=()=>{if(!n.value.designerConfig.canShowPlayground)return"";let e=n.value.stepsConfig?.backgroundColor,t=(n.value.stepsConfig?.textGroups||[]).map(e=>`${e._value}-${e._color}-${e._font?.name||""}`).join("-");return[n.value.modelColor,n.value.LessDesignerService.modelColor,t,e].join("-")};nk("getContentTag",S);let k=async()=>{if(!n.value.LessDesignerService||!n.value.loadedModel||!n.value.sampleFile)return null;let e=n.value.LessDesignerService;window.popTimeStart?.("LessDesignerServiceGetParams");let{designParams:t,printsParams:r}=await e.getParams();window.popTimeEnd?.("LessDesignerServiceGetParams");let a=n.value.stepsConfig?.imageGroups||[];return{sampleFile:n.value.sampleFile,designParams:JSON.parse(JSON.stringify(t)),printsParams:JSON.parse(JSON.stringify(r)),imageGroups:a.map(e=>{let t=[];return e._objects.filter(e=>0===e.sameShapeObjectIds.length||e.isFirstSameShape).forEach(e=>{e.sameShapeObjectIds.length?e.sameShapeObjectIds.forEach(n=>{t.push({image:e.image,objectId:n})}):t.push({image:e.image,objectId:e.objectId})}),t})}};return nk("saveParams",k),{commonData:n,isDesignMode:i,isPreviewMode:o,sample:s,getAllFonts:d,updateCommonMode:p,updateCommonCurrentStep:f,updateCommonLessDesignerService:g,updateCommonLoadedModel:y,updateCommonLoadingSaveButtonStatus:b,updateCommonCloseStatus:A,backToDesignMode:w,updateCommonMessageData:_,updateCommonModelColor:x,updateCommonSampleFile:C,getContentTag:S,saveParams:k}}},{commonData:c,isDesignMode:d,isPreviewMode:h,sample:p,updateCommonLessDesignerService:f,updateCommonLoadedModel:m,updateCommonLoadingSaveButtonStatus:g,getAllFonts:y,backToDesignMode:_,updateCommonMessageData:b,updateCommonModelColor:A,updateCommonSampleFile:w,getContentTag:x,saveParams:C}=u(e),{initBusProvider:S}={initBusProvider:()=>{var e;let t={all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(e){e(n)}),(r=e.get("*"))&&r.slice().map(function(e){e(t,n)})}};return nk("bus",t),{bus:t}}},{bus:k}=S(),{updateSampleAndEmitEvent:E,updateSample:T}=dp({commonData:c,sample:p,bus:k,updateCommonMessageData:b,updateCommonSampleFile:w,getContentTag:x}),O=rP(()=>c.value.messageData),P=rP(()=>c.value.designerConfig?.canShowPreviewStep),I=rP(()=>c.value.designerConfig.canShowPlayground);n$(()=>O.value,()=>{O.value&&a.value?.(O.value)},{immediate:!0,deep:!0});let M=rP(()=>c.value.isClose);n$(()=>M.value,()=>{M.value&&l.value?.()},void 0),n$(()=>c.value.loadedModel,async()=>{c.value.loadedModel&&e.onModelLoaded?.()},{once:!0}),(async()=>{e.designerConfig.locale!==n&&(n.value=e.designerConfig.locale)})();let L=e=>{e&&(i.value?.(e),P.value||(g(!1),_()))},D=e=>{e&&o.value?.(e)},R=e=>{s.value?.(e)},N=async()=>{try{c.value.designerConfig.fonts||await y();let e=new db({canvasSize:c.value.designerConfig.canvasSize,designParams:c.value.designParams,allFonts:c.value.designerConfig.fonts||c.value.allFonts,debug:!1,apiConfig:{apiPrefix:c.value.designerConfig.apiPrefix,designerApiPrefix:c.value.designerConfig.designerApiPrefix}});f(e),window.popTimeStart?.("LessDesignerServiceInit"),window.popTimeStart?.("LessDesignerServiceLoadDesignUsedFonts"),await e.loadDesignUsedFonts(),window.popTimeEnd?.("LessDesignerServiceLoadDesignUsedFonts"),window.popTimeStart?.("LessDesignerServiceLoadDesign"),await e.loadDesign(),window.popTimeEnd?.("LessDesignerServiceLoadDesign"),window.popTimeStart?.("LessDesignerServiceLoadModel"),await e.loadModel(c.value.modelData,r.value),window.popTimeEnd?.("LessDesignerServiceLoadModel"),window.popTimeEnd?.("LessDesignerServiceInit")}catch(e){throw b({type:uC,message:e.message,duration:1e4}),console.log("performance memory",window?.performance?.memory?{jsHeapSizeLimit:window?.performance?.memory?.jsHeapSizeLimit,totalJSHeapSize:window?.performance?.memory?.totalJSHeapSize,usedJSHeapSize:window?.performance?.memory?.usedJSHeapSize}:"Unknown"),e}};t7(()=>{k.on(uP,L),k.on(uI,R),k.on(uM,D),window.addEventListener(db.MODEL_LOADED_EVENT_NAME,m),N()}),nt(()=>{k.all.clear(),window.removeEventListener(db.MODEL_LOADED_EVENT_NAME,m)});let j=async()=>{await E()},F=async()=>(await T(),await C());return t.expose({resetSaveLoading:()=>{g(!1)},changeColor:e=>{A(e)},updateSample:j,saveParams:F}),{isDesignMode:d,isPreviewMode:h,canShowPlayground:I}},render(){return rl("div",{id:"LessDesigner",style:"width: 100%; height: 100%;"},[this.canShowPlayground?rl(d_,null,null):rl("div",{class:"flex flex-col bg-base-100 w-full h-full text-base relative"},[tz(rl(ds,{class:"flex flex-col bg-base-100 w-full h-full"},null),[[rB,this.isDesignMode]]),this.isPreviewMode?rl(df,{class:"flex flex-col bg-base-100 w-full h-full"},null):null,rl("div",{id:"LessDesignerModal"},null)])])}});class dw{instance=null;constructor(e){const t=e.id,n=((...e)=>{let t=(h||(h=function(e,t){let n,r;Z().__VUE__=!0;let{insert:a,remove:i,patchProp:o,createElement:s,createText:l,createComment:c,setText:d,setElementText:h,parentNode:p,nextSibling:f,setScopeId:m=S,insertStaticContent:g}=e,y=(e,t,n,r=null,a=null,i=null,o,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!ra(e,t)&&(r=ei(e),ee(e,a,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);let{type:u,ref:c,shapeFlag:d}=t;switch(u){case n2:_(e,t,n,r);break;case n5:b(e,t,n,r);break;case n3:null==e&&A(t,n,r,o);break;case n1:N(e,t,n,r,a,i,o,s,l);break;default:1&d?w(e,t,n,r,a,i,o,s,l):6&d?B(e,t,n,r,a,i,o,s,l):(64&d||128&d)&&u.process(e,t,n,r,a,i,o,s,l,el)}null!=c&&a&&tY(c,e&&e.ref,i,t||e,!t)},_=(e,t,n,r)=>{if(null==e)a(t.el=l(t.children),n,r);else{let n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},b=(e,t,n,r)=>{null==e?a(t.el=c(t.children||""),n,r):t.el=e.el},A=(e,t,n,r)=>{[e.el,e.anchor]=g(e.children,t,n,r,e.el,e.anchor)},w=(e,t,n,r,a,i,o,s,l)=>{"svg"===t.type?o="svg":"math"===t.type&&(o="mathml"),null==e?k(t,n,r,a,i,o,s,l):P(e,t,a,i,o,s,l)},k=(e,t,n,r,i,l,u,c)=>{let d,p,{props:f,shapeFlag:m,transition:g,dirs:y}=e;if(d=e.el=s(e.type,l,f&&f.is,f),8&m?h(d,e.children):16&m&&T(e.children,d,null,r,i,nV(e,l),u,c),y&&tH(e,null,r,"created"),E(d,e,e.scopeId,u,r),f){for(let e in f)"value"===e||V(e)||o(d,e,null,f[e],l,r);"value"in f&&o(d,"value",null,f.value,l),(p=f.onVnodeBeforeMount)&&rg(p,r,e)}y&&tH(e,null,r,"beforeMount");let _=(!i||i&&!i.pendingBranch)&&g&&!g.persisted;_&&g.beforeEnter(d),a(d,t,n),((p=f&&f.onVnodeMounted)||_||y)&&nU(()=>{p&&rg(p,r,e),_&&g.enter(d),y&&tH(e,null,r,"mounted")},i)},E=(e,t,n,r,a)=>{if(n&&m(e,n),r)for(let t=0;t<r.length;t++)m(e,r[t]);if(a){let n=a.subTree;if(t===n||n0(n.type)&&(n.ssContent===t||n.ssFallback===t)){let t=a.vnode;E(e,t,t.scopeId,t.slotScopeIds,a.parent)}}},T=(e,t,n,r,a,i,o,s,l=0)=>{for(let u=l;u<e.length;u++)y(null,e[u]=s?rf(e[u]):rp(e[u]),t,n,r,a,i,o,s)},P=(e,t,n,r,a,i,s)=>{let l,u=t.el=e.el,{patchFlag:c,dynamicChildren:d,dirs:p}=t;c|=16&e.patchFlag;let f=e.props||x,m=t.props||x;if(n&&nW(n,!1),(l=m.onVnodeBeforeUpdate)&&rg(l,n,t,e),p&&tH(t,e,n,"beforeUpdate"),n&&nW(n,!0),(f.innerHTML&&null==m.innerHTML||f.textContent&&null==m.textContent)&&h(u,""),d?I(e.dynamicChildren,d,u,n,r,nV(t,a),i):s||q(e,t,u,null,n,r,nV(t,a),i,!1),c>0){if(16&c)R(u,f,m,n,a);else if(2&c&&f.class!==m.class&&o(u,"class",null,m.class,a),4&c&&o(u,"style",f.style,m.style,a),8&c){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let r=e[t],i=f[r],s=m[r];(s!==i||"value"===r)&&o(u,r,i,s,a,n)}}1&c&&e.children!==t.children&&h(u,t.children)}else s||null!=d||R(u,f,m,n,a);((l=m.onVnodeUpdated)||p)&&nU(()=>{l&&rg(l,n,t,e),p&&tH(t,e,n,"updated")},r)},I=(e,t,n,r,a,i,o)=>{for(let s=0;s<t.length;s++){let l=e[s],u=t[s],c=l.el&&(l.type===n1||!ra(l,u)||70&l.shapeFlag)?p(l.el):n;y(l,u,c,null,r,a,i,o,!0)}},R=(e,t,n,r,a)=>{if(t!==n){if(t!==x)for(let i in t)V(i)||i in n||o(e,i,t[i],null,a,r);for(let i in n){if(V(i))continue;let s=n[i],l=t[i];s!==l&&"value"!==i&&o(e,i,l,s,a,r)}"value"in n&&o(e,"value",t.value,n.value,a)}},N=(e,t,n,r,i,o,s,u,c)=>{let d=t.el=e?e.el:l(""),h=t.anchor=e?e.anchor:l(""),{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;(m&&(u=u?u.concat(m):m),null==e)?(a(d,n,r),a(h,n,r),T(t.children||[],n,h,i,o,s,u,c)):p>0&&64&p&&f&&e.dynamicChildren?(I(e.dynamicChildren,f,n,i,o,s,u),(null!=t.key||i&&t===i.subTree)&&function e(t,n,r=!1){let a=t.children,i=n.children;if(L(a)&&L(i))for(let t=0;t<a.length;t++){let n=a[t],o=i[t];1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&((o=i[t]=rf(i[t])).el=n.el),r||-2===o.patchFlag||e(n,o)),o.type===n2&&(o.el=n.el)}}(e,t,!0)):q(e,t,n,h,i,o,s,u,c)},B=(e,t,n,r,a,i,o,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?a.ctx.activate(t,n,r,o,l):U(t,n,r,a,i,o,l):W(e,t,l)},U=(e,t,n,r,a,i,o)=>{let s,l,c,d=(s=e.type,l=(r?r.appContext:e.appContext)||rv,(c={uid:ry++,vnode:e,type:s,parent:r,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ed(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(l.provides),ids:r?r.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:function e(t,n,r=!1){let a=r?nM:n.propsCache,i=a.get(t);if(i)return i;let o=t.props,s={},l=[],u=!1;if(!D(t)){let a=t=>{u=!0;let[r,a]=e(t,n,!0);O(s,r),a&&l.push(...a)};!r&&n.mixins.length&&n.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}if(!o&&!u)return j(t)&&a.set(t,C),C;if(L(o))for(let e=0;e<o.length;e++){let t=H(o[e]);nL(t)&&(s[t]=x)}else if(o)for(let e in o){let t=H(e);if(nL(t)){let n=o[e],r=s[t]=L(n)||D(n)?{type:n}:O({},n),a=r.type,i=!1,u=!0;if(L(a))for(let e=0;e<a.length;++e){let t=a[e],n=D(t)&&t.name;if("Boolean"===n){i=!0;break}"String"===n&&(u=!1)}else i=D(a)&&"Boolean"===a.name;r[0]=i,r[1]=u,(i||M(r,"default"))&&l.push(t)}}let c=[s,l];return j(t)&&a.set(t,c),c}(s,l),emitsOptions:function e(t,n,r=!1){let a=n.emitsCache,i=a.get(t);if(void 0!==i)return i;let o=t.emits,s={},l=!1;if(!D(t)){let a=t=>{let r=e(t,n,!0);r&&(l=!0,O(s,r))};!r&&n.mixins.length&&n.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return o||l?(L(o)?o.forEach(e=>s[e]=null):O(s,o),j(t)&&a.set(t,s),s):(j(t)&&a.set(t,null),null)}(s,l),emit:null,emitted:null,propsDefaults:x,inheritAttrs:s.inheritAttrs,ctx:x,data:x,props:x,attrs:x,slots:x,refs:x,setupState:x,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null}).ctx={_:c},c.root=r?r.root:c,c.emit=nG.bind(null,c),e.ce&&e.ce(c),e.component=c);tJ(e)&&(d.ctx.renderer=el),function(e,t=!1,n=!1){t&&u(t);let{props:r,children:a}=e.vnode,i=rx(e);!function(e,t,n,r=!1){let a={},i=Object.create(nT);for(let n in e.propsDefaults=Object.create(null),nP(e,t,a,i),e.propsOptions[0])n in a||(a[n]=void 0);n?e.props=r?a:tt(a,!1,eZ,e5,e6):e.type.props?e.props=a:e.props=i,e.attrs=i}(e,r,i,t);let o=e.slots=Object.create(nT);if(32&e.vnode.shapeFlag){let e=a._;e?(nB(o,a,n),n&&X(o,"_",e,!0)):nj(a,o)}else a&&nF(e,a);i&&function(e,t){let n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,nd);let{setup:r}=n;if(r){eC();let n=e.setupContext=r.length>1?{attrs:new Proxy(e.attrs,rE),slots:e.slots,emit:e.emit,expose:t=>{e.exposed=t||{}}}:null,a=rA(e),i=tC(r,e,0,[e.props,n]),o=F(i);if(eS(),a(),(o||e.sp)&&!tX(e)&&tG(e),o){if(i.then(rw,rw),t)return i.then(n=>{rS(e,n,t)}).catch(t=>{tk(t,e,0)});e.asyncDep=i}else rS(e,i,t)}else rk(e,t)}(e,t),t&&u(!1)}(d,!1,o),d.asyncDep?(a&&a.registerDep(d,z,o),e.el||b(null,d.subTree=rl(n5),t,n)):z(d,e,t,n,a,i,o)},W=(e,t,n)=>{let r=t.component=e.component;if(function(e,t,n){let{props:r,children:a,component:i}=e,{props:o,children:s,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!n||!(l>=0))return(!!a||!!s)&&(!s||!s.$stable)||r!==o&&(r?!o||nQ(r,o,u):!!o);if(1024&l)return!0;if(16&l)return r?nQ(r,o,u):!!o;if(8&l){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let n=e[t];if(o[n]!==r[n]&&!nY(u,n))return!0}}return!1}(e,t,n))if(r.asyncDep&&!r.asyncResolved)return void $(r,t,n);else r.next=t,r.update();else t.el=e.el,r.vnode=t},z=(e,t,n,a,i,o,s)=>{let l=()=>{if(e.isMounted){let t,{next:n,bu:r,u:a,parent:u,vnode:c}=e;{let t=function e(t){let n=t.subTree.component;if(n)if(n.asyncDep&&!n.asyncResolved)return n;else return e(n)}(e);if(t){n&&(n.el=c.el,$(e,n,s)),t.asyncDep.then(()=>{e.isUnmounted||l()});return}}let d=n;nW(e,!1),n?(n.el=c.el,$(e,n,s)):n=c,r&&Y(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&rg(t,u,n,c),nW(e,!0);let h=nX(e),f=e.subTree;e.subTree=h,y(f,h,p(f.el),ei(f),e,i,o),n.el=h.el,null===d&&function({vnode:e,parent:t},n){for(;t;){let r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}(e,h.el),a&&nU(a,i),(t=n.props&&n.props.onVnodeUpdated)&&nU(()=>rg(t,u,n,c),i)}else{let s,{el:l,props:u}=t,{bm:c,m:d,parent:h,root:p,type:f}=e,m=tX(t);if(nW(e,!1),c&&Y(c),!m&&(s=u&&u.onVnodeBeforeMount)&&rg(s,h,t),nW(e,!0),l&&r){let t=()=>{e.subTree=nX(e),r(l,e.subTree,e,i,null)};m&&f.__asyncHydrate?f.__asyncHydrate(l,e,t):t()}else{p.ce&&p.ce._injectChildStyle(f);let r=e.subTree=nX(e);y(null,r,n,a,e,i,o),t.el=r.el}if(d&&nU(d,i),!m&&(s=u&&u.onVnodeMounted)){let e=t;nU(()=>rg(s,h,e),i)}(256&t.shapeFlag||h&&tX(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&nU(e.a,i),e.isMounted=!0,t=n=a=null}};e.scope.on();let u=e.effect=new ep(l);e.scope.off();let c=e.update=u.run.bind(u),d=e.job=u.runIfDirty.bind(u);d.i=e,d.id=e.uid,u.scheduler=()=>tR(d),nW(e,!0),c()},$=(e,t,n)=>{t.component=e;let r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){let{props:a,attrs:i,vnode:{patchFlag:o}}=e,s=to(a),[l]=e.propsOptions,u=!1;if((r||o>0)&&!(16&o)){if(8&o){let n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(nY(e.emitsOptions,o))continue;let c=t[o];if(l)if(M(i,o))c!==i[o]&&(i[o]=c,u=!0);else{let t=H(o);a[t]=nI(l,s,t,c,e,!1)}else c!==i[o]&&(i[o]=c,u=!0)}}}else{let r;for(let o in nP(e,t,a,i)&&(u=!0),s)t&&(M(t,o)||(r=K(o))!==o&&M(t,r))||(l?n&&(void 0!==n[o]||void 0!==n[r])&&(a[o]=nI(l,s,o,void 0,e,!0)):delete a[o]);if(i!==s)for(let e in i)t&&M(t,e)||(delete i[e],u=!0)}u&&eR(e.attrs,"set","")}(e,t.props,r,n),((e,t,n)=>{let{vnode:r,slots:a}=e,i=!0,o=x;if(32&r.shapeFlag){let e=t._;e?n&&1===e?i=!1:nB(a,t,n):(i=!t.$stable,nj(t,a)),o=t}else t&&(nF(e,t),o={default:1});if(i)for(let e in a)nD(e)||null!=o[e]||delete a[e]})(e,t.children,n),eC(),tj(e),eS()},q=(e,t,n,r,a,i,o,s,l=!1)=>{let u=e&&e.children,c=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void J(u,d,n,r,a,i,o,s,l);else if(256&p)return void G(u,d,n,r,a,i,o,s,l)}8&f?(16&c&&ea(u,a,i),d!==u&&h(n,d)):16&c?16&f?J(u,d,n,r,a,i,o,s,l):ea(u,a,i,!0):(8&c&&h(n,""),16&f&&T(d,n,r,a,i,o,s,l))},G=(e,t,n,r,a,i,o,s,l)=>{let u;e=e||C,t=t||C;let c=e.length,d=t.length,h=Math.min(c,d);for(u=0;u<h;u++){let r=t[u]=l?rf(t[u]):rp(t[u]);y(e[u],r,n,null,a,i,o,s,l)}c>d?ea(e,a,i,!0,!1,h):T(t,n,r,a,i,o,s,l,h)},J=(e,t,n,r,a,i,o,s,l)=>{let u=0,c=t.length,d=e.length-1,h=c-1;for(;u<=d&&u<=h;){let r=e[u],c=t[u]=l?rf(t[u]):rp(t[u]);if(ra(r,c))y(r,c,n,null,a,i,o,s,l);else break;u++}for(;u<=d&&u<=h;){let r=e[d],u=t[h]=l?rf(t[h]):rp(t[h]);if(ra(r,u))y(r,u,n,null,a,i,o,s,l);else break;d--,h--}if(u>d){if(u<=h){let e=h+1,d=e<c?t[e].el:r;for(;u<=h;)y(null,t[u]=l?rf(t[u]):rp(t[u]),n,d,a,i,o,s,l),u++}}else if(u>h)for(;u<=d;)ee(e[u],a,i,!0),u++;else{let p,f=u,m=u,g=new Map;for(u=m;u<=h;u++){let e=t[u]=l?rf(t[u]):rp(t[u]);null!=e.key&&g.set(e.key,u)}let _=0,b=h-m+1,A=!1,w=0,x=Array(b);for(u=0;u<b;u++)x[u]=0;for(u=f;u<=d;u++){let r,c=e[u];if(_>=b){ee(c,a,i,!0);continue}if(null!=c.key)r=g.get(c.key);else for(p=m;p<=h;p++)if(0===x[p-m]&&ra(c,t[p])){r=p;break}void 0===r?ee(c,a,i,!0):(x[r-m]=u+1,r>=w?w=r:A=!0,y(c,t[r],n,null,a,i,o,s,l),_++)}let S=A?function(e){let t,n,r,a,i,o=e.slice(),s=[0],l=e.length;for(t=0;t<l;t++){let l=e[t];if(0!==l){if(e[n=s[s.length-1]]<l){o[t]=n,s.push(t);continue}for(r=0,a=s.length-1;r<a;)e[s[i=r+a>>1]]<l?r=i+1:a=i;l<e[s[r]]&&(r>0&&(o[t]=s[r-1]),s[r]=t)}}for(r=s.length,a=s[r-1];r-- >0;)s[r]=a,a=o[a];return s}(x):C;for(p=S.length-1,u=b-1;u>=0;u--){let e=m+u,d=t[e],h=e+1<c?t[e+1].el:r;0===x[u]?y(null,d,n,h,a,i,o,s,l):A&&(p<0||u!==S[p]?Q(d,n,h,2):p--)}}},Q=(e,t,n,r,i=null)=>{let{el:o,type:s,transition:l,children:u,shapeFlag:c}=e;if(6&c)return void Q(e.component.subTree,t,n,r);if(128&c)return void e.suspense.move(t,n,r);if(64&c)return void s.move(e,t,n,el);if(s===n1){a(o,t,n);for(let e=0;e<u.length;e++)Q(u[e],t,n,r);a(e.anchor,t,n);return}if(s===n3)return void(({el:e,anchor:t},n,r)=>{let i;for(;e&&e!==t;)i=f(e),a(e,n,r),e=i;a(t,n,r)})(e,t,n);if(2!==r&&1&c&&l)if(0===r)l.beforeEnter(o),a(o,t,n),nU(()=>l.enter(o),i);else{let{leave:e,delayLeave:r,afterLeave:i}=l,s=()=>a(o,t,n),u=()=>{e(o,()=>{s(),i&&i()})};r?r(o,s,u):u()}else a(o,t,n)},ee=(e,t,n,r=!1,a=!1)=>{let i,{type:o,props:s,ref:l,children:u,dynamicChildren:c,shapeFlag:d,patchFlag:h,dirs:p,cacheIndex:f}=e;if(-2===h&&(a=!1),null!=l&&tY(l,null,n,e,!0),null!=f&&(t.renderCache[f]=void 0),256&d)return void t.ctx.deactivate(e);let m=1&d&&p,g=!tX(e);if(g&&(i=s&&s.onVnodeBeforeUnmount)&&rg(i,t,e),6&d)er(e.component,n,r);else{if(128&d)return void e.suspense.unmount(n,r);m&&tH(e,null,t,"beforeUnmount"),64&d?e.type.remove(e,t,n,el,r):c&&!c.hasOnce&&(o!==n1||h>0&&64&h)?ea(c,t,n,!1,!0):(o===n1&&384&h||!a&&16&d)&&ea(u,t,n),r&&et(e)}(g&&(i=s&&s.onVnodeUnmounted)||m)&&nU(()=>{i&&rg(i,t,e),m&&tH(e,null,t,"unmounted")},n)},et=e=>{let{type:t,el:n,anchor:r,transition:a}=e;if(t===n1)return void en(n,r);if(t===n3)return void(({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=f(e),i(e),e=n;i(t)})(e);let o=()=>{i(n),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(1&e.shapeFlag&&a&&!a.persisted){let{leave:t,delayLeave:r}=a,i=()=>t(n,o);r?r(e.el,o,i):i()}else o()},en=(e,t)=>{let n;for(;e!==t;)n=f(e),i(e),e=n;i(t)},er=(e,t,n)=>{let{bum:r,scope:a,job:i,subTree:o,um:s,m:l,a:u}=e;nz(l),nz(u),r&&Y(r),a.stop(),i&&(i.flags|=8,ee(o,e,t,n)),s&&nU(s,t),nU(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},ea=(e,t,n,r=!1,a=!1,i=0)=>{for(let o=i;o<e.length;o++)ee(e[o],t,n,r,a)},ei=e=>{if(6&e.shapeFlag)return ei(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();let t=f(e.anchor||e.el),n=t&&t[t$];return n?f(n):t},eo=!1,es=(e,t,n)=>{null==e?t._vnode&&ee(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),t._vnode=e,eo||(eo=!0,tj(),tF(),eo=!1)},el={p:y,um:ee,m:Q,r:et,mt:U,mc:T,pc:q,pbc:I,n:ei,o:e};return{render:es,hydrate:n,createApp:function(e,t=null){D(e)||(e=O({},e)),null==t||j(t)||(t=null);let r=nx(),a=new WeakSet,i=[],o=!1,s=r.app={_uid:nC++,_component:e,_props:t,_container:null,_context:r,_instance:null,version:"3.5.13",get config(){return r.config},set config(v){},use:(e,...t)=>(a.has(e)||(e&&D(e.install)?(a.add(e),e.install(s,...t)):D(e)&&(a.add(e),e(s,...t))),s),mixin:e=>(r.mixins.includes(e)||r.mixins.push(e),s),component:(e,t)=>t?(r.components[e]=t,s):r.components[e],directive:(e,t)=>t?(r.directives[e]=t,s):r.directives[e],mount(a,i,l){if(o);else{let u=s._ceVNode||rl(e,t);return u.appContext=r,!0===l?l="svg":!1===l&&(l=void 0),i&&n?n(u,a):es(u,a,l),o=!0,s._container=a,a.__vue_app__=s,rT(u.component)}},onUnmount(e){i.push(e)},unmount(){o&&(tS(i,s._instance,16),es(null,s._container),delete s._container.__vue_app__)},provide:(e,t)=>(r.provides[e]=t,s),runWithContext(e){let t=nS;nS=s;try{return e()}finally{nS=t}}};return s}}}(ae))).createApp(...e),{mount:n}=t;return t.mount=e=>{let r=R(e)?document.querySelector(e):e;if(!r)return;let a=t._component;D(a)||a.render||a.template||(a.template=r.innerHTML),1===r.nodeType&&(r.textContent="");let i=n(r,!1,r instanceof SVGElement?"svg":"function"==typeof MathMLElement&&r instanceof MathMLElement?"mathml":void 0);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t})(dA,{...e.props});n.config.throwUnhandledErrorInProduction=!0;const r=n.use(i4).mount(t);this.instance=n,r&&Object.keys(r).forEach(e=>{this[e]=r[e]})}}})(),a})()},616:function(e){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],a=e[2],i=e[3];n+=(r&a|~r&i)+t[0]-0x28955b88|0,i+=((n=(n<<7|n>>>25)+r|0)&r|~n&a)+t[1]-0x173848aa|0,a+=((i=(i<<12|i>>>20)+n|0)&n|~i&r)+t[2]+0x242070db|0,r+=((a=(a<<17|a>>>15)+i|0)&i|~a&n)+t[3]-0x3e423112|0,n+=((r=(r<<22|r>>>10)+a|0)&a|~r&i)+t[4]-0xa83f051|0,i+=((n=(n<<7|n>>>25)+r|0)&r|~n&a)+t[5]+0x4787c62a|0,a+=((i=(i<<12|i>>>20)+n|0)&n|~i&r)+t[6]-0x57cfb9ed|0,r+=((a=(a<<17|a>>>15)+i|0)&i|~a&n)+t[7]-0x2b96aff|0,n+=((r=(r<<22|r>>>10)+a|0)&a|~r&i)+t[8]+0x698098d8|0,i+=((n=(n<<7|n>>>25)+r|0)&r|~n&a)+t[9]-0x74bb0851|0,a+=((i=(i<<12|i>>>20)+n|0)&n|~i&r)+t[10]-42063|0,r+=((a=(a<<17|a>>>15)+i|0)&i|~a&n)+t[11]-0x76a32842|0,n+=((r=(r<<22|r>>>10)+a|0)&a|~r&i)+t[12]+0x6b901122|0,i+=((n=(n<<7|n>>>25)+r|0)&r|~n&a)+t[13]-0x2678e6d|0,a+=((i=(i<<12|i>>>20)+n|0)&n|~i&r)+t[14]-0x5986bc72|0,r+=((a=(a<<17|a>>>15)+i|0)&i|~a&n)+t[15]+0x49b40821|0,n+=((r=(r<<22|r>>>10)+a|0)&i|a&~i)+t[1]-0x9e1da9e|0,i+=((n=(n<<5|n>>>27)+r|0)&a|r&~a)+t[6]-0x3fbf4cc0|0,a+=((i=(i<<9|i>>>23)+n|0)&r|n&~r)+t[11]+0x265e5a51|0,r+=((a=(a<<14|a>>>18)+i|0)&n|i&~n)+t[0]-0x16493856|0,n+=((r=(r<<20|r>>>12)+a|0)&i|a&~i)+t[5]-0x29d0efa3|0,i+=((n=(n<<5|n>>>27)+r|0)&a|r&~a)+t[10]+0x2441453|0,a+=((i=(i<<9|i>>>23)+n|0)&r|n&~r)+t[15]-0x275e197f|0,r+=((a=(a<<14|a>>>18)+i|0)&n|i&~n)+t[4]-0x182c0438|0,n+=((r=(r<<20|r>>>12)+a|0)&i|a&~i)+t[9]+0x21e1cde6|0,i+=((n=(n<<5|n>>>27)+r|0)&a|r&~a)+t[14]-0x3cc8f82a|0,a+=((i=(i<<9|i>>>23)+n|0)&r|n&~r)+t[3]-0xb2af279|0,r+=((a=(a<<14|a>>>18)+i|0)&n|i&~n)+t[8]+0x455a14ed|0,n+=((r=(r<<20|r>>>12)+a|0)&i|a&~i)+t[13]-0x561c16fb|0,i+=((n=(n<<5|n>>>27)+r|0)&a|r&~a)+t[2]-0x3105c08|0,a+=((i=(i<<9|i>>>23)+n|0)&r|n&~r)+t[7]+0x676f02d9|0,r+=((a=(a<<14|a>>>18)+i|0)&n|i&~n)+t[12]-0x72d5b376|0,n+=((r=(r<<20|r>>>12)+a|0)^a^i)+t[5]-378558|0,i+=((n=(n<<4|n>>>28)+r|0)^r^a)+t[8]-0x788e097f|0,a+=((i=(i<<11|i>>>21)+n|0)^n^r)+t[11]+0x6d9d6122|0,r+=((a=(a<<16|a>>>16)+i|0)^i^n)+t[14]-0x21ac7f4|0,n+=((r=(r<<23|r>>>9)+a|0)^a^i)+t[1]-0x5b4115bc|0,i+=((n=(n<<4|n>>>28)+r|0)^r^a)+t[4]+0x4bdecfa9|0,a+=((i=(i<<11|i>>>21)+n|0)^n^r)+t[7]-0x944b4a0|0,r+=((a=(a<<16|a>>>16)+i|0)^i^n)+t[10]-0x41404390|0,n+=((r=(r<<23|r>>>9)+a|0)^a^i)+t[13]+0x289b7ec6|0,i+=((n=(n<<4|n>>>28)+r|0)^r^a)+t[0]-0x155ed806|0,a+=((i=(i<<11|i>>>21)+n|0)^n^r)+t[3]-0x2b10cf7b|0,r+=((a=(a<<16|a>>>16)+i|0)^i^n)+t[6]+0x4881d05|0,n+=((r=(r<<23|r>>>9)+a|0)^a^i)+t[9]-0x262b2fc7|0,i+=((n=(n<<4|n>>>28)+r|0)^r^a)+t[12]-0x1924661b|0,a+=((i=(i<<11|i>>>21)+n|0)^n^r)+t[15]+0x1fa27cf8|0,r+=((a=(a<<16|a>>>16)+i|0)^i^n)+t[2]-0x3b53a99b|0,r=(r<<23|r>>>9)+a|0,n+=(a^(r|~i))+t[0]-0xbd6ddbc|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~a))+t[7]+0x432aff97|0,i=(i<<10|i>>>22)+n|0,a+=(n^(i|~r))+t[14]-0x546bdc59|0,a=(a<<15|a>>>17)+i|0,r+=(i^(a|~n))+t[5]-0x36c5fc7|0,r=(r<<21|r>>>11)+a|0,n+=(a^(r|~i))+t[12]+0x655b59c3|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~a))+t[3]-0x70f3336e|0,i=(i<<10|i>>>22)+n|0,a+=(n^(i|~r))+t[10]-1051523|0,a=(a<<15|a>>>17)+i|0,r+=(i^(a|~n))+t[1]-0x7a7ba22f|0,r=(r<<21|r>>>11)+a|0,n+=(a^(r|~i))+t[8]+0x6fa87e4f|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~a))+t[15]-0x1d31920|0,i=(i<<10|i>>>22)+n|0,a+=(n^(i|~r))+t[6]-0x5cfebcec|0,a=(a<<15|a>>>17)+i|0,r+=(i^(a|~n))+t[13]+0x4e0811a1|0,r=(r<<21|r>>>11)+a|0,n+=(a^(r|~i))+t[4]-0x8ac817e|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~a))+t[11]-0x42c50dcb|0,i=(i<<10|i>>>22)+n|0,a+=(n^(i|~r))+t[2]+0x2ad7d2bb|0,a=(a<<15|a>>>17)+i|0,r+=(i^(a|~n))+t[9]-0x14792c6f|0,r=(r<<21|r>>>11)+a|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=a+e[2]|0,e[3]=i+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function a(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function i(e){var t,a,i,o,s,l,u=e.length,c=[0x67452301,-0x10325477,-0x67452302,0x10325476];for(t=64;t<=u;t+=64)n(c,r(e.substring(t-64,t)));for(a=(e=e.substring(t-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<a;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(n(c,i),t=0;t<16;t+=1)i[t]=0;return s=parseInt((o=(o=8*u).toString(16).match(/(.*?)(.{0,8})$/))[2],16),l=parseInt(o[1],16)||0,i[14]=s,i[15]=l,n(c,i),c}function o(e){var n;for(n=0;n<e.length;n+=1)e[n]=function(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}(e[n]);return e.join("")}function s(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function u(){this.reset()}return o(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,n){var r,a,i,o,s=this.byteLength,l=e(t,s),u=s;return(void 0!==n&&(u=e(n,s)),l>u)?new ArrayBuffer(0):(i=new Uint8Array(a=new ArrayBuffer(r=u-l)),o=new Uint8Array(this,l,r),i.set(o),a)}}(),u.prototype.append=function(e){return this.appendBinary(s(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,a=this._buff.length;for(t=64;t<=a;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,n,r=this._buff,a=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,a),n=o(this._hash),e&&(n=l(n)),this.reset(),n},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[0x67452301,-0x10325477,-0x67452302,0x10325476],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var r,a,i,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(n(this._hash,e),o=0;o<16;o+=1)e[o]=0;a=parseInt((r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/))[2],16),i=parseInt(r[1],16)||0,e[14]=a,e[15]=i,n(this._hash,e)},u.hash=function(e,t){return u.hashBinary(s(e),t)},u.hashBinary=function(e,t){var n=o(i(e));return t?l(n):n},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(e){var t,r,i,o=(t=this._buff.buffer,(r=new Uint8Array(t.byteLength+e.byteLength)).set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),r),s=o.length;for(this._length+=e.byteLength,i=64;i<=s;i+=64)n(this._hash,a(o.subarray(i-64,i)));return this._buff=new Uint8Array(i-64<s?o.buffer.slice(i-64):0),this},u.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,a=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,a),n=o(this._hash),e&&(n=l(n)),this.reset(),n},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[0x67452301,-0x10325477,-0x67452302,0x10325476],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return e=t.buff,t.buff=String.fromCharCode.apply(null,new Uint8Array(e)),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,a=new ArrayBuffer(r),i=new Uint8Array(a);for(n=0;n<r;n+=1)i[n]=e.charCodeAt(n);return t?i:a}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var r=o(function(e){var t,r,i,o,s,l,u=e.length,c=[0x67452301,-0x10325477,-0x67452302,0x10325476];for(t=64;t<=u;t+=64)n(c,a(e.subarray(t-64,t)));for(r=(e=t-64<u?e.subarray(t-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(n(c,i),t=0;t<16;t+=1)i[t]=0;return s=parseInt((o=(o=8*u).toString(16).match(/(.*?)(.{0,8})$/))[2],16),l=parseInt(o[1],16)||0,i[14]=s,i[15]=l,n(c,i),c}(new Uint8Array(e)));return t?l(r):r},u}()},224:function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={"0273":function(e,t,n){var r=n("c1b2"),a=n("4180"),i=n("2c6c");e.exports=r?function(e,t,n){return a.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"057f":function(e,t,n){var r=n("fc6a"),a=n("241c").f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return a(e)}catch(e){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?s(e):a(r(e))}},"06cf":function(e,t,n){var r=n("83ab"),a=n("d1e7"),i=n("5c6c"),o=n("fc6a"),s=n("c04e"),l=n("5135"),u=n("0cfb"),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return i(!a.f.call(e,t),e[t])}},"06fa":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"0cfb":function(e,t,n){var r=n("83ab"),a=n("d039"),i=n("cc12");e.exports=!r&&!a(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},"159b":function(e,t,n){var r=n("da84"),a=n("fdbc"),i=n("17c2"),o=n("9112");for(var s in a){var l=r[s],u=l&&l.prototype;if(u&&u.forEach!==i)try{o(u,"forEach",i)}catch(e){u.forEach=i}}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach;e.exports=n("b301")("forEach")?function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},1875:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"194a":function(e,t,n){var r=n("cc94");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},"1be4":function(e,t,n){e.exports=n("d066")("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),a=n("b622"),i=n("60ae"),o=a("species");e.exports=function(e){return i>=51||!r(function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},"23cb":function(e,t,n){var r=n("a691"),a=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?a(n+t,0):i(n,t)}},"23e7":function(e,t,n){var r=n("da84"),a=n("06cf").f,i=n("9112"),o=n("6eeb"),s=n("ce4e"),l=n("e893"),u=n("94ca");e.exports=function(e,t){var n,c,d,h,p,f=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[f]||s(f,{}):(r[f]||{}).prototype)for(c in t){if(h=t[c],d=e.noTargetGet?(p=a(n,c))&&p.value:n[c],!u(m?c:f+(g?".":"#")+c,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&i(h,"sham",!0),o(n,c,h,e)}}},"241c":function(e,t,n){var r=n("ca84"),a=n("7839").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},"2c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"37e8":function(e,t,n){var r=n("83ab"),a=n("9bf2"),i=n("825a"),o=n("df75");e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=o(t),s=r.length,l=0;s>l;)a.f(e,n=r[l++],t[n]);return e}},"3ac6":function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},"3e47":function(e,t,n){var r=n("a5eb"),a=n("c1b2");r({target:"Object",stat:!0,forced:!a,sham:!a},{defineProperty:n("4180").f})},4160:function(e,t,n){"use strict";var r=n("23e7"),a=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},4180:function(e,t,n){var r=n("c1b2"),a=n("77b2"),i=n("6f8d"),o=n("7168"),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=o(t,!0),i(n),a)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"428f":function(e,t,n){e.exports=n("da84")},"44ad":function(e,t,n){var r=n("d039"),a=n("c6b6"),i="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==a(e)?i.call(e,""):Object(e)}:Object},"44ba":function(e,t,n){var r=n("c1b2"),a=n("7043"),i=n("2c6c"),o=n("a421"),s=n("7168"),l=n("78e7"),u=n("77b2"),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return i(!a.f.call(e,t),e[t])}},"44d2":function(e,t,n){var r=n("b622"),a=n("7c73"),i=n("9112"),o=r("unscopables"),s=Array.prototype;void 0==s[o]&&i(s,o,a(null)),e.exports=function(e){s[o][e]=!0}},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},"4d64":function(e,t,n){var r=n("fc6a"),a=n("50c4"),i=n("23cb"),o=function(e){return function(t,n,o){var s,l=r(t),u=a(l.length),c=i(o,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},"4de4":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").filter;r({target:"Array",proto:!0,forced:!n("1dde")("filter")},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"50c4":function(e,t,n){var r=n("a691"),a=Math.min;e.exports=function(e){return e>0?a(r(e),0x1fffffffffffff):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5692:function(e,t,n){var r=n("c430"),a=n("c6cd");(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.4.1",mode:r?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),a=n("241c"),i=n("7418"),o=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=a.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"60ae":function(e,t,n){var r,a,i=n("da84"),o=n("b39a"),s=i.process,l=s&&s.versions,u=l&&l.v8;u?a=(r=u.split("."))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(a=r[1]),e.exports=a&&+a},"638c":function(e,t,n){var r=n("06fa"),a=n("fc48"),i="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==a(e)?i.call(e,""):Object(e)}:Object},"65f0":function(e,t,n){var r=n("861d"),a=n("e8b5"),i=n("b622")("species");e.exports=function(e,t){var n;return a(e)&&("function"==typeof(n=e.constructor)&&(n===Array||a(n.prototype))?n=void 0:r(n)&&null===(n=n[i])&&(n=void 0)),new(void 0===n?Array:n)(0===t?0:t)}},"69f3":function(e,t,n){var r,a,i,o=n("7f9a"),s=n("da84"),l=n("861d"),u=n("9112"),c=n("5135"),d=n("f772"),h=n("d012"),p=s.WeakMap;if(o){var f=new p,m=f.get,g=f.has,y=f.set;r=function(e,t){return y.call(f,e,t),t},a=function(e){return m.call(f,e)||{}},i=function(e){return g.call(f,e)}}else{var _=d("state");h[_]=!0,r=function(e,t){return u(e,_,t),t},a=function(e){return c(e,_)?e[_]:{}},i=function(e){return c(e,_)}}e.exports={set:r,get:a,has:i,enforce:function(e){return i(e)?a(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=a(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},"6eeb":function(e,t,n){var r=n("da84"),a=n("5692"),i=n("9112"),o=n("5135"),s=n("ce4e"),l=n("9e81"),u=n("69f3"),c=u.get,d=u.enforce,h=String(l).split("toString");a("inspectSource",function(e){return l.call(e)}),(e.exports=function(e,t,n,a){var l=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,c=!!a&&!!a.noTargetGet;("function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),d(n).source=h.join("string"==typeof t?t:"")),e===r)?u?e[t]=n:s(t,n):(l?!c&&e[t]&&(u=!0):delete e[t],u?e[t]=n:i(e,t,n))})(Function.prototype,"toString",function(){return"function"==typeof this&&c(this).source||l.call(this)})},"6f8d":function(e,t,n){var r=n("dfdb");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},7043:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor;t.f=a&&!r.call({1:2},1)?function(e){var t=a(this,e);return!!t&&t.enumerable}:r},7168:function(e,t,n){var r=n("dfdb");e.exports=function(e,t){var n,a;if(!r(e))return e;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e))||"function"==typeof(n=e.valueOf)&&!r(a=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,n){var r=n("428f"),a=n("5135"),i=n("c032"),o=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});a(t,e)||o(t,e,{value:i.f(e)})}},"764b":function(e,t){e.exports={}},"77b2":function(e,t,n){var r=n("c1b2"),a=n("06fa"),i=n("7a37");e.exports=!r&&!a(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"78e7":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"7a37":function(e,t,n){var r=n("3ac6"),a=n("dfdb"),i=r.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r=n("825a"),a=n("37e8"),i=n("7839"),o=n("d012"),s=n("1be4"),l=n("cc12"),u=n("f772")("IE_PROTO"),c="prototype",d=function(){},h=function(){var e,t=l("iframe"),n=i.length,r="script";for(t.style.display="none",s.appendChild(t),t.src=String("java"+r+":"),(e=t.contentWindow.document).open(),e.write("<"+r+">document.F=Object</"+r+">"),e.close(),h=e.F;n--;)delete h[c][i[n]];return h()};e.exports=Object.create||function(e,t){var n;return null!==e?(d[c]=r(e),n=new d,d[c]=null,n[u]=e):n=h(),void 0===t?n:a(n,t)},o[u]=!0},"7f9a":function(e,t,n){var r=n("da84"),a=n("9e81"),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(a.call(i))},"81d5":function(e,t,n){"use strict";var r=n("7b0b"),a=n("23cb"),i=n("50c4");e.exports=function(e){for(var t=r(this),n=i(t.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,u=void 0===l?n:a(l,n);u>s;)t[s++]=e;return t}},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){e.exports=!n("d039")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},8418:function(e,t,n){"use strict";var r=n("c04e"),a=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var o=r(t);o in e?a.f(e,o,i(0,n)):e[o]=n}},"85d3":function(e,t,n){e.exports=n("9a13")},"861d":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"8bbf":function(t,n){t.exports=e},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),a=n("9bf2"),i=n("5c6c");e.exports=r?function(e,t,n){return a.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"94ca":function(e,t,n){var r=n("d039"),a=/#|\.prototype\./,i=function(e,t){var n=s[o(e)];return n==u||n!=l&&("function"==typeof t?r(t):!!t)},o=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=i.data={},l=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},"9a13":function(e,t,n){e.exports=n("a38c")},"9bf2":function(e,t,n){var r=n("83ab"),a=n("0cfb"),i=n("825a"),o=n("c04e"),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=o(t,!0),i(n),a)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9e81":function(e,t,n){e.exports=n("5692")("native-function-to-string",Function.toString)},a0e5:function(e,t,n){var r=n("06fa"),a=/#|\.prototype\./,i=function(e,t){var n=s[o(e)];return n==u||n!=l&&("function"==typeof t?r(t):!!t)},o=i.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=i.data={},l=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},a15b:function(e,t,n){"use strict";var r=n("23e7"),a=n("44ad"),i=n("fc6a"),o=n("b301"),s=[].join,l=a!=Object,u=o("join",",");r({target:"Array",proto:!0,forced:l||u},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},a38c:function(e,t,n){n("3e47");var r=n("764b").Object,a=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(a.sham=!0)},a421:function(e,t,n){var r=n("638c"),a=n("1875");e.exports=function(e){return r(a(e))}},a434:function(e,t,n){"use strict";var r=n("23e7"),a=n("23cb"),i=n("a691"),o=n("50c4"),s=n("7b0b"),l=n("65f0"),u=n("8418"),c=n("1dde"),d=Math.max,h=Math.min;r({target:"Array",proto:!0,forced:!c("splice")},{splice:function(e,t){var n,r,c,p,f,m,g=s(this),y=o(g.length),_=a(e,y),b=arguments.length;if(0===b?n=r=0:1===b?(n=0,r=y-_):(n=b-2,r=h(d(i(t),0),y-_)),y+n-r>0x1fffffffffffff)throw TypeError("Maximum allowed length exceeded");for(p=0,c=l(g,r);p<r;p++)(f=_+p)in g&&u(c,p,g[f]);if(c.length=r,n<r){for(p=_;p<y-r;p++)f=p+r,m=p+n,f in g?g[m]=g[f]:delete g[m];for(p=y;p>y-r+n;p--)delete g[p-1]}else if(n>r)for(p=y-r;p>_;p--)f=p+r-1,m=p+n-1,f in g?g[m]=g[f]:delete g[m];for(p=0;p<n;p++)g[p+_]=arguments[p+2];return g.length=y-r+n,c}})},a4d3:function(e,t,n){"use strict";var r=n("23e7"),a=n("da84"),i=n("d066"),o=n("c430"),s=n("83ab"),l=n("4930"),u=n("d039"),c=n("5135"),d=n("e8b5"),h=n("861d"),p=n("825a"),f=n("7b0b"),m=n("fc6a"),g=n("c04e"),y=n("5c6c"),_=n("7c73"),b=n("df75"),A=n("241c"),w=n("057f"),x=n("7418"),C=n("06cf"),S=n("9bf2"),k=n("d1e7"),E=n("9112"),T=n("6eeb"),O=n("5692"),P=n("f772"),I=n("d012"),M=n("90e3"),L=n("b622"),D=n("c032"),R=n("746f"),N=n("d44e"),j=n("69f3"),F=n("b727").forEach,B=P("hidden"),U="Symbol",V="prototype",W=L("toPrimitive"),z=j.set,H=j.getterFor(U),$=Object[V],K=a.Symbol,q=i("JSON","stringify"),G=C.f,Y=S.f,X=w.f,J=k.f,Z=O("symbols"),Q=O("op-symbols"),ee=O("string-to-symbol-registry"),et=O("symbol-to-string-registry"),en=O("wks"),er=a.QObject,ea=!er||!er[V]||!er[V].findChild,ei=s&&u(function(){return 7!=_(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=G($,t);r&&delete $[t],Y(e,t,n),r&&e!==$&&Y($,t,r)}:Y,eo=function(e,t){var n=Z[e]=_(K[V]);return z(n,{type:U,tag:e,description:t}),s||(n.description=t),n},es=l&&"symbol"==typeof K.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof K},el=function(e,t,n){e===$&&el(Q,t,n),p(e);var r=g(t,!0);return(p(n),c(Z,r))?(n.enumerable?(c(e,B)&&e[B][r]&&(e[B][r]=!1),n=_(n,{enumerable:y(0,!1)})):(c(e,B)||Y(e,B,y(1,{})),e[B][r]=!0),ei(e,r,n)):Y(e,r,n)},eu=function(e,t){p(e);var n=m(t);return F(b(n).concat(ep(n)),function(t){(!s||ec.call(n,t))&&el(e,t,n[t])}),e},ec=function(e){var t=g(e,!0),n=J.call(this,t);return(!(this===$&&c(Z,t))||!!c(Q,t))&&(!(n||!c(this,t)||!c(Z,t)||c(this,B)&&this[B][t])||n)},ed=function(e,t){var n=m(e),r=g(t,!0);if(!(n===$&&c(Z,r))||c(Q,r)){var a=G(n,r);return a&&c(Z,r)&&!(c(n,B)&&n[B][r])&&(a.enumerable=!0),a}},eh=function(e){var t=X(m(e)),n=[];return F(t,function(e){c(Z,e)||c(I,e)||n.push(e)}),n},ep=function(e){var t=e===$,n=X(t?Q:m(e)),r=[];return F(n,function(e){c(Z,e)&&(!t||c($,e))&&r.push(Z[e])}),r};l||(T((K=function(){if(this instanceof K)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=M(e),n=function(e){this===$&&n.call(Q,e),c(this,B)&&c(this[B],t)&&(this[B][t]=!1),ei(this,t,y(1,e))};return s&&ea&&ei($,t,{configurable:!0,set:n}),eo(t,e)})[V],"toString",function(){return H(this).tag}),k.f=ec,S.f=el,C.f=ed,A.f=w.f=eh,x.f=ep,s&&(Y(K[V],"description",{configurable:!0,get:function(){return H(this).description}}),o||T($,"propertyIsEnumerable",ec,{unsafe:!0})),D.f=function(e){return eo(L(e),e)}),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:K}),F(b(en),function(e){R(e)}),r({target:U,stat:!0,forced:!l},{for:function(e){var t=String(e);if(c(ee,t))return ee[t];var n=K(t);return ee[t]=n,et[n]=t,n},keyFor:function(e){if(!es(e))throw TypeError(e+" is not a symbol");if(c(et,e))return et[e]},useSetter:function(){ea=!0},useSimple:function(){ea=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!s},{create:function(e,t){return void 0===t?_(e):eu(_(e),t)},defineProperty:el,defineProperties:eu,getOwnPropertyDescriptor:ed}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:eh,getOwnPropertySymbols:ep}),r({target:"Object",stat:!0,forced:u(function(){x.f(1)})},{getOwnPropertySymbols:function(e){return x.f(f(e))}}),q&&r({target:"JSON",stat:!0,forced:!l||u(function(){var e=K();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))})},{stringify:function(e,t,n){for(var r,a=[e],i=1;arguments.length>i;)a.push(arguments[i++]);if(r=t,!(!h(t)&&void 0===e||es(e)))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!es(t))return t}),a[1]=t,q.apply(null,a)}}),K[V][W]||E(K[V],W,K[V].valueOf),N(K,U),I[B]=!0},a5eb:function(e,t,n){"use strict";var r=n("3ac6"),a=n("44ba").f,i=n("a0e5"),o=n("764b"),s=n("194a"),l=n("0273"),u=n("78e7"),c=function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,d,h,p,f,m,g,y,_=e.target,b=e.global,A=e.stat,w=e.proto,x=b?r:A?r[_]:(r[_]||{}).prototype,C=b?o:o[_]||(o[_]={}),S=C.prototype;for(h in t)n=!i(b?h:_+(A?".":"#")+h,e.forced)&&x&&u(x,h),f=C[h],n&&(m=e.noTargetGet?(y=a(x,h))&&y.value:x[h]),p=n&&m?m:t[h],(!n||typeof f!=typeof p)&&(g=e.bind&&n?s(p,r):e.wrap&&n?c(p):w&&"function"==typeof p?s(Function.call,p):p,(e.sham||p&&p.sham||f&&f.sham)&&l(g,"sham",!0),C[h]=g,w&&(u(o,d=_+"Prototype")||l(o,d,{}),o[d][h]=p,e.real&&S&&!S[h]&&l(S,h,p)))}},a661:function(e,t,n){},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e*=1)?0:(e>0?r:n)(e)}},b0c0:function(e,t,n){var r=n("83ab"),a=n("9bf2").f,i=Function.prototype,o=i.toString,s=/^\s*function ([^ (]*)/,l="name";!r||l in i||a(i,l,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},b301:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!n||!r(function(){n.call(null,t||function(){throw 1},1)})}},b39a:function(e,t,n){e.exports=n("d066")("navigator","userAgent")||""},b622:function(e,t,n){var r=n("da84"),a=n("5692"),i=n("90e3"),o=n("4930"),s=r.Symbol,l=a("wks");e.exports=function(e){return l[e]||(l[e]=o&&s[e]||(o?s:i)("Symbol."+e))}},b64b:function(e,t,n){var r=n("23e7"),a=n("7b0b"),i=n("df75");r({target:"Object",stat:!0,forced:n("d039")(function(){i(1)})},{keys:function(e){return i(a(e))}})},b727:function(e,t,n){var r=n("f8c2"),a=n("44ad"),i=n("7b0b"),o=n("50c4"),s=n("65f0"),l=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,c=4==e,d=6==e,h=5==e||d;return function(p,f,m,g){for(var y,_,b=i(p),A=a(b),w=r(f,m,3),x=o(A.length),C=0,S=g||s,k=t?S(p,x):n?S(p,0):void 0;x>C;C++)if((h||C in A)&&(_=w(y=A[C],C,b),e)){if(t)k[C]=_;else if(_)switch(e){case 3:return!0;case 5:return y;case 6:return C;case 2:l.call(k,y)}else if(c)return!1}return d?-1:u||c?c:k}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c032:function(e,t,n){t.f=n("b622")},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){var n,a;if(!r(e))return e;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e))||"function"==typeof(n=e.valueOf)&&!r(a=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},c1b2:function(e,t,n){e.exports=!n("06fa")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),a=n("ce4e"),i="__core-js_shared__";e.exports=r[i]||a(i,{})},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},c975:function(e,t,n){"use strict";var r=n("23e7"),a=n("4d64").indexOf,i=n("b301"),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,l=i("indexOf");r({target:"Array",proto:!0,forced:s||l},{indexOf:function(e){return s?o.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},ca84:function(e,t,n){var r=n("5135"),a=n("fc6a"),i=n("4d64").indexOf,o=n("d012");e.exports=function(e,t){var n,s=a(e),l=0,u=[];for(n in s)!r(o,n)&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~i(u,n)||u.push(n));return u}},cb29:function(e,t,n){var r=n("23e7"),a=n("81d5"),i=n("44d2");r({target:"Array",proto:!0},{fill:a}),i("fill")},cc12:function(e,t,n){var r=n("da84"),a=n("861d"),i=r.document,o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},cc94:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},ce4e:function(e,t,n){var r=n("da84"),a=n("9112");e.exports=function(e,t){try{a(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},d066:function(e,t,n){var r=n("428f"),a=n("da84"),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(a[e]):r[e]&&r[e][t]||a[e]&&a[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor;t.f=a&&!r.call({1:2},1)?function(e){var t=a(this,e);return!!t&&t.enumerable}:r},d44e:function(e,t,n){var r=n("9bf2").f,a=n("5135"),i=n("b622")("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(e,t,n){var r=n("23e7"),a=n("83ab"),i=n("56ef"),o=n("fc6a"),s=n("06cf"),l=n("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),a=s.f,u=i(r),c={},d=0;u.length>d;)void 0!==(n=a(r,t=u[d++]))&&l(c,t,n);return c}})},df75:function(e,t,n){var r=n("ca84"),a=n("7839");e.exports=Object.keys||function(e){return r(e,a)}},dfdb:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},e439:function(e,t,n){var r=n("23e7"),a=n("d039"),i=n("fc6a"),o=n("06cf").f,s=n("83ab"),l=a(function(){o(1)});r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(i(e),t)}})},e893:function(e,t,n){var r=n("5135"),a=n("56ef"),i=n("06cf"),o=n("9bf2");e.exports=function(e,t){for(var n=a(t),s=o.f,l=i.f,u=0;u<n.length;u++){var c=n[u];r(e,c)||s(e,c,l(t,c))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},f6fd:function(e,t){var n,r;r=(n=document).getElementsByTagName("script"),"currentScript"in n||Object.defineProperty(n,"currentScript",{get:function(){try{throw Error()}catch(n){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/ig.exec(n.stack)||[!1])[1];for(e in r)if(r[e].src==t||"interactive"==r[e].readyState)return r[e];return null}}})},f772:function(e,t,n){var r=n("5692"),a=n("90e3"),i=r("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},f8c2:function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!=typeof window){var r;n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1])}n("b0c0"),n("a4d3"),n("4de4"),n("4160"),n("c975"),n("a15b"),n("a434"),n("e439"),n("dbb4"),n("b64b"),n("159b");var a=n("85d3"),i=n.n(a);function o(e,t,n,r,a,i,o,s){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),o?u._ssrRegister=l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)}:a&&(l=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:u}}var s=o({name:"pop-m-message",props:{iconImg:String,closable:Boolean,closeHandler:Function,title:String,content:String,supportHTML:Boolean,isCollapsed:{type:Boolean,default:!0},collapsable:{type:Boolean,default:!0}},data:function(){return{visible:!0,collapsed:this.isCollapsed}},methods:{triggerCollapse:function(){this.collapsed=!this.collapsed},close:function(){this.visible=!1},handleClose:function(){"function"==typeof this.closeHandler?this.closeHandler(this.close):this.close()}}},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"pop-m-message"},[this.iconImg||this.$slots.icon?t("div",{staticClass:"pop-m-message-icons"},[this.iconImg?t("img",{staticClass:"pop-m-message--icon",attrs:{src:this.iconImg}}):this._t("icon")],2):this._e(),t("div",{staticClass:"pop-m-message-content"},[this.title||this.$slots.title?t("div",{staticClass:"pop-m-message--title"},[this._t("title",[this._v(this._s(this.title))])],2):this._e(),this.supportHTML?[this.collapsed?this._e():t("div",{staticClass:"pop-m-message--description",domProps:{innerHTML:this._s(this.content)}},[this._t("default")],2)]:[this.collapsed?this._e():t("div",{staticClass:"pop-m-message--description"},[this._t("default",[this._v(this._s(this.content))])],2)]],2),t("div",{staticClass:"pop-m-message--control"},[this._t("button"),this.collapsable&&(this.title||this.$slots.title)?t("button",{staticClass:"pop-m-message--button pop-m-message--arrow-down",class:{"is-collapsed":this.collapsed},on:{click:this.triggerCollapse}},[t("svg",{attrs:{viewBox:"0 0 35 35",width:"20",height:"20",version:"1.1",fill:"currentColor"}},[t("path",{staticClass:"st0",attrs:{d:"M9.4,13.9c-0.2,0.2-0.2,0.6,0,0.8l8.1,8.1l0,0l0,0l8.1-8.1c0.2-0.2,0.2-0.6,0-0.8l-1.3-1.3 c-0.2-0.2-0.6-0.2-0.8,0l-5.5,5.5c-0.2,0.2-0.6,0.2-0.8,0l-5.5-5.5c-0.2-0.2-0.6-0.2-0.8,0L9.4,13.9z"}})])]):this._e(),this.closable?t("button",{staticClass:"pop-m-message--button pop-m-message--close",on:{click:this.handleClose}},[t("svg",{attrs:{viewBox:"0 0 35 35",width:"20",height:"20",version:"1.1",fill:"currentColor"}},[t("path",{attrs:{d:"M19.5,17.5l5.1,5.1l-2,2l-5.1-5.1l-5.1,5.1l-2-2l5.1-5.1l-5.1-5.1l2-2l5.1,5.1l5.1-5.1l2,2L19.5,17.5z"}})])]):this._e()],2)])},[],!1,null,null,null).exports;n("cb29");var l={},u={name:"Icon",props:{name:String,color:String},computed:{svg:function(){return l[this.name]}},render:function(e){var t=this.svg;if(!t)return console.warn("The name of '".concat(this.name,"' could not be found.")),e("span",{class:"m-svg-icon"});var n={color:this.color?this.color:t.fill?t.fill:null};return e("span",{class:["m-svg-icon","m-svg-icon--"+this.name]},[e("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:t.viewBox},style:n,class:t.class},[t.defs&&e("defs",{domProps:{innerHTML:t.defs}}),t.path&&e("path",{attrs:{fill:"currentColor",d:t.path}}),t.html&&e("g",{domProps:{innerHTML:t.html}}),this.$slots.default])])}};u.add=function(e,t){l[e]=t};var c={name:"info",fill:"#1CADF2",viewBox:"0 0 1024 1024",path:"M512,72C269,72,72,269,72,512s197,440,440,440s440-197,440-440S755,72,512,72z M581,673.9 c-33.2,49.9-67,88.3-123.8,88.3c-38.8-6.3-54.7-34.1-46.3-62.4L484,457.6c1.8-5.9-1.2-12.3-6.6-14.2c-5.4-1.9-15.9,5.1-25.1,15.1 l-44.2,53.2c-1.2-8.9-0.1-23.7-0.1-29.6c33.2-49.9,87.8-89.2,124.8-89.2c35.2,3.6,51.8,31.7,45.7,62.6l-73.6,243.3 c-1,5.5,1.9,11.1,6.9,12.8c5.4,1.9,16.8-5.1,26-15.1l44.2-53.1C583,652.3,581,667.9,581,673.9z M571.2,357.6 c-28,0-50.6-20.4-50.6-50.4c0-30,22.7-50.3,50.6-50.3c28,0,50.6,20.4,50.6,50.3C621.8,337.3,599.1,357.6,571.2,357.6z"},d={name:"success",fill:"#17B77E",viewBox:"0 0 1024 1024",path:"M512,72C269,72,72,269,72,512s197,440,440,440s440-197,440-440S755,72,512,72L512,72z M758.9,374 c-48.5,48.6-81.2,76.9-172.3,186.8c-52.6,63.4-102.3,131.5-102.7,132L462.1,720c-4.6,6.1-13.5,6.8-19.1,1.6L267.9,558.9 c-17.8-16.5-18.8-44.4-2.3-62.2s44.4-18.8,62.2-2.3l104.9,97.5c5.5,5.1,14.1,4.5,18.9-1.3c16.2-20.1,38.4-44.5,62.4-68.6 c90.2-90.9,145.6-139.7,175.2-161.3c36-26.2,77.3-48.6,87.3-36.2C792,343.9,782.5,350.3,758.9,374L758.9,374z"},h={name:"error",fill:"#F56C6C",viewBox:"0 0 1024 1024",path:"M512,952C269,952,72,755,72,512S269,72,512,72s440,197,440,440S755,952,512,952z M579.7,512l101.6-101.6 c18.7-18.7,18.7-49,0-67.7c-18.7-18.7-49-18.7-67.7,0l0,0L512,444.3L410.4,342.7c-18.7-18.7-49-18.7-67.7,0s-18.7,49,0,67.7 L444.3,512L342.7,613.6c-18.7,18.7-18.7,49,0,67.7c18.7,18.7,49,18.7,67.7,0L512,579.7l101.6,101.6c18.7,18.7,49,18.7,67.7,0 c18.7-18.7,18.7-49,0-67.7L579.7,512z"},p={name:"warning",fill:"#FFC603",viewBox:"0 0 1024 1024",path:"M512,952C269,952,72,755,72,512S269,72,512,72s440,197,440,440S755,952,512,952z M510,770.8 c30.4,0,55-24.6,55-55s-24.6-55-55-55s-55,24.6-55,55S479.6,770.8,510,770.8z M509.8,255.3c-39.3,0-71.2,31.9-71.2,71.2 c0,3.1,0.2,6.2,0.6,9.3L472.4,588c2.5,19.3,18.9,33.7,38.4,33.7c19.4,0,35.8-14.4,38.2-33.7l31.8-252.2c5-39.2-22.8-75-62-79.9 C515.9,255.5,512.8,255.3,509.8,255.3z"},f={name:"loading",viewBox:"0 0 50 50",class:"m-loading-icon m-loading-wipe",defs:"<style>\n    .m-loading-icon {\n      stroke: #343640;\n      stroke-width: 3.5;\n      stroke-linecap: round;\n      background: none;\n      vertical-align: middle;\n    }\n    .m-loading-icon .m-loading-icon-bg-path{\n      fill: none;\n      stroke: #F2F2F2;\n    }\n    .m-loading-icon .m-loading-icon-active-path{\n      fill: none;\n      stroke: #20a0ff;\n      transform-origin: 50% 50%;\n    }\n    .m-loading-wipe .m-loading-icon-active-path{\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: 0;\n      animation: loading-wipe 1.5s ease-in-out infinite, loading-rotate 2s linear infinite;\n    }\n    .m-loading-default .m-loading-icon-active-path{\n      stroke-dasharray: 60, 150;\n      animation: loading-rotate 0.8s linear infinite;\n    }\n\n    @keyframes loading-rotate{\n      to{transform:rotate(1turn)}\n    }\n    @keyframes loading-wipe{\n      0%{\n        stroke-dasharray:1,200;\n        stroke-dashoffset:0;\n      }\n      50%{\n        stroke-dasharray:90,150;\n        stroke-dashoffset:-40px;\n      }\n      to{\n        stroke-dasharray:90,150;\n        stroke-dashoffset:-120px;\n      }\n    }\n  </style>",html:'<circle cx="25" cy="25" r="20" class="m-loading-icon-bg-path"></circle><circle cx="25" cy="25" r="20" class="m-loading-icon-active-path"></circle>'};u.add(c.name,c),u.add(d.name,d),u.add(h.name,h),u.add(p.name,p),u.add(f.name,f);var m=o({components:{Icon:u,Message:s},data:function(){return{show:!1,type:"info",iconImg:"",title:"",message:"",duration:3e3,showClose:!1,isCollapsed:!1,collapsable:!0,width:"",className:"",wrapperClassName:"",supportHTML:!1,onClose:null,timer:null,closed:!1}},watch:{closed:function(e){e&&(this.show=!1,this.$el.addEventListener("animationend",this.destroyElement))}},methods:{close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;this.duration>0&&"loading"!==this.type&&(this.timer=setTimeout(function(){e.closed||e.close()},this.duration))},destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)}},mounted:function(){"loading"!==this.type&&(this.startTimer(),this.duration<=0&&(this.showClose=!0))}},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"pop-m-message-fade",mode:"in-out"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"pop-m-message-wrapper",class:e.wrapperClassName,style:{width:e.width}},[n("message",{class:[e.type&&"pop-m-message--"+e.type,e.className],attrs:{content:e.message,closable:e.showClose,"is-collapsed":e.isCollapsed,collapsable:e.collapsable,"close-handler":e.close,title:e.title,supportHTML:e.supportHTML},nativeOn:{mouseenter:function(t){return e.clearTimer(t)},mouseleave:function(t){return e.startTimer(t)}}},[n("template",{slot:"icon"},[e.iconImg?n("img",{staticClass:"pop-m-message--icon",attrs:{src:e.iconImg}}):e.type?n("icon",{staticClass:"pop-m-message--icon",attrs:{name:e.type}}):e._e()],1)],2)],1)])},[],!1,null,null,null).exports,g=n("8bbf");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){var r;r=n[t],t in e?i()(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=n.n(g).a.extend(m),A=[],w=1,x={},C={},S=function e(t){var n=(t=_({},C,{},t)).onClose,r=t.position||"top-center",a=t.hasMask||!1,i=r+(a?"-mask":""),o=x[i];o||((o=x[i]=document.createElement("div")).className=["pop-m-message-container","is-"+r,a?"has-mask":""].filter(function(e){return!!e}).join(" "),document.body.appendChild(o)),t.zIndex&&(o.style.zIndex=t.zIndex);var s=w++;t.onClose=function(){e.close(s,n)};var l=new b({el:document.createElement("div"),data:t});return l.id=s,l.containerKey=i,0===r.indexOf("bottom")&&o.firstChild?o.insertBefore(l.$el,o.firstChild):o.appendChild(l.$el),l.show=!0,A.push(l),l};S.close=function(e,t){for(var n,r,a,i=0,o=A.length;i<o&&(e!==A[i].id||"break"!=(r=(n=A[i]).containerKey,a=n.hasMask,"function"==typeof t&&t(A[i]),A[i]=null,A.splice(i,1),a&&setTimeout(function(){0===A.filter(function(e){return e.containerKey===r}).length&&x[r]&&(x[r].remove(),x[r]=null)},300),"break"));i++);setTimeout(function(){if(0===A.length)for(var e in x)x[e]&&(x[e].remove(),x[e]=null)},3e3)},S.closeAll=function(){for(var e=A.length-1;e>=0;e--)A[e].close()},S.globals={options:C},["info","success","error","warning","loading"].forEach(function(e){S[e]=function(t){return S(_({},t="string"==typeof t?{message:t}:t,{type:e}))}}),n("a661"),S.install=function(e,t){t&&t.name?e.prototype["$".concat(t.name)]=S:e.prototype.$message=S},n.d(t,"MMessage",function(){return s}),t.default=S},fc48:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},fc6a:function(e,t,n){var r=n("44ad"),a=n("1d80");e.exports=function(e){return r(a(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}},n={};function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,(function(t){return e[t]}).bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="fb15")}(n(649))},649:function(e,t,n){"use strict";n.r(t),n.d(t,{EffectScope:()=>tg,computed:()=>ti,customRef:()=>e9,default:()=>r_,defineAsyncComponent:()=>nh,defineComponent:()=>nT,del:()=>e$,effectScope:()=>tv,getCurrentInstance:()=>ew,getCurrentScope:()=>ty,h:()=>t6,inject:()=>tw,isProxy:()=>eZ,isReactive:()=>eY,isReadonly:()=>eJ,isRef:()=>e1,isShallow:()=>eX,markRaw:()=>eQ,mergeDefaults:()=>t1,nextTick:()=>nu,onActivated:()=>nb,onBeforeMount:()=>nf,onBeforeUnmount:()=>ny,onBeforeUpdate:()=>ng,onDeactivated:()=>nA,onErrorCaptured:()=>nk,onMounted:()=>nm,onRenderTracked:()=>nx,onRenderTriggered:()=>nC,onScopeDispose:()=>t_,onServerPrefetch:()=>nw,onUnmounted:()=>n_,onUpdated:()=>nv,provide:()=>tb,proxyRefs:()=>e8,reactive:()=>eK,readonly:()=>tn,ref:()=>e2,set:()=>eH,shallowReactive:()=>eq,shallowReadonly:()=>ta,shallowRef:()=>e5,toRaw:()=>function e(t){var n=t&&t.__v_raw;return n?e(n):t},toRef:()=>tt,toRefs:()=>te,triggerRef:()=>e4,unref:()=>e6,useAttrs:()=>tZ,useCssModule:()=>nc,useCssVars:()=>nd,useListeners:()=>tQ,useSlots:()=>tJ,version:()=>nE,watch:()=>tf,watchEffect:()=>tc,watchPostEffect:()=>td,watchSyncEffect:()=>th});var r,a,i,o,s,l,u,c,d,h,p,f,m=Object.freeze({}),g=Array.isArray;function y(e){return null==e}function _(e){return null!=e}function b(e){return!0===e}function A(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function w(e){return"function"==typeof e}function x(e){return null!==e&&"object"==typeof e}var C=Object.prototype.toString;function S(e){return"[object Object]"===C.call(e)}function k(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function E(e){return _(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function T(e){return null==e?"":Array.isArray(e)||S(e)&&e.toString===C?JSON.stringify(e,O,2):String(e)}function O(e,t){return t&&t.__v_isRef?t.value:t}function P(e){var t=parseFloat(e);return isNaN(t)?e:t}function I(e,t){for(var n=Object.create(null),r=e.split(","),a=0;a<r.length;a++)n[r[a]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}I("slot,component",!0);var M=I("key,ref,slot,slot-scope,is");function L(e,t){var n=e.length;if(n){if(t===e[n-1]){e.length=n-1;return}var r=e.indexOf(t);if(r>-1)return e.splice(r,1)}}var D=Object.prototype.hasOwnProperty;function R(e,t){return D.call(e,t)}function N(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var j=/-(\w)/g,F=N(function(e){return e.replace(j,function(e,t){return t?t.toUpperCase():""})}),B=N(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),U=/\B([A-Z])/g,V=N(function(e){return e.replace(U,"-$1").toLowerCase()}),W=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function z(e,t){t=t||0;for(var n=e.length-t,r=Array(n);n--;)r[n]=e[n+t];return r}function H(e,t){for(var n in t)e[n]=t[n];return e}function $(e){for(var t={},n=0;n<e.length;n++)e[n]&&H(t,e[n]);return t}function K(e,t,n){}var q=function(e,t,n){return!1},G=function(e){return e};function Y(e,t){if(e===t)return!0;var n=x(e),r=x(t);if(n&&r)try{var a=Array.isArray(e),i=Array.isArray(t);if(a&&i)return e.length===t.length&&e.every(function(e,n){return Y(e,t[n])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(a||i)return!1;var o=Object.keys(e),s=Object.keys(t);return o.length===s.length&&o.every(function(n){return Y(e[n],t[n])})}catch(e){return!1}return!n&&!r&&String(e)===String(t)}function X(e,t){for(var n=0;n<e.length;n++)if(Y(e[n],t))return n;return -1}function J(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function Z(e,t){return e===t?0===e&&1/e!=1/t:e==e||t==t}var Q="data-server-rendered",ee=["component","directive","filter"],et=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],en={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:q,isReservedAttr:q,isUnknownElement:q,getTagNamespace:K,parsePlatformTagName:G,mustUseProp:q,async:!0,_lifecycleHooks:et};function er(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function ea(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var ei=new RegExp("[^".concat(/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/.source,".$_\\d]")),eo="__proto__"in{},es="undefined"!=typeof window,el=es&&window.navigator.userAgent.toLowerCase(),eu=el&&/msie|trident/.test(el),ec=el&&el.indexOf("msie 9.0")>0,ed=el&&el.indexOf("edge/")>0;el&&el.indexOf("android");var eh=el&&/iphone|ipad|ipod|ios/.test(el);el&&/chrome\/\d+/.test(el),el&&/phantomjs/.test(el);var ep=el&&el.match(/firefox\/(\d+)/),ef={}.watch,em=!1;if(es)try{var eg={};Object.defineProperty(eg,"passive",{get:function(){em=!0}}),window.addEventListener("test-passive",null,eg)}catch(e){}var ev=function(){return void 0===s&&(s=!es&&void 0!==n.g&&n.g.process&&"server"===n.g.process.env.VUE_ENV),s},ey=es&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function e_(e){return"function"==typeof e&&/native code/.test(e.toString())}var eb="undefined"!=typeof Symbol&&e_(Symbol)&&"undefined"!=typeof Reflect&&e_(Reflect.ownKeys);l="undefined"!=typeof Set&&e_(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var eA=null;function ew(){return eA&&{proxy:eA}}function ex(e){void 0===e&&(e=null),!e&&eA&&eA._scope.off(),eA=e,e&&e._scope.on()}var eC=function(){function e(e,t,n,r,a,i,o,s){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=a,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),eS=function(e){void 0===e&&(e="");var t=new eC;return t.text=e,t.isComment=!0,t};function ek(e){return new eC(void 0,void 0,void 0,String(e))}function eE(e){var t=new eC(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}"function"==typeof SuppressedError&&SuppressedError;var eT=0,eO=[],eP=function(){for(var e=0;e<eO.length;e++){var t=eO[e];t.subs=t.subs.filter(function(e){return e}),t._pending=!1}eO.length=0},eI=function(){function e(){this._pending=!1,this.id=eT++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,eO.push(this))},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){for(var t=this.subs.filter(function(e){return e}),n=0,r=t.length;n<r;n++)t[n].update()},e}();eI.target=null;var eM=[];function eL(e){eM.push(e),eI.target=e}function eD(){eM.pop(),eI.target=eM[eM.length-1]}var eR=Array.prototype,eN=Object.create(eR);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=eR[e];ea(eN,e,function(){for(var n,r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var i=t.apply(this,r),o=this.__ob__;switch(e){case"push":case"unshift":n=r;break;case"splice":n=r.slice(2)}return n&&o.observeArray(n),o.dep.notify(),i})});var ej=Object.getOwnPropertyNames(eN),eF={},eB=!0,eU={notify:K,depend:K,addSub:K,removeSub:K},eV=function(){function e(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),this.value=e,this.shallow=t,this.mock=n,this.dep=n?eU:new eI,this.vmCount=0,ea(e,"__ob__",this),g(e)){if(!n)if(eo)e.__proto__=eN;else for(var r=0,a=ej.length;r<a;r++){var i=ej[r];ea(e,i,eN[i])}t||this.observeArray(e)}else for(var o=Object.keys(e),r=0;r<o.length;r++){var i=o[r];ez(e,i,eF,void 0,t,n)}}return e.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)eW(e[t],!1,this.mock)},e}();function eW(e,t,n){return e&&R(e,"__ob__")&&e.__ob__ instanceof eV?e.__ob__:eB&&(n||!ev())&&(g(e)||S(e))&&Object.isExtensible(e)&&!e.__v_skip&&!e1(e)&&!(e instanceof eC)?new eV(e,t,n):void 0}function ez(e,t,n,r,a,i,o){void 0===o&&(o=!1);var s=new eI,l=Object.getOwnPropertyDescriptor(e,t);if(!l||!1!==l.configurable){var u=l&&l.get,c=l&&l.set;(!u||c)&&(n===eF||2==arguments.length)&&(n=e[t]);var d=a?n&&n.__ob__:eW(n,!1,i);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=u?u.call(e):n;return eI.target&&(s.depend(),d&&(d.dep.depend(),g(t)&&function e(t){for(var n=void 0,r=0,a=t.length;r<a;r++)(n=t[r])&&n.__ob__&&n.__ob__.dep.depend(),g(n)&&e(n)}(t))),e1(t)&&!a?t.value:t},set:function(t){var r=u?u.call(e):n;if(Z(r,t)){if(c)c.call(e,t);else if(u)return;else if(!a&&e1(r)&&!e1(t)){r.value=t;return}else n=t;d=a?t&&t.__ob__:eW(t,!1,i),s.notify()}}}),s}}function eH(e,t,n){if(!eJ(e)){var r=e.__ob__;return g(e)&&k(t)?(e.length=Math.max(e.length,t),e.splice(t,1,n),r&&!r.shallow&&r.mock&&eW(n,!1,!0)):t in e&&!(t in Object.prototype)?e[t]=n:e._isVue||r&&r.vmCount||(r?(ez(r.value,t,n,void 0,r.shallow,r.mock),r.dep.notify()):e[t]=n),n}}function e$(e,t){if(g(e)&&k(t))return void e.splice(t,1);var n=e.__ob__;e._isVue||n&&n.vmCount||eJ(e)||!R(e,t)||(delete e[t],n&&n.dep.notify())}function eK(e){return eG(e,!1),e}function eq(e){return eG(e,!0),ea(e,"__v_isShallow",!0),e}function eG(e,t){eJ(e)||eW(e,t,ev())}function eY(e){return eJ(e)?eY(e.__v_raw):!!(e&&e.__ob__)}function eX(e){return!!(e&&e.__v_isShallow)}function eJ(e){return!!(e&&e.__v_isReadonly)}function eZ(e){return eY(e)||eJ(e)}function eQ(e){return Object.isExtensible(e)&&ea(e,"__v_skip",!0),e}var e0="__v_isRef";function e1(e){return!!(e&&!0===e.__v_isRef)}function e2(e){return e3(e,!1)}function e5(e){return e3(e,!0)}function e3(e,t){if(e1(e))return e;var n={};return ea(n,e0,!0),ea(n,"__v_isShallow",t),ea(n,"dep",ez(n,"value",e,null,t,ev())),n}function e4(e){e.dep&&e.dep.notify()}function e6(e){return e1(e)?e.value:e}function e8(e){if(eY(e))return e;for(var t={},n=Object.keys(e),r=0;r<n.length;r++)e7(t,e,n[r]);return t}function e7(e,t,n){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e=t[n];if(e1(e))return e.value;var r=e&&e.__ob__;return r&&r.dep.depend(),e},set:function(e){var r=t[n];e1(r)&&!e1(e)?r.value=e:t[n]=e}})}function e9(e){var t=new eI,n=e(function(){t.depend()},function(){t.notify()}),r=n.get,a=n.set,i={get value(){return r()},set value(newVal){a(newVal)}};return ea(i,e0,!0),i}function te(e){var t=g(e)?Array(e.length):{};for(var n in e)t[n]=tt(e,n);return t}function tt(e,t,n){var r=e[t];if(e1(r))return r;var a={get value(){var i=e[t];return void 0===i?n:i},set value(newVal){e[t]=newVal}};return ea(a,e0,!0),a}function tn(e){return tr(e,!1)}function tr(e,t){if(!S(e)||eJ(e))return e;var n=t?"__v_rawToShallowReadonly":"__v_rawToReadonly",r=e[n];if(r)return r;var a=Object.create(Object.getPrototypeOf(e));ea(e,n,a),ea(a,"__v_isReadonly",!0),ea(a,"__v_raw",e),e1(e)&&ea(a,e0,!0),(t||eX(e))&&ea(a,"__v_isShallow",!0);for(var i=Object.keys(e),o=0;o<i.length;o++)!function(e,t,n,r){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e=t[n];return r||!S(e)?e:tn(e)},set:function(){}})}(a,e,i[o],t);return a}function ta(e){return tr(e,!0)}function ti(e,t){var n,r,a=w(e);a?(n=e,r=K):(n=e.get,r=e.set);var i=ev()?null:new nM(eA,n,K,{lazy:!0}),o={effect:i,get value(){if(i)return i.dirty&&i.evaluate(),eI.target&&i.depend(),i.value;return n()},set value(newVal){r(newVal)}};return ea(o,e0,!0),ea(o,"__v_isReadonly",a),o}var to="watcher",ts="".concat(to," callback"),tl="".concat(to," getter"),tu="".concat(to," cleanup");function tc(e,t){return tm(e,null,t)}function td(e,t){return tm(e,null,{flush:"post"})}function th(e,t){return tm(e,null,{flush:"sync"})}var tp={};function tf(e,t,n){return tm(e,t,n)}function tm(e,t,n){var r,a,i=void 0===n?m:n,o=i.immediate,s=i.deep,l=i.flush,u=void 0===l?"pre":l;i.onTrack,i.onTrigger;var c=eA,d=function(e,t,n){void 0===n&&(n=null);var r=t7(e,null,n,c,t);return s&&r&&r.__ob__&&r.__ob__.dep.depend(),r},h=!1,p=!1;if(e1(e)?(r=function(){return e.value},h=eX(e)):eY(e)?(r=function(){return e.__ob__.dep.depend(),e},s=!0):g(e)?(p=!0,h=e.some(function(e){return eY(e)||eX(e)}),r=function(){return e.map(function(e){return e1(e)?e.value:eY(e)?(e.__ob__.dep.depend(),nP(e)):w(e)?d(e,tl):void 0})}):r=w(e)?t?function(){return d(e,tl)}:function(){if(!c||!c._isDestroyed)return a&&a(),d(e,to,[y])}:K,t&&s){var f=r;r=function(){return nP(f())}}var y=function(e){a=_.onStop=function(){d(e,tu)}};if(ev())return y=K,t?o&&d(t,ts,[r(),p?[]:void 0,y]):r(),K;var _=new nM(eA,r,K,{lazy:!0});_.noRecurse=!t;var b=p?[]:tp;return _.run=function(){if(_.active)if(t){var e=_.get();(s||h||(p?e.some(function(e,t){return Z(e,b[t])}):Z(e,b)))&&(a&&a(),d(t,ts,[e,b===tp?void 0:b,y]),b=e)}else _.get()},"sync"===u?_.update=_.run:"post"===u?(_.post=!0,_.update=function(){return nQ(_)}):_.update=function(){if(c&&c===eA&&!c._isMounted){var e=c._preWatchers||(c._preWatchers=[]);0>e.indexOf(_)&&e.push(_)}else nQ(_)},t?o?_.run():b=_.get():"post"===u&&c?c.$once("hook:mounted",function(){return _.get()}):_.get(),function(){_.teardown()}}var tg=function(){function e(e){void 0===e&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=u,!e&&u&&(this.index=(u.scopes||(u.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var t=u;try{return u=this,e()}finally{u=t}}},e.prototype.on=function(){u=this},e.prototype.off=function(){u=this.parent},e.prototype.stop=function(e){if(this.active){var t=void 0,n=void 0;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].teardown();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},e}();function tv(e){return new tg(e)}function ty(){return u}function t_(e){u&&u.cleanups.push(e)}function tb(e,t){eA&&(tA(eA)[e]=t)}function tA(e){var t=e._provided,n=e.$parent&&e.$parent._provided;return n===t?e._provided=Object.create(n):t}function tw(e,t,n){void 0===n&&(n=!1);var r=eA;if(r){var a=r.$parent&&r.$parent._provided;if(a&&e in a)return a[e];if(arguments.length>1)return n&&w(t)?t.call(r):t}}var tx=N(function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),r="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:n,capture:r,passive:t}});function tC(e,t){function n(){var e=n.fns;if(!g(e))return t7(e,null,arguments,t,"v-on handler");for(var r=e.slice(),a=0;a<r.length;a++)t7(r[a],null,arguments,t,"v-on handler")}return n.fns=e,n}function tS(e,t,n,r,a,i){var o,s,l,u;for(o in e)s=e[o],l=t[o],u=tx(o),y(s)||(y(l)?(y(s.fns)&&(s=e[o]=tC(s,i)),b(u.once)&&(s=e[o]=a(u.name,s,u.capture)),n(u.name,s,u.capture,u.passive,u.params)):s!==l&&(l.fns=s,e[o]=l));for(o in t)y(e[o])&&r((u=tx(o)).name,t[o],u.capture)}function tk(e,t,n){e instanceof eC&&(e=e.data.hook||(e.data.hook={}));var r,a=e[t];function i(){n.apply(this,arguments),L(r.fns,i)}y(a)?r=tC([i]):_(a.fns)&&b(a.merged)?(r=a).fns.push(i):r=tC([a,i]),r.merged=!0,e[t]=r}function tE(e,t,n,r,a){if(_(t)){if(R(t,n))return e[n]=t[n],a||delete t[n],!0;else if(R(t,r))return e[n]=t[r],a||delete t[r],!0}return!1}function tT(e){return A(e)?[ek(e)]:g(e)?function e(t,n){var r,a,i,o,s=[];for(r=0;r<t.length;r++)!y(a=t[r])&&"boolean"!=typeof a&&(i=s.length-1,o=s[i],g(a)?a.length>0&&(tO((a=e(a,"".concat(n||"","_").concat(r)))[0])&&tO(o)&&(s[i]=ek(o.text+a[0].text),a.shift()),s.push.apply(s,a)):A(a)?tO(o)?s[i]=ek(o.text+a):""!==a&&s.push(ek(a)):tO(a)&&tO(o)?s[i]=ek(o.text+a.text):(b(t._isVList)&&_(a.tag)&&y(a.key)&&_(n)&&(a.key="__vlist".concat(n,"_").concat(r,"__")),s.push(a)));return s}(e):void 0}function tO(e){return _(e)&&_(e.text)&&!1===e.isComment}function tP(e,t){var n,r,a,i,o=null;if(g(e)||"string"==typeof e)for(n=0,o=Array(e.length),r=e.length;n<r;n++)o[n]=t(e[n],n);else if("number"==typeof e)for(n=0,o=Array(e);n<e;n++)o[n]=t(n+1,n);else if(x(e))if(eb&&e[Symbol.iterator]){o=[];for(var s=e[Symbol.iterator](),l=s.next();!l.done;)o.push(t(l.value,o.length)),l=s.next()}else for(n=0,o=Array((a=Object.keys(e)).length),r=a.length;n<r;n++)i=a[n],o[n]=t(e[i],i,n);return _(o)||(o=[]),o._isVList=!0,o}function tI(e,t,n,r){var a,i=this.$scopedSlots[e];i?(n=n||{},r&&(n=H(H({},r),n)),a=i(n)||(w(t)?t():t)):a=this.$slots[e]||(w(t)?t():t);var o=n&&n.slot;return o?this.$createElement("template",{slot:o},a):a}function tM(e){return ri(this.$options,"filters",e,!0)||G}function tL(e,t){return g(e)?-1===e.indexOf(t):e!==t}function tD(e,t,n,r,a){var i=en.keyCodes[t]||n;return a&&r&&!en.keyCodes[t]?tL(a,r):i?tL(i,e):r?V(r)!==t:void 0===e}function tR(e,t,n,r,a){if(n&&x(n)){g(n)&&(n=$(n));var i=void 0,o=function(o){if("class"===o||"style"===o||M(o))i=e;else{var s=e.attrs&&e.attrs.type;i=r||en.mustUseProp(t,s,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=F(o),u=V(o);l in i||u in i||(i[o]=n[o],a&&((e.on||(e.on={}))["update:".concat(o)]=function(e){n[o]=e}))};for(var s in n)o(s)}return e}function tN(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t||tF(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),"__static__".concat(e),!1),r}function tj(e,t,n){return tF(e,"__once__".concat(t).concat(n?"_".concat(n):""),!0),e}function tF(e,t,n){if(g(e))for(var r=0;r<e.length;r++)e[r]&&"string"!=typeof e[r]&&tB(e[r],"".concat(t,"_").concat(r),n);else tB(e,t,n)}function tB(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function tU(e,t){if(t&&S(t)){var n=e.on=e.on?H({},e.on):{};for(var r in t){var a=n[r],i=t[r];n[r]=a?[].concat(a,i):i}}return e}function tV(e,t){for(var n=0;n<t.length;n+=2){var r=t[n];"string"==typeof r&&r&&(e[t[n]]=t[n+1])}return e}function tW(e,t){return"string"==typeof e?t+e:e}function tz(e){e._o=tj,e._n=P,e._s=T,e._l=tP,e._t=tI,e._q=Y,e._i=X,e._m=tN,e._f=tM,e._k=tD,e._b=tR,e._v=ek,e._e=eS,e._u=function e(t,n,r,a){n=n||{$stable:!r};for(var i=0;i<t.length;i++){var o=t[i];g(o)?e(o,n,r):o&&(o.proxy&&(o.fn.proxy=!0),n[o.key]=o.fn)}return a&&(n.$key=a),n},e._g=tU,e._d=tV,e._p=tW}function tH(e,t){if(!e||!e.length)return{};for(var n={},r=0,a=e.length;r<a;r++){var i=e[r],o=i.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,(i.context===t||i.fnContext===t)&&o&&null!=o.slot){var s=o.slot,l=n[s]||(n[s]=[]);"template"===i.tag?l.push.apply(l,i.children||[]):l.push(i)}else(n.default||(n.default=[])).push(i)}for(var u in n)n[u].every(t$)&&delete n[u];return n}function t$(e){return e.isComment&&!e.asyncFactory||" "===e.text}function tK(e){return e.isComment&&e.asyncFactory}function tq(e,t,n,r){var a,i=Object.keys(n).length>0,o=t?!!t.$stable:!i,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&r&&r!==m&&s===r.$key&&!i&&!r.$hasNormal)return r;for(var l in a={},t)t[l]&&"$"!==l[0]&&(a[l]=function(e,t,n,r){var a=function(){var t=eA;ex(e);var n=arguments.length?r.apply(null,arguments):r({}),a=(n=n&&"object"==typeof n&&!g(n)?[n]:tT(n))&&n[0];return ex(t),n&&(!a||1===n.length&&a.isComment&&!tK(a))?void 0:n};return r.proxy&&Object.defineProperty(t,n,{get:a,enumerable:!0,configurable:!0}),a}(e,n,l,t[l]))}else a={};for(var u in n)u in a||(a[u]=function(e,t){return function(){return e[t]}}(n,u));return t&&Object.isExtensible(t)&&(t._normalized=a),ea(a,"$stable",o),ea(a,"$key",s),ea(a,"$hasNormal",i),a}function tG(e){return{get attrs(){if(!e._attrsProxy){var t=e._attrsProxy={};ea(t,"_v_attr_proxy",!0),tY(t,e.$attrs,m,e,"$attrs")}return e._attrsProxy},get listeners(){return e._listenersProxy||tY(e._listenersProxy={},e.$listeners,m,e,"$listeners"),e._listenersProxy},get slots(){var n;return(n=e)._slotsProxy||tX(n._slotsProxy={},n.$scopedSlots),n._slotsProxy},emit:W(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach(function(n){return e7(e,t,n)})}}}function tY(e,t,n,r,a){var i=!1;for(var o in t)o in e?t[o]!==n[o]&&(i=!0):(i=!0,function(e,t,n,r){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return n[r][t]}})}(e,o,r,a));for(var o in e)o in t||(i=!0,delete e[o]);return i}function tX(e,t){for(var n in t)e[n]=t[n];for(var n in e)n in t||delete e[n]}function tJ(){return t0().slots}function tZ(){return t0().attrs}function tQ(){return t0().listeners}function t0(){var e=eA;return e._setupContext||(e._setupContext=tG(e))}function t1(e,t){var n=g(e)?e.reduce(function(e,t){return e[t]={},e},{}):e;for(var r in t){var a=n[r];a?g(a)||w(a)?n[r]={type:a,default:t[r]}:a.default=t[r]:null===a&&(n[r]={default:t[r]})}return n}var t2=null;function t5(e,t){return(e.__esModule||eb&&"Module"===e[Symbol.toStringTag])&&(e=e.default),x(e)?t.extend(e):e}function t3(e){if(g(e))for(var t=0;t<e.length;t++){var n=e[t];if(_(n)&&(_(n.componentOptions)||tK(n)))return n}}function t4(e,t,n,r,a,i){return(g(n)||A(n))&&(a=r,r=n,n=void 0),b(i)&&(a=2),function(e,t,n,r,a){if(_(n)&&_(n.__ob__)||(_(n)&&_(n.is)&&(t=n.is),!t))return eS();if(g(r)&&w(r[0])&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),2===a?r=tT(r):1===a&&(r=function(e){for(var t=0;t<e.length;t++)if(g(e[t]))return Array.prototype.concat.apply([],e);return e}(r)),"string"==typeof t){var i,o,s,l=void 0;s=e.$vnode&&e.$vnode.ns||en.getTagNamespace(t),o=en.isReservedTag(t)?new eC(en.parsePlatformTagName(t),n,r,void 0,void 0,e):(!n||!n.pre)&&_(l=ri(e.$options,"components",t))?n8(l,n,e,r,t):new eC(t,n,r,void 0,void 0,e)}else o=n8(t,n,e,r);return g(o)?o:_(o)?(_(s)&&function e(t,n,r){if(t.ns=n,"foreignObject"===t.tag&&(n=void 0,r=!0),_(t.children))for(var a=0,i=t.children.length;a<i;a++){var o=t.children[a];_(o.tag)&&(y(o.ns)||b(r)&&"svg"!==o.tag)&&e(o,n,r)}}(o,s),_(n)&&(x((i=n).style)&&nP(i.style),x(i.class)&&nP(i.class)),o):eS()}(e,t,n,r,a)}function t6(e,t,n){return t4(eA,e,t,n,2,!0)}function t8(e,t,n){eL();try{if(t)for(var r=t;r=r.$parent;){var a=r.$options.errorCaptured;if(a)for(var i=0;i<a.length;i++)try{if(!1===a[i].call(r,e,t,n))return}catch(e){t9(e,r,"errorCaptured hook")}}t9(e,t,n)}finally{eD()}}function t7(e,t,n,r,a){var i;try{(i=n?e.apply(t,n):e.call(t))&&!i._isVue&&E(i)&&!i._handled&&(i.catch(function(e){return t8(e,r,a+" (Promise/async)")}),i._handled=!0)}catch(e){t8(e,r,a)}return i}function t9(e,t,n){if(en.errorHandler)try{return en.errorHandler.call(null,e,t,n)}catch(t){t!==e&&ne(t,null,"config.errorHandler")}ne(e,t,n)}function ne(e,t,n){if(es&&"undefined"!=typeof console)console.error(e);else throw e}var nt=!1,nn=[],nr=!1;function na(){nr=!1;var e=nn.slice(0);nn.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&e_(Promise)){var ni=Promise.resolve();c=function(){ni.then(na),eh&&setTimeout(K)},nt=!0}else if(!eu&&"undefined"!=typeof MutationObserver&&(e_(MutationObserver)||"[object MutationObserverConstructor]"===MutationObserver.toString())){var no=1,ns=new MutationObserver(na),nl=document.createTextNode(String(no));ns.observe(nl,{characterData:!0}),c=function(){nl.data=String(no=(no+1)%2)},nt=!0}else c="undefined"!=typeof setImmediate&&e_(setImmediate)?function(){setImmediate(na)}:function(){setTimeout(na,0)};function nu(e,t){var n;if(nn.push(function(){if(e)try{e.call(t)}catch(e){t8(e,t,"nextTick")}else n&&n(t)}),nr||(nr=!0,c()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){n=e})}function nc(e){if(void 0===e&&(e="$style"),!eA)return m;var t=eA[e];return t||m}function nd(e){if(es){var t=eA;t&&td(function(){var n=t.$el,r=e(t,t._setupProxy);if(n&&1===n.nodeType){var a=n.style;for(var i in r)a.setProperty("--".concat(i),r[i])}})}}function nh(e){w(e)&&(e={loader:e});var t=e.loader,n=e.loadingComponent,r=e.errorComponent,a=e.delay,i=void 0===a?200:a,o=e.timeout,s=(e.suspensible,e.onError),l=null,u=0,c=function(){var e;return l||(e=l=t().catch(function(e){if(e=e instanceof Error?e:Error(String(e)),s)return new Promise(function(t,n){s(e,function(){return t((u++,l=null,c()))},function(){return n(e)},u+1)});throw e}).then(function(t){return e!==l&&l?l:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),t)}))};return function(){return{component:c(),delay:i,timeout:o,error:r,loading:n}}}function np(e){return function(t,n){if(void 0===n&&(n=eA),n){var r,a,i,o;return r=n,a=e,i=t,void((o=r.$options)[a]=rt(o[a],i))}}}var nf=np("beforeMount"),nm=np("mounted"),ng=np("beforeUpdate"),nv=np("updated"),ny=np("beforeDestroy"),n_=np("destroyed"),nb=np("activated"),nA=np("deactivated"),nw=np("serverPrefetch"),nx=np("renderTracked"),nC=np("renderTriggered"),nS=np("errorCaptured");function nk(e,t){void 0===t&&(t=eA),nS(e,t)}var nE="2.7.16";function nT(e){return e}var nO=new l;function nP(e){return function e(t,n){var r,a,i=g(t);if(!(!i&&!x(t)||t.__v_skip||Object.isFrozen(t))&&!(t instanceof eC)){if(t.__ob__){var o=t.__ob__.dep.id;if(n.has(o))return;n.add(o)}if(i)for(r=t.length;r--;)e(t[r],n);else if(e1(t))e(t.value,n);else for(r=(a=Object.keys(t)).length;r--;)e(t[a[r]],n)}}(e,nO),nO.clear(),e}var nI=0,nM=function(){function e(e,t,n,r,a){var i;void 0===(i=u&&!u._vm?u:e?e._scope:void 0)&&(i=u),i&&i.active&&i.effects.push(this),(this.vm=e)&&a&&(e._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++nI,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new l,this.newDepIds=new l,this.expression="",w(t)?this.getter=t:(this.getter=function(e){if(!ei.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=K)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){eL(this);var e,t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(this.user)t8(e,t,'getter for watcher "'.concat(this.expression,'"'));else throw e}finally{this.deep&&nP(e),eD(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var t=e.id;!this.newDepIds.has(t)&&(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},e.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():nQ(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||x(e)||this.deep){var t=this.value;if(this.value=e,this.user){var n='callback for watcher "'.concat(this.expression,'"');t7(this.cb,this.vm,[e,t],this.vm,n)}else this.cb.call(this.vm,e,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&L(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function nL(e,t){d.$on(e,t)}function nD(e,t){d.$off(e,t)}function nR(e,t){var n=d;return function r(){var a=t.apply(null,arguments);null!==a&&n.$off(e,r)}}function nN(e,t,n){d=e,tS(t,n||{},nL,nD,nR,e),d=void 0}var nj=null;function nF(e){var t=nj;return nj=e,function(){nj=t}}function nB(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function nU(e,t){if(t){if(e._directInactive=!1,nB(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)nU(e.$children[n]);nV(e,"activated")}}function nV(e,t,n,r){void 0===r&&(r=!0),eL();var a=eA,i=u;r&&ex(e);var o=e.$options[t],s="".concat(t," hook");if(o)for(var l=0,c=o.length;l<c;l++)t7(o[l],e,n||null,e,s);e._hasHookEvent&&e.$emit("hook:"+t),r&&(ex(a),i&&i.on()),eD()}var nW=[],nz=[],nH={},n$=!1,nK=!1,nq=0,nG=0,nY=Date.now;if(es&&!eu){var nX=window.performance;nX&&"function"==typeof nX.now&&nY()>document.createEvent("Event").timeStamp&&(nY=function(){return nX.now()})}var nJ=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return -1;return e.id-t.id};function nZ(){for(nG=nY(),nK=!0,nW.sort(nJ),nq=0;nq<nW.length;nq++)(e=nW[nq]).before&&e.before(),nH[e.id]=null,e.run();var e,t=nz.slice(),n=nW.slice();nq=nW.length=nz.length=0,nH={},n$=nK=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,nU(e[t],!0)}(t),function(e){for(var t=e.length;t--;){var n=e[t],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&nV(r,"updated")}}(n),eP(),ey&&en.devtools&&ey.emit("flush")}function nQ(e){var t=e.id;if(null==nH[t]&&(e!==eI.target||!e.noRecurse)){if(nH[t]=!0,nK){for(var n=nW.length-1;n>nq&&nW[n].id>e.id;)n--;nW.splice(n+1,0,e)}else nW.push(e);n$||(n$=!0,nu(nZ))}}function n0(e,t){if(e){for(var n=Object.create(null),r=eb?Reflect.ownKeys(e):Object.keys(e),a=0;a<r.length;a++){var i=r[a];if("__ob__"!==i){var o=e[i].from;if(o in t._provided)n[i]=t._provided[o];else if("default"in e[i]){var s=e[i].default;n[i]=w(s)?s.call(t):s}}}return n}}function n1(e,t,n,r,a){var i,o=this,s=a.options;R(r,"_uid")?(i=Object.create(r))._original=r:(i=r,r=r._original);var l=b(s._compiled),u=!l;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||m,this.injections=n0(s.inject,r),this.slots=function(){return o.$slots||tq(r,e.scopedSlots,o.$slots=tH(n,r)),o.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return tq(r,e.scopedSlots,this.slots())}}),l&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=tq(r,e.scopedSlots,this.$slots)),s._scopeId?this._c=function(e,t,n,a){var o=t4(i,e,t,n,a,u);return o&&!g(o)&&(o.fnScopeId=s._scopeId,o.fnContext=r),o}:this._c=function(e,t,n,r){return t4(i,e,t,n,r,u)}}function n2(e,t,n,r,a){var i=eE(e);return i.fnContext=n,i.fnOptions=r,t.slot&&((i.data||(i.data={})).slot=t.slot),i}function n5(e,t){for(var n in t)e[F(n)]=t[n]}function n3(e){return e.name||e.__name||e._componentTag}tz(n1.prototype);var n4={init:function(e,t){var n,r,a;e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive?n4.prepatch(e,e):(r={_isComponent:!0,_parentVnode:n=e,parent:nj},_(a=n.data.inlineTemplate)&&(r.render=a.render,r.staticRenderFns=a.staticRenderFns),e.componentInstance=new n.componentOptions.Ctor(r)).$mount(t?e.elm:void 0,t)},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,r,a){var i=r.data.scopedSlots,o=e.$scopedSlots,s=!!(i&&!i.$stable||o!==m&&!o.$stable||i&&e.$scopedSlots.$key!==i.$key||!i&&e.$scopedSlots.$key),l=!!(a||e.$options._renderChildren||s),u=e.$vnode;e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=a;var c=r.data.attrs||m;e._attrsProxy&&tY(e._attrsProxy,c,u.data&&u.data.attrs||m,e,"$attrs")&&(l=!0),e.$attrs=c,n=n||m;var d=e.$options._parentListeners;if(e._listenersProxy&&tY(e._listenersProxy,n,d||m,e,"$listeners"),e.$listeners=e.$options._parentListeners=n,nN(e,n,d),t&&e.$options.props){eB=!1;for(var h=e._props,p=e.$options._propKeys||[],f=0;f<p.length;f++){var g=p[f],y=e.$options.props;h[g]=ro(g,y,t,e)}eB=!0,e.$options.propsData=t}l&&(e.$slots=tH(a,r.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,nV(n,"mounted")),e.data.keepAlive&&(t._isMounted?(n._inactive=!1,nz.push(n)):nU(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,n){if(!(n&&(t._directInactive=!0,nB(t)))&&!t._inactive){t._inactive=!0;for(var r=0;r<t.$children.length;r++)e(t.$children[r]);nV(t,"deactivated")}}(t,!0):t.$destroy())}},n6=Object.keys(n4);function n8(e,t,n,r,a){if(!y(e)){var i,o,s,l,u=n.$options._base;if(x(e)&&(e=u.extend(e)),"function"==typeof e){if(y(e.cid)&&void 0===(e=function(e,t){if(b(e.error)&&_(e.errorComp))return e.errorComp;if(_(e.resolved))return e.resolved;var n=t2;if(n&&_(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),b(e.loading)&&_(e.loadingComp))return e.loadingComp;if(n&&!_(e.owners)){var r=e.owners=[n],a=!0,i=null,o=null;n.$on("hook:destroyed",function(){return L(r,n)});var s=function(e){for(var t=0,n=r.length;t<n;t++)r[t].$forceUpdate();e&&(r.length=0,null!==i&&(clearTimeout(i),i=null),null!==o&&(clearTimeout(o),o=null))},l=J(function(n){e.resolved=t5(n,t),a?r.length=0:s(!0)}),u=J(function(t){_(e.errorComp)&&(e.error=!0,s(!0))}),c=e(l,u);return x(c)&&(E(c)?y(e.resolved)&&c.then(l,u):E(c.component)&&(c.component.then(l,u),_(c.error)&&(e.errorComp=t5(c.error,t)),_(c.loading)&&(e.loadingComp=t5(c.loading,t),0===c.delay?e.loading=!0:i=setTimeout(function(){i=null,y(e.resolved)&&y(e.error)&&(e.loading=!0,s(!1))},c.delay||200)),_(c.timeout)&&(o=setTimeout(function(){o=null,y(e.resolved)&&u(null)},c.timeout)))),a=!1,e.loading?e.loadingComp:e.resolved}}(l=e,u)))return i=l,o=t,(s=eS()).asyncFactory=i,s.asyncMeta={data:o,context:n,children:r,tag:a},s;t=t||{},ry(e),_(t.model)&&(c=e.options,d=t,h=c.model&&c.model.prop||"value",p=c.model&&c.model.event||"input",(d.attrs||(d.attrs={}))[h]=d.model.value,A=(f=d.on||(d.on={}))[p],w=d.model.callback,_(A)?(g(A)?-1===A.indexOf(w):A!==w)&&(f[p]=[w].concat(A)):f[p]=w);var c,d,h,p,f,A,w,C=function(e,t,n){var r=t.options.props;if(!y(r)){var a={},i=e.attrs,o=e.props;if(_(i)||_(o))for(var s in r){var l=V(s);tE(a,o,s,l,!0)||tE(a,i,s,l,!1)}return a}}(t,e,0);if(b(e.options.functional))return function(e,t,n,r,a){var i=e.options,o={},s=i.props;if(_(s))for(var l in s)o[l]=ro(l,s,t||m);else _(n.attrs)&&n5(o,n.attrs),_(n.props)&&n5(o,n.props);var u=new n1(n,o,a,r,e),c=i.render.call(null,u._c,u);if(c instanceof eC)return n2(c,n,u.parent,i,u);if(g(c)){for(var d=tT(c)||[],h=Array(d.length),p=0;p<d.length;p++)h[p]=n2(d[p],n,u.parent,i,u);return h}}(e,C,t,n,r);var S=t.on;if(t.on=t.nativeOn,b(e.options.abstract)){var k=t.slot;t={},k&&(t.slot=k)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<n6.length;n++){var r=n6[n],a=t[r],i=n4[r];a===i||a&&a._merged||(t[r]=a?function(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}(i,a):i)}}(t);var T=n3(e.options)||a;return new eC("vue-component-".concat(e.cid).concat(T?"-".concat(T):""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:C,listeners:S,tag:a,children:r},l)}}}var n7=en.optionMergeStrategies;function n9(e,t,n){if(void 0===n&&(n=!0),!t)return e;for(var r,a,i,o=eb?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)"__ob__"!==(r=o[s])&&(a=e[r],i=t[r],n&&R(e,r)?a!==i&&S(a)&&S(i)&&n9(a,i):eH(e,r,i));return e}function re(e,t,n){return n?function(){var r=w(t)?t.call(n,n):t,a=w(e)?e.call(n,n):e;return r?n9(r,a):a}:t?e?function(){return n9(w(t)?t.call(this,this):t,w(e)?e.call(this,this):e)}:t:e}function rt(e,t){var n=t?e?e.concat(t):g(t)?t:[t]:e;return n?function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(n):n}function rn(e,t,n,r){var a=Object.create(e||null);return t?H(a,t):a}n7.data=function(e,t,n){return n?re(e,t,n):t&&"function"!=typeof t?e:re(e,t)},et.forEach(function(e){n7[e]=rt}),ee.forEach(function(e){n7[e+"s"]=rn}),n7.watch=function(e,t,n,r){if(e===ef&&(e=void 0),t===ef&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var a={};for(var i in H(a,e),t){var o=a[i],s=t[i];o&&!g(o)&&(o=[o]),a[i]=o?o.concat(s):g(s)?s:[s]}return a},n7.props=n7.methods=n7.inject=n7.computed=function(e,t,n,r){if(!e)return t;var a=Object.create(null);return H(a,e),t&&H(a,t),a},n7.provide=function(e,t){return e?function(){var n=Object.create(null);return n9(n,w(e)?e.call(this):e),t&&n9(n,w(t)?t.call(this):t,!1),n}:t};var rr=function(e,t){return void 0===t?e:t};function ra(e,t,n){w(t)&&(t=t.options),function(e,t){var n,r,a=e.props;if(a){var i={};if(g(a))for(n=a.length;n--;)"string"==typeof(r=a[n])&&(i[F(r)]={type:null});else if(S(a))for(var o in a)r=a[o],i[F(o)]=S(r)?r:{type:r};e.props=i}}(t,0);var r=t,a=r.inject;if(a){var i=r.inject={};if(g(a))for(var o=0;o<a.length;o++)i[a[o]]={from:a[o]};else if(S(a))for(var s in a){var l=a[s];i[s]=S(l)?H({from:s},l):{from:l}}}var u=t.directives;if(u)for(var c in u){var d=u[c];w(d)&&(u[c]={bind:d,update:d})}if(!t._base&&(t.extends&&(e=ra(e,t.extends,n)),t.mixins))for(var h,p=0,f=t.mixins.length;p<f;p++)e=ra(e,t.mixins[p],n);var m={};for(h in e)y(h);for(h in t)R(e,h)||y(h);function y(r){var a=n7[r]||rr;m[r]=a(e[r],t[r],n,r)}return m}function ri(e,t,n,r){if("string"==typeof n){var a=e[t];if(R(a,n))return a[n];var i=F(n);if(R(a,i))return a[i];var o=B(i);return R(a,o)?a[o]:a[n]||a[i]||a[o]}}function ro(e,t,n,r){var a=t[e],i=!R(n,e),o=n[e],s=ru(Boolean,a.type);if(s>-1){if(i&&!R(a,"default"))o=!1;else if(""===o||o===V(e)){var l=ru(String,a.type);(l<0||s<l)&&(o=!0)}}if(void 0===o){o=function(e,t,n){if(R(t,"default")){var r=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:w(r)&&"Function"!==rl(t.type)?r.call(e):r}}(r,a,e);var u=eB;eB=!0,eW(o),eB=u}return o}var rs=/^\s*function (\w+)/;function rl(e){var t=e&&e.toString().match(rs);return t?t[1]:""}function ru(e,t){if(!g(t))return rl(t)===rl(e)?0:-1;for(var n,r=0,a=t.length;r<a;r++)if(n=t[r],rl(n)===rl(e))return r;return -1}var rc={enumerable:!0,configurable:!0,get:K,set:K};function rd(e,t,n){rc.get=function(){return this[t][n]},rc.set=function(e){this[t][n]=e},Object.defineProperty(e,n,rc)}var rh={lazy:!0};function rp(e,t,n){var r=!ev();w(n)?(rc.get=r?rf(t):rm(n),rc.set=K):(rc.get=n.get?r&&!1!==n.cache?rf(t):rm(n.get):K,rc.set=n.set||K),Object.defineProperty(e,t,rc)}function rf(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),eI.target&&t.depend(),t.value}}function rm(e){return function(){return e.call(this,this)}}function rg(e,t,n,r){return S(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,r)}var rv=0;function ry(e){var t=e.options;if(e.super){var n=ry(e.super);if(n!==e.superOptions){e.superOptions=n;var r=function(e){var t,n=e.options,r=e.sealedOptions;for(var a in n)n[a]!==r[a]&&(t||(t={}),t[a]=n[a]);return t}(e);r&&H(e.extendOptions,r),(t=e.options=ra(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function r_(e){this._init(e)}function rb(e){return e&&(n3(e.Ctor.options)||e.tag)}function rA(e,t){return g(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:"[object RegExp]"===C.call(e)&&e.test(t)}function rw(e,t){var n=e.cache,r=e.keys,a=e._vnode,i=e.$vnode;for(var o in n){var s=n[o];if(s){var l=s.name;l&&!t(l)&&rx(n,o,r,a)}}i.componentOptions.children=void 0}function rx(e,t,n,r){var a=e[t];a&&(!r||a.tag!==r.tag)&&a.componentInstance.$destroy(),e[t]=null,L(n,t)}r_.prototype._init=function(e){this._uid=rv++,this._isVue=!0,this.__v_skip=!0,this._scope=new tg(!0),this._scope.parent=void 0,this._scope._vm=!0,e&&e._isComponent?(t=this,n=e,r=t.$options=Object.create(t.constructor.options),a=n._parentVnode,r.parent=n.parent,r._parentVnode=a,r.propsData=(i=a.componentOptions).propsData,r._parentListeners=i.listeners,r._renderChildren=i.children,r._componentTag=i.tag,n.render&&(r.render=n.render,r.staticRenderFns=n.staticRenderFns)):this.$options=ra(ry(this.constructor),e||{},this),this._renderProxy=this,this._self=this;var t,n,r,a,i,o,s,l,u,c,d,h=this.$options,p=h.parent;if(p&&!h.abstract){for(;p.$options.abstract&&p.$parent;)p=p.$parent;p.$children.push(this)}this.$parent=p,this.$root=p?p.$root:this,this.$children=[],this.$refs={},this._provided=p?p._provided:Object.create(null),this._watcher=null,this._inactive=null,this._directInactive=!1,this._isMounted=!1,this._isDestroyed=!1,this._isBeingDestroyed=!1,this._events=Object.create(null),this._hasHookEvent=!1,(o=this.$options._parentListeners)&&nN(this,o),s=this,s._vnode=null,s._staticTrees=null,l=s.$options,c=(u=s.$vnode=l._parentVnode)&&u.context,s.$slots=tH(l._renderChildren,c),s.$scopedSlots=u?tq(s.$parent,u.data.scopedSlots,s.$slots):m,s._c=function(e,t,n,r){return t4(s,e,t,n,r,!1)},s.$createElement=function(e,t,n,r){return t4(s,e,t,n,r,!0)},ez(s,"$attrs",(d=u&&u.data)&&d.attrs||m,null,!0),ez(s,"$listeners",l._parentListeners||m,null,!0),nV(this,"beforeCreate",void 0,!1);var f=this,y=n0(f.$options.inject,f);y&&(eB=!1,Object.keys(y).forEach(function(e){ez(f,e,y[e])}),eB=!0);var _=this.$options;if(_.props&&function(e,t){var n=e.$options.propsData||{},r=e._props=eq({}),a=e.$options._propKeys=[];for(var i in e.$parent&&(eB=!1),t)!function(i){a.push(i);var o=ro(i,t,n,e);ez(r,i,o,void 0,!0),i in e||rd(e,"_props",i)}(i);eB=!0}(this,_.props),!function(e){var t=e.$options,n=t.setup;if(n){var r=e._setupContext=tG(e);ex(e),eL();var a=t7(n,null,[e._props||eq({}),r],e,"setup");if(eD(),ex(),w(a))t.render=a;else if(x(a))if(e._setupState=a,a.__sfc){var i=e._setupProxy={};for(var o in a)"__sfc"!==o&&e7(i,a,o)}else for(var o in a)er(o)||e7(e,a,o)}}(this),_.methods&&function(e,t){for(var n in e.$options.props,t)e[n]="function"!=typeof t[n]?K:W(t[n],e)}(this,_.methods),_.data)!function(e){var t=e.$options.data;S(t=e._data=w(t)?function(e,t){eL();try{return e.call(t,t)}catch(e){return t8(e,t,"data()"),{}}finally{eD()}}(t,e):t||{})||(t={});var n=Object.keys(t),r=e.$options.props;e.$options.methods;for(var a=n.length;a--;){var i=n[a];r&&R(r,i)||er(i)||rd(e,"_data",i)}var o=eW(t);o&&o.vmCount++}(this);else{var b=eW(this._data={});b&&b.vmCount++}_.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),r=ev();for(var a in t){var i=t[a],o=w(i)?i:i.get;r||(n[a]=new nM(e,o||K,K,rh)),a in e||rp(e,a,i)}}(this,_.computed),_.watch&&_.watch!==ef&&function(e,t){for(var n in t){var r=t[n];if(g(r))for(var a=0;a<r.length;a++)rg(e,n,r[a]);else rg(e,n,r)}}(this,_.watch),function(e){var t=e.$options.provide;if(t){var n=w(t)?t.call(e):t;if(!x(n))return;for(var r=tA(e),a=eb?Reflect.ownKeys(n):Object.keys(n),i=0;i<a.length;i++){var o=a[i];Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(n,o))}}}(this),nV(this,"created"),this.$options.el&&this.$mount(this.$options.el)},(r={}).get=function(){return this._data},(a={}).get=function(){return this._props},Object.defineProperty(r_.prototype,"$data",r),Object.defineProperty(r_.prototype,"$props",a),r_.prototype.$set=eH,r_.prototype.$delete=e$,r_.prototype.$watch=function(e,t,n){if(S(t))return rg(this,e,t,n);(n=n||{}).user=!0;var r=new nM(this,e,t,n);if(n.immediate){var a='callback for immediate watcher "'.concat(r.expression,'"');eL(),t7(t,this,[r.value],this,a),eD()}return function(){r.teardown()}},i=/^hook:/,r_.prototype.$on=function(e,t){if(g(e))for(var n=0,r=e.length;n<r;n++)this.$on(e[n],t);else(this._events[e]||(this._events[e]=[])).push(t),i.test(e)&&(this._hasHookEvent=!0);return this},r_.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},r_.prototype.$off=function(e,t){if(!arguments.length)return this._events=Object.create(null),this;if(g(e)){for(var n,r=0,a=e.length;r<a;r++)this.$off(e[r],t);return this}var i=this._events[e];if(!i)return this;if(!t)return this._events[e]=null,this;for(var o=i.length;o--;)if((n=i[o])===t||n.fn===t){i.splice(o,1);break}return this},r_.prototype.$emit=function(e){var t=this._events[e];if(t){t=t.length>1?z(t):t;for(var n=z(arguments,1),r='event handler for "'.concat(e,'"'),a=0,i=t.length;a<i;a++)t7(t[a],this,n,this,r)}return this},r_.prototype._update=function(e,t){var n=this.$el,r=this._vnode,a=nF(this);this._vnode=e,r?this.$el=this.__patch__(r,e):this.$el=this.__patch__(this.$el,e,t,!1),a(),n&&(n.__vue__=null),this.$el&&(this.$el.__vue__=this);for(var i=this;i&&i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode;)i.$parent.$el=i.$el,i=i.$parent},r_.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},r_.prototype.$destroy=function(){if(!this._isBeingDestroyed){nV(this,"beforeDestroy"),this._isBeingDestroyed=!0;var e=this.$parent;!e||e._isBeingDestroyed||this.$options.abstract||L(e.$children,this),this._scope.stop(),this._data.__ob__&&this._data.__ob__.vmCount--,this._isDestroyed=!0,this.__patch__(this._vnode,null),nV(this,"destroyed"),this.$off(),this.$el&&(this.$el.__vue__=null),this.$vnode&&(this.$vnode.parent=null)}},tz(r_.prototype),r_.prototype.$nextTick=function(e){return nu(e,this)},r_.prototype._render=function(){var e,t=this.$options,n=t.render,r=t._parentVnode;r&&this._isMounted&&(this.$scopedSlots=tq(this.$parent,r.data.scopedSlots,this.$slots,this.$scopedSlots),this._slotsProxy&&tX(this._slotsProxy,this.$scopedSlots)),this.$vnode=r;var a=eA,i=t2;try{ex(this),t2=this,e=n.call(this._renderProxy,this.$createElement)}catch(t){t8(t,this,"render"),e=this._vnode}finally{t2=i,ex(a)}return g(e)&&1===e.length&&(e=e[0]),e instanceof eC||(e=eS()),e.parent=r,e};var rC=[String,RegExp,Array],rS={};rS.get=function(){return en},Object.defineProperty(r_,"config",rS),r_.util={warn:K,extend:H,mergeOptions:ra,defineReactive:ez},r_.set=eH,r_.delete=e$,r_.nextTick=nu,r_.observable=function(e){return eW(e),e},r_.options=Object.create(null),ee.forEach(function(e){r_.options[e+"s"]=Object.create(null)}),r_.options._base=r_,H(r_.options.components,{KeepAlive:{name:"keep-alive",abstract:!0,props:{include:rC,exclude:rC,max:[String,Number]},methods:{cacheVNode:function(){var e=this.cache,t=this.keys,n=this.vnodeToCache,r=this.keyToCache;if(n){var a=n.tag,i=n.componentInstance,o=n.componentOptions;e[r]={name:rb(o),tag:a,componentInstance:i},t.push(r),this.max&&t.length>parseInt(this.max)&&rx(e,t[0],t,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)rx(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",function(t){rw(e,function(e){return rA(t,e)})}),this.$watch("exclude",function(t){rw(e,function(e){return!rA(t,e)})})},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=t3(e),n=t&&t.componentOptions;if(n){var r=rb(n),a=this.include,i=this.exclude;if(a&&(!r||!rA(a,r))||i&&r&&rA(i,r))return t;var o=this.cache,s=this.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):t.key;o[l]?(t.componentInstance=o[l].componentInstance,L(s,l),s.push(l)):(this.vnodeToCache=t,this.keyToCache=l),t.data.keepAlive=!0}return t||e&&e[0]}}}),r_.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=z(arguments,1);return n.unshift(this),w(e.install)?e.install.apply(e,n):w(e)&&e.apply(null,n),t.push(e),this},r_.mixin=function(e){return this.options=ra(this.options,e),this},r_.cid=0,o=1,r_.extend=function(e){e=e||{};var t=this,n=t.cid,r=e._Ctor||(e._Ctor={});if(r[n])return r[n];var a=n3(e)||n3(t.options),i=function(e){this._init(e)};return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.cid=o++,i.options=ra(t.options,e),i.super=t,i.options.props&&function(e){var t=e.options.props;for(var n in t)rd(e.prototype,"_props",n)}(i),i.options.computed&&function(e){var t=e.options.computed;for(var n in t)rp(e.prototype,n,t[n])}(i),i.extend=t.extend,i.mixin=t.mixin,i.use=t.use,ee.forEach(function(e){i[e]=t[e]}),a&&(i.options.components[a]=i),i.superOptions=t.options,i.extendOptions=e,i.sealedOptions=H({},i.options),r[n]=i,i},ee.forEach(function(e){r_[e]=function(t,n){return n?("component"===e&&S(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&w(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}),Object.defineProperty(r_.prototype,"$isServer",{get:ev}),Object.defineProperty(r_.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(r_,"FunctionalRenderContext",{value:n1}),r_.version=nE;var rk=I("style,class"),rE=I("input,textarea,option,select,progress"),rT=I("contenteditable,draggable,spellcheck"),rO=I("events,caret,typing,plaintext-only"),rP=I("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),rI="http://www.w3.org/1999/xlink",rM=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},rL=function(e){return rM(e)?e.slice(6,e.length):""},rD=function(e){return null==e||!1===e};function rR(e,t){return{staticClass:rN(e.staticClass,t.staticClass),class:_(e.class)?[e.class,t.class]:t.class}}function rN(e,t){return e?t?e+" "+t:e:t||""}function rj(e){return Array.isArray(e)?function(e){for(var t,n="",r=0,a=e.length;r<a;r++)_(t=rj(e[r]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):x(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var rF={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},rB=I("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),rU=I("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),rV=function(e){return rB(e)||rU(e)},rW=Object.create(null),rz=I("text,number,password,search,email,tel,url"),rH=Object.freeze({__proto__:null,createElement:function(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(e,t){return document.createElementNS(rF[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}});function r$(e,t){var n=e.data.ref;if(_(n)){var r=e.context,a=e.componentInstance||e.elm,i=t?null:a,o=t?void 0:a;if(w(n))return void t7(n,r,[i],r,"template ref function");var s=e.data.refInFor,l="string"==typeof n||"number"==typeof n,u=e1(n),c=r.$refs;if(l||u){if(s){var d=l?c[n]:n.value;t?g(d)&&L(d,a):g(d)?d.includes(a)||d.push(a):l?(c[n]=[a],rK(r,n,c[n])):n.value=[a]}else if(l){if(t&&c[n]!==a)return;c[n]=o,rK(r,n,i)}else if(u){if(t&&n.value!==a)return;n.value=i}}}}function rK(e,t,n){var r=e._setupState;r&&R(r,t)&&(e1(r[t])?r[t].value=n:r[t]=n)}var rq=new eC("",{},[]),rG=["create","activate","update","remove","destroy"];function rY(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&_(e.data)===_(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,r=_(n=e.data)&&_(n=n.attrs)&&n.type,a=_(n=t.data)&&_(n=n.attrs)&&n.type;return r===a||rz(r)&&rz(a)}(e,t)||b(e.isAsyncPlaceholder)&&y(t.asyncFactory.error))}function rX(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,r,a,i=e===rq,o=t===rq,s=rZ(e.data.directives,e.context),l=rZ(t.data.directives,t.context),u=[],c=[];for(n in l)r=s[n],a=l[n],r?(a.oldValue=r.value,a.oldArg=r.arg,rQ(a,"update",t,e),a.def&&a.def.componentUpdated&&c.push(a)):(rQ(a,"bind",t,e),a.def&&a.def.inserted&&u.push(a));if(u.length){var d=function(){for(var n=0;n<u.length;n++)rQ(u[n],"inserted",t,e)};i?tk(t,"insert",d):d()}if(c.length&&tk(t,"postpatch",function(){for(var n=0;n<c.length;n++)rQ(c[n],"componentUpdated",t,e)}),!i)for(n in s)l[n]||rQ(s[n],"unbind",e,e,o)}(e,t)}var rJ=Object.create(null);function rZ(e,t){var n,r,a,i=Object.create(null);if(!e)return i;for(r=0;r<e.length;r++){if((a=e[r]).modifiers||(a.modifiers=rJ),i[(n=a).rawName||"".concat(n.name,".").concat(Object.keys(n.modifiers||{}).join("."))]=a,t._setupState&&t._setupState.__sfc){var o=a.def||ri(t,"_setupState","v-"+a.name);"function"==typeof o?a.def={bind:o,update:o}:a.def=o}a.def=a.def||ri(t.$options,"directives",a.name,!0)}return i}function rQ(e,t,n,r,a){var i=e.def&&e.def[t];if(i)try{i(n.elm,e,n,r,a)}catch(r){t8(r,n.context,"directive ".concat(e.name," ").concat(t," hook"))}}var r0=[{create:function(e,t){r$(t)},update:function(e,t){e.data.ref!==t.data.ref&&(r$(e,!0),r$(t))},destroy:function(e){r$(e,!0)}},{create:rX,update:rX,destroy:function(e){rX(e,rq)}}];function r1(e,t){var n,r,a=t.componentOptions;if((!_(a)||!1!==a.Ctor.options.inheritAttrs)&&!(y(e.data.attrs)&&y(t.data.attrs))){var i=t.elm,o=e.data.attrs||{},s=t.data.attrs||{};for(n in(_(s.__ob__)||b(s._v_attr_proxy))&&(s=t.data.attrs=H({},s)),s)r=s[n],o[n]!==r&&r2(i,n,r,t.data.pre);for(n in(eu||ed)&&s.value!==o.value&&r2(i,"value",s.value),o)y(s[n])&&(rM(n)?i.removeAttributeNS(rI,rL(n)):rT(n)||i.removeAttribute(n))}}function r2(e,t,n,r){if(r||e.tagName.indexOf("-")>-1)r5(e,t,n);else if(rP(t))rD(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n));else if(rT(t)){var a;e.setAttribute(t,rD(a=n)||"false"===a?"false":"contenteditable"===t&&rO(a)?a:"true")}else rM(t)?rD(n)?e.removeAttributeNS(rI,rL(t)):e.setAttributeNS(rI,t,n):r5(e,t,n)}function r5(e,t,n){if(rD(n))e.removeAttribute(t);else{if(eu&&!ec&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",r)};e.addEventListener("input",r),e.__ieph=!0}e.setAttribute(t,n)}}function r3(e,t){var n=t.elm,r=t.data,a=e.data;if(!(y(r.staticClass)&&y(r.class)&&(y(a)||y(a.staticClass)&&y(a.class)))){var i=function(e){for(var t,n,r=e.data,a=e,i=e;_(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(r=rR(i.data,r));for(;_(a=a.parent);)a&&a.data&&(r=rR(r,a.data));return t=r.staticClass,n=r.class,_(t)||_(n)?rN(t,rj(n)):""}(t),o=n._transitionClasses;_(o)&&(i=rN(i,rj(o))),i!==n._prevClass&&(n.setAttribute("class",i),n._prevClass=i)}}function r4(e,t,n){var r=h;return function a(){var i=t.apply(null,arguments);null!==i&&r7(e,a,n,r)}}var r6=nt&&!(ep&&53>=Number(ep[1]));function r8(e,t,n,r){if(r6){var a=nG,i=t;t=i._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=a||e.timeStamp<=0||e.target.ownerDocument!==document)return i.apply(this,arguments)}}h.addEventListener(e,t,em?{capture:n,passive:r}:n)}function r7(e,t,n,r){(r||h).removeEventListener(e,t._wrapper||t,n)}function r9(e,t){if(!(y(e.data.on)&&y(t.data.on))){var n=t.data.on||{},r=e.data.on||{};h=t.elm||e.elm;if(_(n.__r)){var a=eu?"change":"input";n[a]=[].concat(n.__r,n[a]||[]),delete n.__r}_(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c),tS(n,r,r8,r7,r4,t.context),h=void 0}}function ae(e,t){if(!(y(e.data.domProps)&&y(t.data.domProps))){var n,r,a=t.elm,i=e.data.domProps||{},o=t.data.domProps||{};for(n in(_(o.__ob__)||b(o._v_attr_proxy))&&(o=t.data.domProps=H({},o)),i)n in o||(a[n]="");for(n in o){if(r=o[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),r===i[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=r;var s,l,u=y(r)?"":String(r);s=a,l=u,!s.composing&&("OPTION"===s.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(s,l)||function(e,t){var n=e.value,r=e._vModifiers;if(_(r)){if(r.number)return P(n)!==P(t);if(r.trim)return n.trim()!==t.trim()}return n!==t}(s,l))&&(a.value=u)}else if("innerHTML"===n&&rU(a.tagName)&&y(a.innerHTML)){(p=p||document.createElement("div")).innerHTML="<svg>".concat(r,"</svg>");for(var c=p.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}else if(r!==i[n])try{a[n]=r}catch(e){}}}}var at=N(function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var r=e.split(n);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t});function an(e){var t=ar(e.style);return e.staticStyle?H(e.staticStyle,t):t}function ar(e){return Array.isArray(e)?$(e):"string"==typeof e?at(e):e}var aa=/^--/,ai=/\s*!important$/,ao=function(e,t,n){if(aa.test(t))e.style.setProperty(t,n);else if(ai.test(n))e.style.setProperty(V(t),n.replace(ai,""),"important");else{var r=al(t);if(Array.isArray(n))for(var a=0,i=n.length;a<i;a++)e.style[r]=n[a];else e.style[r]=n}},as=["Webkit","Moz","ms"],al=N(function(e){if(f=f||document.createElement("div").style,"filter"!==(e=F(e))&&e in f)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<as.length;n++){var r=as[n]+t;if(r in f)return r}});function au(e,t){var n,r,a=t.data,i=e.data;if(!(y(a.staticStyle)&&y(a.style)&&y(i.staticStyle)&&y(i.style))){var o=t.elm,s=i.staticStyle,l=i.normalizedStyle||i.style||{},u=s||l,c=ar(t.data.style)||{};t.data.normalizedStyle=_(c.__ob__)?H({},c):c;var d=function(e,t){var n,r={};if(t)for(var a=e;a.componentInstance;)(a=a.componentInstance._vnode)&&a.data&&(n=an(a.data))&&H(r,n);(n=an(e.data))&&H(r,n);for(var i=e;i=i.parent;)i.data&&(n=an(i.data))&&H(r,n);return r}(t,!0);for(r in u)y(d[r])&&ao(o,r,"");for(r in d)n=d[r],ao(o,r,null==n?"":n)}}var ac=/\s+/;function ad(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(ac).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" ".concat(e.getAttribute("class")||""," ");0>n.indexOf(" "+t+" ")&&e.setAttribute("class",(n+t).trim())}}function ah(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(ac).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" ".concat(e.getAttribute("class")||""," "),r=" "+t+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function ap(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&H(t,af(e.name||"v")),H(t,e),t}else if("string"==typeof e)return af(e)}}var af=N(function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}}),am=es&&!ec,ag="transition",av="animation",ay="transition",a_="transitionend",ab="animation",aA="animationend";am&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ay="WebkitTransition",a_="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ab="WebkitAnimation",aA="webkitAnimationEnd"));var aw=es?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function ax(e){aw(function(){aw(e)})}function aC(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);0>n.indexOf(t)&&(n.push(t),ad(e,t))}function aS(e,t){e._transitionClasses&&L(e._transitionClasses,t),ah(e,t)}function ak(e,t,n){var r=aT(e,t),a=r.type,i=r.timeout,o=r.propCount;if(!a)return n();var s=a===ag?a_:aA,l=0,u=function(){e.removeEventListener(s,c),n()},c=function(t){t.target===e&&++l>=o&&u()};setTimeout(function(){l<o&&u()},i+1),e.addEventListener(s,c)}var aE=/\b(transform|all)(,|$)/;function aT(e,t){var n,r=window.getComputedStyle(e),a=(r[ay+"Delay"]||"").split(", "),i=(r[ay+"Duration"]||"").split(", "),o=aO(a,i),s=(r[ab+"Delay"]||"").split(", "),l=(r[ab+"Duration"]||"").split(", "),u=aO(s,l),c=0,d=0;t===ag?o>0&&(n=ag,c=o,d=i.length):t===av?u>0&&(n=av,c=u,d=l.length):d=(n=(c=Math.max(o,u))>0?o>u?ag:av:null)?n===ag?i.length:l.length:0;var h=n===ag&&aE.test(r[ay+"Property"]);return{type:n,timeout:c,propCount:d,hasTransform:h}}function aO(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return aP(t)+aP(e[n])}))}function aP(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function aI(e,t){var n=e.elm;_(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=ap(e.data.transition);if(!(y(r)||_(n._enterCb)||1!==n.nodeType)){for(var a=r.css,i=r.type,o=r.enterClass,s=r.enterToClass,l=r.enterActiveClass,u=r.appearClass,c=r.appearToClass,d=r.appearActiveClass,h=r.beforeEnter,p=r.enter,f=r.afterEnter,m=r.enterCancelled,g=r.beforeAppear,b=r.appear,A=r.afterAppear,C=r.appearCancelled,S=r.duration,k=nj,E=nj.$vnode;E&&E.parent;)k=E.context,E=E.parent;var T=!k._isMounted||!e.isRootInsert;if(!T||b||""===b){var O=T&&u?u:o,I=T&&d?d:l,M=T&&c?c:s,L=T&&g||h,D=T&&w(b)?b:p,R=T&&A||f,N=T&&C||m,j=P(x(S)?S.enter:S),F=!1!==a&&!ec,B=aD(D),U=n._enterCb=J(function(){F&&(aS(n,M),aS(n,I)),U.cancelled?(F&&aS(n,O),N&&N(n)):R&&R(n),n._enterCb=null});e.data.show||tk(e,"insert",function(){var t=n.parentNode,r=t&&t._pending&&t._pending[e.key];r&&r.tag===e.tag&&r.elm._leaveCb&&r.elm._leaveCb(),D&&D(n,U)}),L&&L(n),F&&(aC(n,O),aC(n,I),ax(function(){aS(n,O),!U.cancelled&&(aC(n,M),B||(aL(j)?setTimeout(U,j):ak(n,i,U)))})),e.data.show&&(t&&t(),D&&D(n,U)),F||B||U()}}}function aM(e,t){var n=e.elm;_(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=ap(e.data.transition);if(y(r)||1!==n.nodeType)return t();if(!_(n._leaveCb)){var a=r.css,i=r.type,o=r.leaveClass,s=r.leaveToClass,l=r.leaveActiveClass,u=r.beforeLeave,c=r.leave,d=r.afterLeave,h=r.leaveCancelled,p=r.delayLeave,f=r.duration,m=!1!==a&&!ec,g=aD(c),b=P(x(f)?f.leave:f),A=n._leaveCb=J(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),m&&(aS(n,s),aS(n,l)),A.cancelled?(m&&aS(n,o),h&&h(n)):(t(),d&&d(n)),n._leaveCb=null});p?p(w):w()}function w(){!A.cancelled&&(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),u&&u(n),m&&(aC(n,o),aC(n,l),ax(function(){aS(n,o),!A.cancelled&&(aC(n,s),g||(aL(b)?setTimeout(A,b):ak(n,i,A)))})),c&&c(n,A),m||g||A())}}function aL(e){return"number"==typeof e&&!isNaN(e)}function aD(e){if(y(e))return!1;var t=e.fns;return _(t)?aD(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function aR(e,t){!0!==t.data.show&&aI(t)}var aN=function(e){var t,n,r={},a=e.modules,i=e.nodeOps;for(t=0;t<rG.length;++t)for(n=0,r[rG[t]]=[];n<a.length;++n)_(a[n][rG[t]])&&r[rG[t]].push(a[n][rG[t]]);function o(e){var t=i.parentNode(e);_(t)&&i.removeChild(t,e)}function s(e,t,n,a,o,s,d){if(_(e.elm)&&_(s)&&(e=s[d]=eE(e)),e.isRootInsert=!o,!function(e,t,n,a){var i=e.data;if(_(i)){var o=_(e.componentInstance)&&i.keepAlive;if(_(i=i.hook)&&_(i=i.init)&&i(e,!1),_(e.componentInstance))return l(e,t),u(n,e.elm,a),b(o)&&function(e,t,n,a){for(var i,o=e;o.componentInstance;)if(_(i=(o=o.componentInstance._vnode).data)&&_(i=i.transition)){for(i=0;i<r.activate.length;++i)r.activate[i](rq,o);t.push(o);break}u(n,e.elm,a)}(e,t,n,a),!0}}(e,t,n,a)){var f=e.data,m=e.children,g=e.tag;_(g)?(e.elm=e.ns?i.createElementNS(e.ns,g):i.createElement(g,e),p(e),c(e,m,t),_(f)&&h(e,t)):b(e.isComment)?e.elm=i.createComment(e.text):e.elm=i.createTextNode(e.text),u(n,e.elm,a)}}function l(e,t){_(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,d(e)?(h(e,t),p(e)):(r$(e),t.push(e))}function u(e,t,n){_(e)&&(_(n)?i.parentNode(n)===e&&i.insertBefore(e,t,n):i.appendChild(e,t))}function c(e,t,n){if(g(t))for(var r=0;r<t.length;++r)s(t[r],n,e.elm,null,!0,t,r);else A(e.text)&&i.appendChild(e.elm,i.createTextNode(String(e.text)))}function d(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return _(e.tag)}function h(e,n){for(var a=0;a<r.create.length;++a)r.create[a](rq,e);_(t=e.data.hook)&&(_(t.create)&&t.create(rq,e),_(t.insert)&&n.push(e))}function p(e){var t;if(_(t=e.fnScopeId))i.setStyleScope(e.elm,t);else for(var n=e;n;)_(t=n.context)&&_(t=t.$options._scopeId)&&i.setStyleScope(e.elm,t),n=n.parent;_(t=nj)&&t!==e.context&&t!==e.fnContext&&_(t=t.$options._scopeId)&&i.setStyleScope(e.elm,t)}function f(e,t,n,r,a,i){for(;r<=a;++r)s(n[r],i,e,t,!1,n,r)}function m(e){var t,n,a=e.data;if(_(a))for(_(t=a.hook)&&_(t=t.destroy)&&t(e),t=0;t<r.destroy.length;++t)r.destroy[t](e);if(_(t=e.children))for(n=0;n<e.children.length;++n)m(e.children[n])}function w(e,t,n){for(;t<=n;++t){var a=e[t];_(a)&&(_(a.tag)?(function e(t,n){if(_(n)||_(t.data)){var a,i=r.remove.length+1;for(_(n)?n.listeners+=i:n=function(e,t){function n(){0==--n.listeners&&o(e)}return n.listeners=t,n}(t.elm,i),_(a=t.componentInstance)&&_(a=a._vnode)&&_(a.data)&&e(a,n),a=0;a<r.remove.length;++a)r.remove[a](t,n);_(a=t.data.hook)&&_(a=a.remove)?a(t,n):n()}else o(t.elm)}(a),m(a)):o(a.elm))}}function x(e,t,n){if(b(n)&&_(e.parent))e.parent.data.pendingInsert=t;else for(var r=0;r<t.length;++r)t[r].data.hook.insert(t[r])}var C=I("attrs,class,staticClass,staticStyle,key");function S(e,t,n,r){var a,i=t.tag,o=t.data,s=t.children;if(r=r||o&&o.pre,t.elm=e,b(t.isComment)&&_(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(_(o)&&(_(a=o.hook)&&_(a=a.init)&&a(t,!0),_(a=t.componentInstance)))return l(t,n),!0;if(_(i)){if(_(s))if(e.hasChildNodes())if(_(a=o)&&_(a=a.domProps)&&_(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var u=!0,d=e.firstChild,p=0;p<s.length;p++){if(!d||!S(d,s[p],n,r)){u=!1;break}d=d.nextSibling}if(!u||d)return!1}else c(t,s,n);if(_(o)){var f=!1;for(var m in o)if(!C(m)){f=!0,h(t,n);break}!f&&o.class&&nP(o.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,a){if(y(t)){_(e)&&m(e);return}var o=!1,l=[];if(y(e))o=!0,s(t,l);else{var u,c=_(e.nodeType);if(!c&&rY(e,t))!function e(t,n,a,o,l,u){if(t!==n){_(n.elm)&&_(o)&&(n=o[l]=eE(n));var c,h=n.elm=t.elm;if(b(t.isAsyncPlaceholder))return void(_(n.asyncFactory.resolved)?S(t.elm,n,a):n.isAsyncPlaceholder=!0);if(b(n.isStatic)&&b(t.isStatic)&&n.key===t.key&&(b(n.isCloned)||b(n.isOnce))){n.componentInstance=t.componentInstance;return}var p=n.data;_(p)&&_(c=p.hook)&&_(c=c.prepatch)&&c(t,n);var m=t.children,g=n.children;if(_(p)&&d(n)){for(c=0;c<r.update.length;++c)r.update[c](t,n);_(c=p.hook)&&_(c=c.update)&&c(t,n)}y(n.text)?_(m)&&_(g)?m!==g&&function(t,n,r,a,o){for(var l,u,c,d=0,h=0,p=n.length-1,m=n[0],g=n[p],b=r.length-1,A=r[0],x=r[b],C=!o;d<=p&&h<=b;)y(m)?m=n[++d]:y(g)?g=n[--p]:rY(m,A)?(e(m,A,a,r,h),m=n[++d],A=r[++h]):rY(g,x)?(e(g,x,a,r,b),g=n[--p],x=r[--b]):rY(m,x)?(e(m,x,a,r,b),C&&i.insertBefore(t,m.elm,i.nextSibling(g.elm)),m=n[++d],x=r[--b]):(rY(g,A)?(e(g,A,a,r,h),C&&i.insertBefore(t,g.elm,m.elm),g=n[--p]):(y(l)&&(l=function(e,t,n){var r,a,i={};for(r=t;r<=n;++r)_(a=e[r].key)&&(i[a]=r);return i}(n,d,p)),y(u=_(A.key)?l[A.key]:function(e,t,n,r){for(var a=n;a<r;a++){var i=t[a];if(_(i)&&rY(e,i))return a}}(A,n,d,p))?s(A,a,t,m.elm,!1,r,h):rY(c=n[u],A)?(e(c,A,a,r,h),n[u]=void 0,C&&i.insertBefore(t,c.elm,m.elm)):s(A,a,t,m.elm,!1,r,h)),A=r[++h]);d>p?f(t,y(r[b+1])?null:r[b+1].elm,r,h,b,a):h>b&&w(n,d,p)}(h,m,g,a,u):_(g)?(_(t.text)&&i.setTextContent(h,""),f(h,null,g,0,g.length-1,a)):_(m)?w(m,0,m.length-1):_(t.text)&&i.setTextContent(h,""):t.text!==n.text&&i.setTextContent(h,n.text),_(p)&&_(c=p.hook)&&_(c=c.postpatch)&&c(t,n)}}(e,t,l,null,null,a);else{if(c){if((1===e.nodeType&&e.hasAttribute(Q)&&(e.removeAttribute(Q),n=!0),b(n))&&S(e,t,l))return x(t,l,!0),e;u=e,e=new eC(i.tagName(u).toLowerCase(),{},[],void 0,u)}var h=e.elm,p=i.parentNode(h);if(s(t,l,h._leaveCb?null:p,i.nextSibling(h)),_(t.parent))for(var g=t.parent,A=d(t);g;){for(var C=0;C<r.destroy.length;++C)r.destroy[C](g);if(g.elm=t.elm,A){for(var k=0;k<r.create.length;++k)r.create[k](rq,g);var E=g.data.hook.insert;if(E.merged)for(var T=E.fns.slice(1),O=0;O<T.length;O++)T[O]()}else r$(g);g=g.parent}_(p)?w([e],0,0):_(e.tag)&&m(e)}}return x(t,l,o),t.elm}}({nodeOps:rH,modules:[{create:r1,update:r1},{create:r3,update:r3},{create:r9,update:r9,destroy:function(e){return r9(e,rq)}},{create:ae,update:ae},{create:au,update:au},es?{create:aR,activate:aR,remove:function(e,t){!0!==e.data.show?aM(e,t):t()}}:{}].concat(r0)});ec&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&aH(e,"input")});var aj={inserted:function(e,t,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?tk(n,"postpatch",function(){aj.componentUpdated(e,t,n)}):aF(e,t,n.context),e._vOptions=[].map.call(e.options,aV)):("textarea"===n.tag||rz(e.type))&&(e._vModifiers=t.modifiers,!t.modifiers.lazy&&(e.addEventListener("compositionstart",aW),e.addEventListener("compositionend",az),e.addEventListener("change",az),ec&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){aF(e,t,n.context);var r=e._vOptions,a=e._vOptions=[].map.call(e.options,aV);a.some(function(e,t){return!Y(e,r[t])})&&(e.multiple?t.value.some(function(e){return aU(e,a)}):t.value!==t.oldValue&&aU(t.value,a))&&aH(e,"change")}}};function aF(e,t,n){aB(e,t,n),(eu||ed)&&setTimeout(function(){aB(e,t,n)},0)}function aB(e,t,n){var r,a,i=t.value,o=e.multiple;if(!o||Array.isArray(i)){for(var s=0,l=e.options.length;s<l;s++)if(a=e.options[s],o)r=X(i,aV(a))>-1,a.selected!==r&&(a.selected=r);else if(Y(aV(a),i)){e.selectedIndex!==s&&(e.selectedIndex=s);return}o||(e.selectedIndex=-1)}}function aU(e,t){return t.every(function(t){return!Y(t,e)})}function aV(e){return"_value"in e?e._value:e.value}function aW(e){e.target.composing=!0}function az(e){e.target.composing&&(e.target.composing=!1,aH(e.target,"input"))}function aH(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function a$(e){return!e.componentInstance||e.data&&e.data.transition?e:a$(e.componentInstance._vnode)}var aK={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function aq(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?aq(t3(t.children)):e}function aG(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var a=n._parentListeners;for(var r in a)t[F(r)]=a[r];return t}function aY(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var aX=function(e){return e.tag||tK(e)},aJ=function(e){return"show"===e.name},aZ=H({tag:String,moveClass:String},aK);function aQ(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function a0(e){e.data.newPos=e.elm.getBoundingClientRect()}function a1(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,a=t.top-n.top;if(r||a){e.data.moved=!0;var i=e.elm.style;i.transform=i.WebkitTransform="translate(".concat(r,"px,").concat(a,"px)"),i.transitionDuration="0s"}}delete aZ.mode,r_.config.mustUseProp=function(e,t,n){return"value"===n&&rE(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},r_.config.isReservedTag=rV,r_.config.isReservedAttr=rk,r_.config.getTagNamespace=function(e){return rU(e)?"svg":"math"===e?"math":void 0},r_.config.isUnknownElement=function(e){if(!es)return!0;if(rV(e))return!1;if(null!=rW[e=e.toLowerCase()])return rW[e];var t=document.createElement(e);return e.indexOf("-")>-1?rW[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:rW[e]=/HTMLUnknownElement/.test(t.toString())},H(r_.options.directives,{model:aj,show:{bind:function(e,t,n){var r=t.value,a=(n=a$(n)).data&&n.data.transition,i=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;r&&a?(n.data.show=!0,aI(n,function(){e.style.display=i})):e.style.display=r?i:"none"},update:function(e,t,n){var r=t.value;!r!=!t.oldValue&&((n=a$(n)).data&&n.data.transition?(n.data.show=!0,r?aI(n,function(){e.style.display=e.__vOriginalDisplay}):aM(n,function(){e.style.display="none"})):e.style.display=r?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,r,a){a||(e.style.display=e.__vOriginalDisplay)}}}),H(r_.options.components,{Transition:{name:"transition",props:aK,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(aX)).length){var r=this.mode,a=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return a;var i=aq(a);if(!i)return a;if(this._leaving)return aY(e,a);var o="__transition-".concat(this._uid,"-");i.key=null==i.key?i.isComment?o+"comment":o+i.tag:A(i.key)?0===String(i.key).indexOf(o)?i.key:o+i.key:i.key;var s=(i.data||(i.data={})).transition=aG(this),l=this._vnode,u=aq(l);if(i.data.directives&&i.data.directives.some(aJ)&&(i.data.show=!0),u&&u.data&&(u.key!==i.key||u.tag!==i.tag)&&!tK(u)&&!(u.componentInstance&&u.componentInstance._vnode.isComment)){var c=u.data.transition=H({},s);if("out-in"===r)return this._leaving=!0,tk(c,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),aY(e,a);if("in-out"===r){if(tK(i))return l;var d,h=function(){d()};tk(s,"afterEnter",h),tk(s,"enterCancelled",h),tk(c,"delayLeave",function(e){d=e})}}return a}}},TransitionGroup:{props:aZ,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var a=nF(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,a(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,a=this.$slots.default||[],i=this.children=[],o=aG(this),s=0;s<a.length;s++){var l=a[s];l.tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(i.push(l),n[l.key]=l,(l.data||(l.data={})).transition=o)}if(r){for(var u=[],c=[],s=0;s<r.length;s++){var l=r[s];l.data.transition=o,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?u.push(l):c.push(l)}this.kept=e(t,null,u),this.removed=c}return e(t,null,i)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(aQ),e.forEach(a0),e.forEach(a1),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var n=e.elm,r=n.style;aC(n,t),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(a_,n._moveCb=function e(r){(!r||r.target===n)&&(!r||/transform$/.test(r.propertyName))&&(n.removeEventListener(a_,e),n._moveCb=null,aS(n,t))})}}))},methods:{hasMove:function(e,t){if(!am)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){ah(n,e)}),ad(n,t),n.style.display="none",this.$el.appendChild(n);var r=aT(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}}),r_.prototype.__patch__=es?aN:K,r_.prototype.$mount=function(e,t){e=e&&es?function(e){if("string"!=typeof e)return e;var t=document.querySelector(e);return t||document.createElement("div")}(e):void 0;var n=this,r=t;n.$el=e,n.$options.render||(n.$options.render=eS),nV(n,"beforeMount"),new nM(n,function(){n._update(n._render(),r)},K,{before:function(){n._isMounted&&!n._isDestroyed&&nV(n,"beforeUpdate")}},!0),r=!1;var a=n._preWatchers;if(a)for(var i=0;i<a.length;i++)a[i].run();return null==n.$vnode&&(n._isMounted=!0,nV(n,"mounted")),n},es&&setTimeout(function(){en.devtools&&ey&&ey.emit("init",r_)},0)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var t=function t(n,r){function a(t,a,i){if("undefined"!=typeof document){"number"==typeof(i=e({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var s in i)i[s]&&(o+="; "+s,!0!==i[s]&&(o+="="+i[s].split(";")[0]));return document.cookie=t+"="+n.write(a,t)+o}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],r={},a=0;a<t.length;a++){var i=t[a].split("="),o=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(r[s]=n.read(o,s),e===s)break}catch(e){}}return e?r[e]:r}},remove:function(t,n){a(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),r=n(649),a=n(616),i=n.n(a);let o="pop_error_id_records",s=["popcustoms.","localhost"],l=[];class u{error_records=[];constructor(){this.error_records=this.getRecords()}getRecords(){let e=t.get(o);return e?JSON.parse(e):[]}updateRecords(e){var n;let r;return this.error_records.find(t=>t.error_id===e)?(console.log(`Error already logged: ${e}`),!0):(console.log(`Error logged: ${e}`),this.error_records.push({error_id:e}),n=JSON.stringify(this.error_records),(r={}).expires=1,"https:"===window.location.protocol&&(r.SameSite="None",r.secure=!0),t.set(o,n,r),!1)}}var c=n(522),d=n.n(c);function h(e,t,n,r,a,i,o,s){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),o?u._ssrRegister=l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)}:a&&(l=s?function(){a.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:u}}let p=h({name:"ErrorTip",props:{type:{required:!0,type:[Number,String]},message:{required:!0,type:String,default:""}}},function(){var e=this._self._c;return e("div",{staticClass:"error-tip"},[400===this.type?e("svg",{staticClass:"icon",attrs:{t:"1654591197765",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2306",width:"200",height:"200"}},[e("path",{attrs:{d:"M423.128 711.528v-53.8H313.704v-44.864l115.992-169.792h43.04v169.608h33.192v45.048h-33.192v53.8h-49.608z m0-98.84V521.32l-61.456 91.368h61.456zM616.992 443.08c25.888 0 46.144 9.24 60.728 27.72 17.384 21.88 26.08 58.176 26.08 108.88 0 50.576-8.752 86.928-26.256 109.056-14.472 18.232-34.656 27.36-60.544 27.36-26.024 0-46.992-10-62.92-30s-23.888-55.656-23.888-106.96c0-50.336 8.76-86.568 26.264-108.696 14.448-18.24 34.64-27.36 60.536-27.36z m0 42.496c-6.2 0-11.736 1.976-16.6 5.928-4.856 3.952-8.632 11.032-11.304 21.248-3.528 13.256-5.288 35.56-5.288 66.936 0 31.368 1.576 52.912 4.744 64.648s7.144 19.544 11.944 23.44 10.304 5.832 16.504 5.832a25.6 25.6 0 0 0 16.592-5.928c4.856-3.952 8.632-11.032 11.304-21.248 3.52-13.128 5.288-35.376 5.288-66.744 0-31.376-1.576-52.92-4.744-64.656-3.168-11.736-7.144-19.576-11.944-23.528a25.232 25.232 0 0 0-16.496-5.928zM824.712 443.08c25.896 0 46.144 9.24 60.736 27.72 17.384 21.88 26.08 58.176 26.08 108.88 0 50.576-8.76 86.928-26.264 109.056-14.472 18.232-34.648 27.36-60.544 27.36-26.016 0-46.992-10-62.912-30-15.928-20-23.888-55.656-23.888-106.96 0-50.336 8.752-86.568 26.256-108.696 14.456-18.24 34.64-27.36 60.536-27.36z m0 42.496c-6.2 0-11.736 1.976-16.592 5.928-4.864 3.952-8.632 11.032-11.304 21.248-3.528 13.256-5.288 35.56-5.288 66.936 0 31.368 1.576 52.912 4.744 64.648 3.16 11.736 7.144 19.544 11.944 23.44 4.8 3.888 10.296 5.832 16.504 5.832s11.736-1.976 16.592-5.928c4.864-3.952 8.632-11.032 11.312-21.248 3.52-13.128 5.288-35.376 5.288-66.744 0-31.376-1.584-52.92-4.744-64.656-3.168-11.736-7.152-19.576-11.944-23.528a25.272 25.272 0 0 0-16.512-5.928z","p-id":"2307"}}),e("path",{attrs:{d:"M893.84 198.04H135.936v624.808h216.776v-46.952H183.904V245h661.984v103.808h47.952V198.04z","p-id":"2308"}})]):this._e(),404===this.type?e("svg",{staticClass:"icon",attrs:{t:"1654591264496",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2600",width:"200",height:"200"}},[e("path",{attrs:{d:"M423.128 711.528v-53.8H313.704v-44.864l115.992-169.792h43.04v169.608h33.192v45.048h-33.192v53.8h-49.608z m0-98.84V521.32l-61.456 91.368h61.456zM616.992 443.08c25.888 0 46.144 9.24 60.728 27.72 17.384 21.88 26.08 58.176 26.08 108.88 0 50.576-8.752 86.928-26.256 109.056-14.472 18.232-34.656 27.36-60.544 27.36-26.024 0-46.992-10-62.92-30s-23.888-55.656-23.888-106.96c0-50.336 8.76-86.568 26.264-108.696 14.448-18.24 34.64-27.36 60.536-27.36z m0 42.496c-6.2 0-11.736 1.976-16.6 5.928-4.856 3.952-8.632 11.032-11.304 21.248-3.528 13.256-5.288 35.56-5.288 66.936 0 31.368 1.576 52.912 4.744 64.648s7.144 19.544 11.944 23.44 10.304 5.832 16.504 5.832a25.6 25.6 0 0 0 16.592-5.928c4.856-3.952 8.632-11.032 11.304-21.248 3.52-13.128 5.288-35.376 5.288-66.744 0-31.376-1.576-52.92-4.744-64.656-3.168-11.736-7.144-19.576-11.944-23.528a25.232 25.232 0 0 0-16.496-5.928zM838.568 711.528v-53.8H729.152v-44.864l115.992-169.792h43.04v169.608h33.184v45.048h-33.184v53.8h-49.616z m0-98.84V521.32l-61.464 91.368h61.464z","p-id":"2601"}}),e("path",{attrs:{d:"M893.84 198.04H135.936v624.808h216.776v-46.952H183.904V245h661.984v103.808h47.952V198.04z","p-id":"2602"}})]):this._e(),e("p",[this._v(" "+this._s(this.message)+" ")])])},[],!1,null,null,null).exports,{axios:f,createAxios:m}=window.popaxios,g=m();class y{constructor(e,t=()=>{},n=()=>{},r=()=>{}){if(this.progress_cb=t,this.error_cb=r,this.success_cb=n,this.cancel=null,Array.isArray(e)&&(e=e.pop()),!y.isFile(e))return this.error_cb("Not a file object");this.upload(e)}async upload(e){this.progress_cb(1,e);try{let t=await this._sign(e),n=t.data.host;await this._upload(t.data,e),e.url=n+"/"+t.data.key,this.success_cb(e)}catch(t){console.error(t),f.isCancel(t)&&(t.message="canceled"),this.error_cb(t),this.progress_cb(0,e)}}_upload(e,t){let n=e.host;delete e.host;let r=new FormData;for(let t in e)r.append(t,e[t]);r.append("Content-Type",t.type),r.append("file",t);let a={timeout:6e5,headers:{"Content-Type":t.type},onUploadProgress:e=>{let n=Math.round(100*e.loaded/e.total);0===n&&(n=1),100===n&&(n=99),this.progress_cb(n,t)},cancelToken:new f.CancelToken(e=>this.cancel=e)};return g.post(n,r,a)}_sign(e){let t={mime:e.type,size:e.size,store_id:e.store_id,dir_name:e.dir,type:e.image_type};return g.post(`${e.api}/api/v1/template_designers/upload_sign`,t,{headers:{Accept:"application/json"}})}cancel(){null!==this.cancel&&this.cancel()}static isFile(e){if("object"!=typeof e)return!1;let t=Object.prototype.toString.call(e);return"[object File]"===t||"[object Blob]"===t}}let{createAxios:_}=window.popaxios,b=_(),A="anZ0zQyFbj7gSuca",w={"x-less-version":0x13501e9},x={noFoundProductTip:{en:"Can't find the product you want to customize!",zh:"",ja:""},back:{en:"Back",zh:"",ja:""},addToCart:{en:"ADD TO CART",zh:"",ja:""},noDesignTip:{en:"Please add all pictures and text to complete the design!",zh:"",ja:""},validateImageSizeTip:{en:"Please upload a file no larger than 15MB!",zh:"15MB",ja:"15MB"},invalidSettingTip:{en:"Something goes wrong with personalization settings. Please contact seller!",zh:"",ja:""}};Object.is("production","production"),Object.is("production","production");let C=e=>window.URL?new window.URL(window.location.href).searchParams.get(e):null,S=h({name:"LessApp",components:{ErrorTip:p},mixins:[{methods:{async uploadImage(e){return this._uploadSampleImage(e)},_uploadSampleImage(e){let t=e.sampleFile;return this._uploadImage(t,"sample").then(t=>{t&&(e.sample=t)})},_uploadImage(e,t){return new Promise((n,r)=>{e.dir="template_designer",e.image_type=t,e.store_id=Number(this.storeId),e.api=this.popApi,new y(e,()=>{},e=>{n(e.url)},e=>{r(e)})})}}},{methods:{async saveProduct(e){let t,n,r=this._getSaveParams(e);return window.popLog?.log("params",r),t=this.popApi,n={...r,hash:this.hash},b.post(`${t}/api/v1/products/template_designers`,{api_key:A,...n},{headers:{...w}})},_getSaveParams(e){return{store_id:Number(this.storeId),product_id:Number(this.productId),sku:this.sku,sample:e.sample,prints_params:JSON.stringify(e.printsParams),design_params:JSON.stringify(e.designParams)}}}},{methods:{$t(e){return x[e][this.commonData.locale]||""}}}],data:()=>({errorType:"",errorMessage:"",commonData:{locale:"zh"},designSettings:null,storeId:"",popApi:"",sku:"",color:"",hash:"",templateDesignSetting:null,modelData:{},designParams:[],fonts:[],lessDesigner:null,isIframeType:!0,saving:!1}),computed:{canShowContent(){return!!this.designSettings&&!!this.popApi&&!!this.storeId&&!!this.sku&&!this.errorType&&!this.errorMessage&&!!this.templateDesignSetting},productId(){return this.designSettings.product_id}},async mounted(){(this.initParams(),await this.receiveMessage(),this.designSettings&&this.popApi&&this.storeId&&this.sku)?(this.init(),window.POPSaveDesign=this.saveDesign,window.POPChangeSku=this.changeSku,window.POPUpdateSample=this.updateSample):this.showNotFoundPageError()},beforeDestroy(){this.removeEventListener()},methods:{initParams(){let e=document.getElementById("popLessAppWrap"),t=e?.dataset;if(t){this.popApi=t.popApi||"",this.storeId=t.storeId||"",this.sku=t.sku||"",this.commonData.locale=t.locale||"en";return}this.popApi=C("pop_api")||"",this.storeId=C("store_id")||"",this.sku=decodeURIComponent(C("sku")||""),this.commonData.locale=C("locale")||"en"},async receiveMessage(){return new Promise((e,t)=>{window.addEventListener("message",n=>{this.listenEvent(n,e,t)})})},listenEvent(e,t,n){let r=e?.data;r?.action==="PopSetDesignSettings"&&(this.setDesignSettings(r?.designSettings),t(!0))},removeEventListener(){window.removeEventListener("message",e=>{this.listenEvent(e,Promise.resolve,Promise.reject)})},setDesignSettings(e){this.designSettings=e,this.isIframeType=e?.integration_type==="iframe"},initSettings(){let e=this.designSettings?.skus[this.sku]||null;if(!e)return window.popLog?.error("sku"),!1;this.color=e.color||"",this.hash=e.hash||"",this.fonts=this.designSettings?.fonts;let t=e.design_setting_index||0,n=(this.designSettings?.design_settings||[])[t];if(!n)return window.popLog?.error(""),!1;if(this.templateDesignSetting=n.template_designer_setting||null,!this.templateDesignSetting)return window.popLog?.error(""),!1;if(this.designParams=n.design_params||null,!this.designParams||this.designParams?.length===0)return window.popLog?.error(""),!1;let r=this.getModelKey();window.popLog?.log("models key",r);let a=this.designSettings?.models[r]||null;return a&&a?.length!==0?(this.modelData=this.formateModelData(a),!0):(window.popLog?.error(""),!1)},formateModelData(e){let t=[...e];if(this.isIframeType){for(let e of t)e.colors=e.colors.filter(e=>e.color.name===this.color);t=t.filter(e=>e.colors?.[0]?.color?.name===this.color)}let n=t?.[0].colors.map(e=>e.color);return this.isIframeType&&(n=n.filter(e=>e.name===this.color)),{models:t,colors:n}},init(){let e=this.initSettings();(window.popLog?.log("isValidSetting",e),this._postMessage("PopAppLoaded",{status:!0}),(({hash:e,storeId:t})=>{window?.posthog?.identify?.("template-"+e+"-"+(e=>{let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t})(10),{store_id:t})})({hash:this.productId,storeId:this.storeId}),e)?this.$nextTick(()=>{this.initLessDesigner()}):this.showNotFoundPageError()},async _getHash(e){try{let t,n,r=await (t=e.api_url,n={store_id:e.store_id,sku:e.sku},b.get(`${t}/api/v1/products/template_designers/hash`,{params:{api_key:A,...n},headers:{...w}}));this.hash=r.data.data.hash}catch(e){throw e}},showNotFoundPageError(){this.errorType=404,this.errorMessage=this.$t("noFoundProductTip")},updatePageError(e){window.popLog?.log("error",[e]),this.errorType=e?.code||404,this.errorMessage=e?.response?.data?.message||e?.message||this.$t("noFoundProductTip")},getModelKey(){let e="standard",t="";return this.designParams.length&&(e=this.designParams?.[0]?.TEMPLATE_MODE||"standard",t=this.designParams?.[0]?.TEMPLATE_VERSION||""),`${e}${t}`},initLessDesigner(){let e={templateDesignConfig:this.templateDesignSetting,designParams:this.designParams,modelData:this.modelData,modelColor:this.color};window.popLog?.log("initLessDesigner params",e);let t=new(d())({id:"#LessDesignerWrap",props:{...e,designInfo:{name:""},designerConfig:{version:0x13501e9,apiPrefix:`${this.popApi}/api/v1`,designerApiPrefix:"https://i.popcustoms.com/3ddesigner/api",cutfaceApiPrefix:"https://cutface.popcustoms.com",locale:this.commonData.locale,fonts:this.fonts,canShowCloseButton:!1,canShowSaveButton:!0,saveButtonType:"addToCart",canShowPreviewStep:!0,canvasSize:window.POP_CANVAS_SIZE||1e3,canShowPlayground:!this.isIframeType},showMessage:e=>{"error"===e.type&&this.$message.error(e.message),"warning"===e.type&&this.$message.warning(e.message)},onSave:e=>{this._saveDesign(e)},onPreview:e=>{window.popLog?.log("onPreview",e),this._postMessage("PopPreviewSample",{sample:e.sample})},onGeneratingPreview:e=>{this._postMessage("PopGeneratingSamplePreview",{status:e})}}});this.lessDesigner=t,window.popLog?.log("lessDesigner",t)},async _saveDesign(e){if(window.popLog?.log("saveData",e),!e?.sampleFile)return;let t=()=>{this.lessDesigner.resetSaveLoading&&this.lessDesigner.resetSaveLoading()};try{await this._getHash({api_url:this.popApi,store_id:this.storeId,sku:this.sku}),await this.uploadImage(e),await this.saveProduct(e);let t=e.sample;this._postProductCustomizedMessage({hash:this.hash,sample:t})}catch(e){window.popLog?.log("error",[e]),this.$message.error(e?.response?.data?.message||e.message||"")}finally{t()}},async changeSku(e){try{this.sku=e,this.initSettings(),this.color||alert(""),await this._getHash({api_url:this.popApi,store_id:this.storeId,sku:this.sku}),this.lessDesigner?.changeColor(this.color)}catch(e){this.$message.error(e.message||""),window.popLog?.error(e)}},async saveDesign(){if(!this.lessDesigner||this.saving)return;this.saving=!0;let e=null;try{e=await this.lessDesigner?.saveParams()}catch(e){if("AbortError"===e.name)return;window.popLog?.error("saveParams error",e),this.$message.error(e.message||"");return}finally{this.saving=!1}window.popLog?.log("saveParams success",e),await this._saveDesign(e)},updateSample(){this.lessDesigner&&this.lessDesigner?.updateSample?.()},_postMessage(e,t){window.parent.postMessage({action:e,...t},"*")},_postProductCustomizedMessage(e){this._postMessage("PopProductCustomized",e)}}},function(){var e=this._self._c;return e("div",{staticClass:"less-app",class:{"insert-type-style":!this.isIframeType}},[this.canShowContent?e("div",{staticClass:"less-designer",attrs:{id:"LessDesignerWrap"}}):this._e()])},[],!1,null,"7051414c",null).exports,k=h({name:"App",components:{LessApp:S}},function(){return(0,this._self._c)("LessApp")},[],!1,null,null,null).exports;var E=n(224),T=n.n(E);let O=new class{options={report_url:"https://i.popcustoms.com/api/v1/report"};error_id_recorder=null;constructor(){this.error_id_recorder=new u}init(){this.handleJsError(),this.handlePromiseError(),this.handleVueError()}getCircularReplacer(){let e=[];return function(t,n){if("object"!=typeof n||null===n)return n;for(;e.length>0&&e.at(-1)!==this;)e.pop();return e.includes(n)?"[Circular]":(e.push(n),n)}}getPageInfo(){let{href:e}=window.location,{width:t,height:n}=window.screen,{userAgent:r}=navigator,{referrer:a}=document;return{url:e,user_agent:r,referrer:a,performance:{memory:window?.performance?.memory??"Unknown"},window_screen:`${t}x${n}`,document_screen:`${document.documentElement.clientWidth||document.body.clientWidth}x${document.documentElement.clientHeight||document.body.clientHeight}`}}async reportError(e){let t=e.error_id;if(this.error_id_recorder.updateRecords(t))return;let n={...e,page_info:this.getPageInfo()};window.POPAXIOS_REQUESTS?.join&&(n.requests=window.POPAXIOS_REQUESTS);let r=this.getBabylonLogs();r&&(n.babylonjs=r),void 0!==window.SUPPORT_WEBGL2&&(n.support_webgl2=window.SUPPORT_WEBGL2);let a=JSON.stringify(n,this.getCircularReplacer()),i=new FormData;i.append("json",a),window.navigator.sendBeacon(this.options.report_url,i)}getBabylonLogs(){return"string"!=typeof window?.BABYLON?.Logger?._LogCache?"":(window?.BABYLON?.Logger?._LogCache.split("<br>")).filter(e=>e&&!e.includes("Babylon.js v")).join("\n")}isValid(e){if(!e||!e.stack)return!1;for(let t of l)if(e.stack.includes(t)||e?.message?.includes?.(t))return!1;for(let t of s)if(e.stack.includes(t))return!0;return!1}handleError({error:e,mechanism_type:t,extra_params:n={}}){var r;if(!this.isValid(e))return;let a={mechanism_type:t,value:e?.message,type:e&&e.name||"Unknown",stack:e?.stack,error_id:(r=e?.stack,i().hash(r||"").toString()),...n};this.reportError(a)}handleJsError(){window.addEventListener("error",e=>(console.error("js error",e),this.handleError({error:e?.error,mechanism_type:"js"})),!0)}handlePromiseError(){window.addEventListener("unhandledrejection",e=>(console.error("unhandledrejection error",e),this.handleError({error:{message:e?.reason?.message||e?.reason,name:e?.reason?.name,stack:e?.reason?.stack},mechanism_type:"unhandledrejection"})),!0)}vueErrorHandler(e,t,n){console.error("vue error",e,t,n);let r=t.$options.name||"<Anonymous>";this.handleError({error:e,mechanism_type:"vue",extra_params:{vue_data:{component_name:r,data:t.$data,props:t.$props}}})}handleVueError(){r.default.config.errorHandler=this.vueErrorHandler}};O.init(),r.default.use(T());let P=new r.default({render:e=>e(k),errorCaptured:(e,t,n)=>(O.vueErrorHandler(e,t,n),!1)});document.getElementById("popTemplateDesignerApp")&&P.$mount("#popTemplateDesignerApp"),window.POPTemplateDesignerVue=P})()})();